(this["webpackJsonpadultletics-admin"]=this["webpackJsonpadultletics-admin"]||[]).push([[0],{103:function(e,t,n){e.exports=n(188)},108:function(e,t,n){},188:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(53),i=(n(108),n(46)),o=n(21),u=n(20),c=n.n(u),s=n(26),m=n(2),d=n.n(m),g=n(58),p=n.n(g),b=(n(114),n(4)),f=n.n(b),E=n(17);function h(e){var t=e.children,n=Object(E.a)(),l=Object(a.useContext)(ce.Auth),i=l.updateAuth,o=l.authUser,u=l.uid,m=l.isAuthenticated;return Object(a.useEffect)((function(){u&&u!==f.a.get(o,"uid","")&&Object(s.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.query({query:ue.auth.getUser,variables:{uid:u}});case 2:t=e.sent,a=f.a.get(t,"data.users_by_pk"),i({authUser:a});case 5:case"end":return e.stop()}}),e)})))()}),[u]),Object(a.useEffect)((function(){i({signIn:function(){var e=Object(s.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.auth().signInWithEmailAndPassword(t,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),signOut:function(){return p.a.auth().signOut()}}),p.a.auth().onAuthStateChanged(function(){var e=Object(s.a)(c.a.mark((function e(t){var n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i({isAuthenticating:!0}),!t){e.next=12;break}return e.next=4,t.getIdToken();case 4:return n=e.sent,e.next=7,t.getIdTokenResult();case 7:a=e.sent,a.claims["https://hasura.io/jwt/claims"]&&i({token:n,uid:t.uid}),e.next=13;break;case 12:i({authUser:{},token:null,uid:""});case 13:i({isAuthenticating:!1});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(a.useEffect)((function(){f.a.isEmpty(o)&&!1!==m&&i({isAuthenticated:!1}),f.a.isEmpty(o)||!0===m||i({isAuthenticated:!0})}),[o]),r.a.createElement(r.a.Fragment,null,t&&t)}p.a.initializeApp({apiKey:"AIzaSyD9LoUcLzcnKOSqUKvqb1rTwM1gJU5D_tc",authDomain:"adultletics-admin.firebaseapp.com",databaseURL:"https://adultletics-admin.firebaseio.com",projectId:"adultletics-admin"}),h.propTypes={children:d.a.node};var v=n(34),k=n(51),y=n(75);function w(){var e=ce.UI,t=ce.Auth,n=Object(a.useState)({panel:{},openPanel:function(e){return c((function(t){return Object(i.a)({},t,{panel:e})}))},closePanel:function(){return c((function(e){return Object(i.a)({},e,{panel:{}})}))},notifications:[{}],addNotification:function(){}}),l=Object(o.a)(n,2),u=l[0],c=l[1],s=Object(a.useContext)(t).isAuthenticated;return r.a.createElement(r.a.Fragment,null,r.a.createElement(e.Provider,{value:u},r.a.createElement(v.a,null,r.a.createElement(V,null),r.a.createElement(y.a,{background:"tint1",minHeight:"100vh"},r.a.createElement(M,null),r.a.createElement("div",{className:"v-router"},s&&r.a.createElement(k.c,null,r.a.createElement(k.a,{path:"/drills/:id?"},r.a.createElement(je,null)),r.a.createElement(k.a,{path:"/workouts/:id?"},r.a.createElement(Ee,null)),r.a.createElement(k.a,{path:"/weeks/:id?"},r.a.createElement(ke,null)),r.a.createElement(k.a,{path:"/"},r.a.createElement(ge,null))))))))}var _=n(31),j=n(98);function O(e){var t=e.children,n=Object(a.useContext)(ce.Auth).token,l=new j.a({uri:"https://adultletics-hasura.herokuapp.com/v1/graphql",headers:n?{Authorization:"Bearer ".concat(n)}:{}});return r.a.createElement(_.a,{client:l},t)}function x(){var e=ce.Auth,t=Object(a.useState)({authUser:{},token:"",uid:"",isAuthenticating:!1,isAuthenticated:!1,updateAuth:function(e){return u((function(t){return Object(i.a)({},t,{},e)}))},signIn:function(){},signOut:function(){}}),n=Object(o.a)(t,2),l=n[0],u=n[1];return r.a.createElement("div",{className:"App"},r.a.createElement(e.Provider,{value:l},r.a.createElement(O,null,r.a.createElement(h,null,r.a.createElement(w,null)))))}var C=n(210),A=n(213),B=n(96),I=n(36);var S=n(42);var U=n(211),$=n(202),F=n(203),D=n(204);var P=n(205);var R=n(206),W=n(201);var T={"auth/sign-in":function(){var e=Object(a.useContext)(ce.Auth),t=e.isAuthenticating,n=e.signIn,l=Object(a.useContext)(ce.UI).closePanel,i=Object(a.useState)(null),u=Object(o.a)(i,2),m=u[0],d=u[1];return r.a.createElement(I.a,{initialValues:{},onSubmit:function(){var e=Object(s.a)(c.a.mark((function e(t){var a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,r=t.password,d(null),e.prev=2,e.next=5,n(a,r);case 5:l(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0),d(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}()},(function(e){var n=e.values,a=e.handleChange,l=e.handleSubmit,i=e.isSubmitting;return r.a.createElement("form",null,r.a.createElement(A.a,{label:"Email",type:"email",name:"email",onChange:a,autoFocus:!0}),r.a.createElement(A.a,{label:"Password",type:"password",name:"password",onChange:a}),r.a.createElement(B.a,{isLoading:t||i,disabled:!n.email||!n.password,onClick:l},"Log In"),m&&r.a.createElement("p",null,m))}))},"drills/add":function(){var e=Object(E.b)(ue.drills.add,{refetchQueries:[{query:ue.drills.getAll}],awaitRefetchQueries:!0}),t=Object(o.a)(e,1)[0],n=Object(a.useContext)(ce.UI).closePanel,l=Object(a.useState)(null),i=Object(o.a)(l,2),u=i[0],m=i[1];return r.a.createElement(I.a,{initialValues:{},onSubmit:function(){var e=Object(s.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(null),console.log(a),e.prev=2,e.next=5,t({variables:{objects:[a]}});case 5:n(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0),m(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}()},(function(e){var t=e.values,n=e.dirty,a=e.handleChange,l=e.handleSubmit,i=e.isSubmitting;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",null,r.a.createElement(A.a,{label:"Title",name:"title",onChange:a,autoFocus:!0}),r.a.createElement(A.a,{label:"Url, must be the embed URL from youtube",name:"url",placeholder:"https://www.youtube-nocookie.com/embed/nPMB8PZE9F8",onChange:a}),r.a.createElement(B.a,{iconBefore:i?"":"tick",isLoading:i,disabled:!n||!t.title||!t.url,onClick:l},"Add"),u&&r.a.createElement("p",null,u)),r.a.createElement(y.a,{marginTop:24},r.a.createElement(S.a,null,'To find embed URL: go to the YouTube page, click on Share just below the video display, click on Embed in the pop-up, then select "Enable privacy-enhanced mode" and finally copy the quoted part of the text following "src=" in the text to the right, should look something like "https://www.youtube-nocookie.com/embed/nPMB8PZE9F8"')))}))},"drills/edit":function(e){var t=e.props.id,n=Object(E.c)(ue.drills.getOne,{variables:{id:t}}),l=n.data,i=n.loading,u=Object(E.b)(ue.drills.add,{refetchQueries:[{query:ue.drills.getOne,variables:{id:t}}],awaitRefetchQueries:!0}),m=Object(o.a)(u,1)[0],d=Object(a.useContext)(ce.UI).closePanel,g=Object(a.useState)(null),p=Object(o.a)(g,2),b=p[0],h=p[1];if(i)return null;var v=f.a.get(l,"drills_by_pk"),k=f.a.get(v,"title"),w=f.a.get(v,"url");return r.a.createElement(I.a,{initialValues:{title:k,url:w},onSubmit:function(){var e=Object(s.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(null),console.log(n),e.prev=2,e.next=5,m({variables:{id:t,data:n}});case 5:d(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0),h(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),enableReinitialize:!0},(function(e){var t=e.values,n=e.dirty,a=e.handleChange,l=e.handleSubmit,i=e.isSubmitting;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",null,r.a.createElement(A.a,{label:"Title",name:"title",value:t.title,onChange:a,autoFocus:!0}),r.a.createElement(A.a,{label:"Url, must be the embed URL from youtube",name:"url",value:t.url,placeholder:"https://www.youtube-nocookie.com/embed/nPMB8PZE9F8",onChange:a}),r.a.createElement(B.a,{iconBefore:i?"":"tick",isLoading:i,disabled:!n||!t.title||!t.url,onClick:l},"Update"),b&&r.a.createElement("p",null,b)),r.a.createElement(y.a,{marginTop:24},r.a.createElement(S.a,null,'To find embed URL: go to the YouTube page, click on Share just below the video display, click on Embed in the pop-up, then select "Enable privacy-enhanced mode" and finally copy the quoted part of the text following "src=" in the text to the right, should look something like "https://www.youtube-nocookie.com/embed/nPMB8PZE9F8"')))}))},"workouts/add":function(){var e=Object(E.b)(ue.workouts.addWorkout,{refetchQueries:[{query:ue.workouts.getAll}],awaitRefetchQueries:!0}),t=Object(o.a)(e,1)[0],n=Object(a.useContext)(ce.Auth).authUser,l=Object(a.useContext)(ce.UI).closePanel,i=Object(a.useState)(null),u=Object(o.a)(i,2),m=u[0],d=u[1],g=de.intensityOptions,p=de.workoutTypes;return r.a.createElement(I.a,{initialValues:{running_km:0,running_minutes:0,intensity:"3"},onSubmit:function(){var e=Object(s.a)(c.a.mark((function e(a){var r,i,o,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.title,i=a.body,o=a.running_km,u=a.running_minutes,d(null),e.prev=2,e.next=5,t({variables:{objects:[{title:r,versions:{data:{version_num:1,_owner:n.id,body:i,stats:{data:{running_km:o,running_minutes:u}}}}}]}});case 5:l(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0),d(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}()},(function(e){var t=e.values,n=e.dirty,a=e.handleChange,l=e.handleSubmit,i=e.isSubmitting,o=e.setFieldValue;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",null,r.a.createElement(A.a,{label:"Workout Title",name:"title",onChange:a,autoFocus:!0}),r.a.createElement(U.a,{label:"Workout Intensity",onChange:function(e){return o("intensity",e.target.value)},marginBottom:16},r.a.createElement(y.a,{display:"flex",flexDirection:"row",justifyContent:"space-between"},f.a.map(g,(function(e){var n=e.label,a=e.value;return r.a.createElement($.a,{key:a,name:"intensity",value:a,label:n,checked:a===t.intensity})})))),r.a.createElement(U.a,{label:"Workout Type",marginBottom:16},r.a.createElement(F.a,{name:"type",value:t.type,onChange:a,height:32},r.a.createElement("option",{key:"empty",value:""},"Please select an option..."),p&&f.a.map(p,(function(e){var t=e.value,n=e.label;return r.a.createElement("option",{key:t,value:t},n)})))),r.a.createElement(U.a,{label:"Workout Description",marginBottom:16},r.a.createElement(D.a,{name:"body",onChange:a})),r.a.createElement(A.a,{label:"Total Running KM",name:"running_km",type:"number",onChange:a}),r.a.createElement(A.a,{label:"Total Running Minutes",name:"running_minutes",type:"number",onChange:a}),r.a.createElement(B.a,{iconBefore:i?"":"tick",isLoading:i,disabled:!n||!t.title,onClick:l},"Add"),m&&r.a.createElement("p",null,m)))}))},"workouts/add-version":function(e){var t=e.props,n=t.id,l=t.workoutId,u=Object(E.c)(ue.workouts.getOne,{variables:{id:l}}),m=u.data,d=u.loading,g=Object(E.c)(ue.workouts.getVersion,{variables:{id:n}}),p=g.data,b=g.loading,h=Object(E.b)(ue.workouts.addVersion,{refetchQueries:[{query:ue.workouts.getOne,variables:{id:l}}],awaitRefetchQueries:!0}),v=Object(o.a)(h,1)[0],k=Object(a.useContext)(ce.UI).closePanel,w=Object(a.useContext)(ce.Auth).authUser,_=Object(a.useState)(null),j=Object(o.a)(_,2),O=j[0],x=j[1];if(b||d)return null;var C=f.a.get(p,"workouts_versions_by_pk"),S=f.a.reduce(f.a.get(m,"workouts_by_pk.versions"),(function(e,t){return t.version_num>e?t.version_num:e}),0)+1,$={body:f.a.get(C,"body"),running_km:f.a.get(C,"stats.running_km",0),running_minutes:f.a.get(C,"stats.running_minutes",0)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{marginBottom:56},r.a.createElement(P.a,{size:600},"Adding a new version of workout: ",f.a.get(C,"workout.title",""))),r.a.createElement(I.a,{initialValues:Object(i.a)({},$),onSubmit:function(){var e=Object(s.a)(c.a.mark((function e(t){var n,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.body,a=t.running_km,r=t.running_minutes,x(null),e.prev=2,e.next=5,v({variables:{objects:[{body:n,version_num:S,_workout:l,_owner:w.id,stats:{data:{running_km:a,running_minutes:r}}}]}});case 5:k(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0),x(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}()},(function(e){var t=e.values,n=e.dirty,a=e.handleChange,l=e.handleSubmit,i=e.isSubmitting;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",null,r.a.createElement(U.a,{label:"Workout Description",marginBottom:8},r.a.createElement(D.a,{name:"body",value:t.body,onChange:a})),r.a.createElement(A.a,{label:"Total Running KM",name:"running_km",type:"number",value:t.running_km,onChange:a}),r.a.createElement(A.a,{label:"Total Running Minutes",name:"running_minutes",type:"number",value:t.running_minutes,onChange:a}),r.a.createElement(B.a,{iconBefore:i?"":"tick",isLoading:i,disabled:!n,onClick:l},"Add"),O&&r.a.createElement("p",null,O)))})))},"workouts/edit":function(e){var t=e.props.id,n=Object(E.c)(ue.workouts.getVersion,{variables:{id:t}}),l=n.data,u=n.loading,m=Object(E.b)(ue.workouts.updateVersion,{refetchQueries:[{query:ue.workouts.getVersion,variables:{id:t}}],awaitRefetchQueries:!0}),d=Object(o.a)(m,1)[0],g=Object(a.useContext)(ce.UI).closePanel,p=Object(a.useState)(null),b=Object(o.a)(p,2),h=b[0],v=b[1],k=de.intensityOptions,w=de.workoutTypes;if(u)return null;var _=f.a.get(l,"workouts_versions_by_pk"),j={body:f.a.get(_,"body"),title:f.a.get(_,"workout.title",""),running_km:f.a.get(_,"stats.running_km",0),running_minutes:f.a.get(_,"stats.running_minutes",0),intensity:f.a.get(_,"workout.intensity","3"),type:f.a.get(_,"workout.type","")};return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{marginBottom:56},r.a.createElement(P.a,{size:600},"Editing version ",f.a.get(_,"version_num")," of workout: ",f.a.get(_,"workout.title",""))),r.a.createElement(I.a,{initialValues:Object(i.a)({},j),onSubmit:function(){var e=Object(s.a)(c.a.mark((function e(n){var a,r,l,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.title,r=n.body,l=n.running_km,i=n.running_minutes,v(null),e.prev=2,e.next=5,d({variables:{version_id:t,workout_id:f.a.get(_,"workout.id"),stats_id:f.a.get(_,"stats.id"),body:r,title:a,stats_data:{running_minutes:i,running_km:l}}});case 5:g(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0),v(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}()},(function(e){var t=e.values,n=e.dirty,a=e.handleChange,l=e.handleSubmit,i=e.isSubmitting,o=e.setFieldValue;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",null,r.a.createElement(A.a,{label:"Workout Title (effects all versions)",name:"title",value:t.title,onChange:a,autoFocus:!0}),r.a.createElement(U.a,{label:"Workout Intensity (effects all versions)",onChange:function(e){return o("intensity",e.target.value)},marginBottom:16},r.a.createElement(y.a,{display:"flex",flexDirection:"row",justifyContent:"space-between"},f.a.map(k,(function(e){var n=e.label,a=e.value;return r.a.createElement($.a,{key:a,name:"intensity",value:a,label:n,checked:a===t.intensity})})))),r.a.createElement(U.a,{label:"Workout Type (effects all versions)",marginBottom:16},r.a.createElement(F.a,{name:"type",value:t.type,onChange:a,height:32},r.a.createElement("option",{key:"empty",value:""},"Please select an option..."),w&&f.a.map(w,(function(e){var t=e.value,n=e.label;return r.a.createElement("option",{key:t,value:t},n)})))),r.a.createElement(U.a,{label:"Workout Description",marginBottom:16},r.a.createElement(D.a,{name:"body",value:t.body,onChange:a})),r.a.createElement(A.a,{label:"Total Running KM",name:"running_km",type:"number",value:t.running_km,onChange:a}),r.a.createElement(A.a,{label:"Total Running Minutes",name:"running_minutes",type:"number",value:t.running_minutes,onChange:a}),r.a.createElement(B.a,{iconBefore:i?"":"tick",isLoading:i,disabled:!n,onClick:l},"Update"),h&&r.a.createElement("p",null,h)))})))},"workouts/edit-drills":function(e){var t=e.props.id,n=Object(E.c)(ue.workouts.getVersion,{variables:{id:t}}),l=n.data,u=n.loading,m=Object(E.c)(ue.drills.getAll),d=m.data,g=m.loading,p=Object(E.b)(ue.workouts.addDrill,{refetchQueries:[{query:ue.workouts.getVersion,variables:{id:t}}],awaitRefetchQueries:!0}),b=Object(o.a)(p,1)[0],h=Object(E.b)(ue.workouts.removeDrill,{refetchQueries:[{query:ue.workouts.getVersion,variables:{id:t}}],awaitRefetchQueries:!0}),v=Object(o.a)(h,1)[0],k=Object(a.useState)(null),w=Object(o.a)(k,2),_=w[0],j=w[1];if(u||g)return null;var O=f.a.get(l,"workouts_versions_by_pk"),x=f.a.get(O,"drills",[]),C=f.a.map(x,(function(e){return Object(i.a)({workoutsDrillId:e.id},e.drill)})),A=f.a.get(d,"drills"),U=f.a.filter(A,(function(e){return!f.a.some(C,["id",e.id])}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{marginBottom:56},r.a.createElement(P.a,{size:600},"Editing Drills for Version ",f.a.get(O,"version_num")," of workout: ",f.a.get(O,"workout.title",""))),r.a.createElement(y.a,{display:"flex",flexDirection:"row"},r.a.createElement(y.a,{width:"50%"},r.a.createElement(I.a,{initialValues:{},onSubmit:function(){var e=Object(s.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.drill,j(null),e.prev=2,e.next=5,b({variables:{objects:[{_drill:n,_workouts_version:f.a.get(O,"id")}]}});case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0),j(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},(function(e){var t=e.values,n=e.dirty,a=e.handleChange,l=e.handleSubmit,i=e.isSubmitting;return r.a.createElement(r.a.Fragment,null,r.a.createElement("form",null,r.a.createElement(y.a,{marginBottom:16},r.a.createElement(P.a,null,"Add Drills to Workout:")),r.a.createElement(y.a,{marginBottom:8,display:"flex",justifyContent:"space-between"},r.a.createElement(F.a,{name:"drill",value:t.drill,onChange:a,height:32},r.a.createElement("option",{key:"empty",value:""},"Please select an option..."),U&&f.a.map(U,(function(e){var t=e.id,n=e.title;return r.a.createElement("option",{key:t,value:t},n)}))),r.a.createElement(B.a,{iconBefore:i?"":"tick",isLoading:i,disabled:!n,onClick:l},"Add")),r.a.createElement(y.a,null,_&&r.a.createElement("p",null,_))))}))),r.a.createElement(y.a,{width:"50%"},r.a.createElement(y.a,{marginBottom:16},r.a.createElement(P.a,null,"Selected drills:")),r.a.createElement(y.a,null,f.a.isEmpty(C)?r.a.createElement(W.a,null,"No drills selected"):f.a.map(C,(function(e){var t=e.id,n=e.title,a=e.workoutsDrillId;return r.a.createElement(y.a,{display:"flex",flexDirection:"row",elevation:1,height:32,alignItems:"center",background:"white",marginBottom:16,key:t,paddingLeft:16,paddingRight:8},r.a.createElement(S.a,{flex:1},n),r.a.createElement(R.a,{icon:"small-cross",intent:"danger",appearance:"minimal",onClick:function(){return v({variables:{id:a}})}}))}))))))}},L={wide:930,normal:620};function V(){var e=Object(a.useContext)(ce.UI),t=e.panel,n=e.closePanel,l=!f.a.isEmpty(t),i=T[f.a.get(t,"panel",!1)],o=f.a.get(t,"props",{}),u=L[f.a.get(t,"size","normal")];return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{isShown:l,onCloseComplete:n,preventBodyScrolling:!0,width:u},r.a.createElement("div",{className:"v-panel"},l&&i&&r.a.createElement(i,{props:o}))))}var q=n(207),z=n(208),Q=n(212);function M(){var e=Object(k.f)(),t=Object(k.g)().pathname,n=Object(a.useContext)(ce.UI).openPanel,l=Object(a.useContext)(ce.Auth),i=l.isAuthenticated,o=l.authUser,u=l.signOut;return r.a.createElement("div",{className:"c-top-nav"},r.a.createElement(y.a,{display:"flex",height:78,alignItems:"center"},r.a.createElement(y.a,{alignItems:"center",justifyContent:"center",marginLeft:24},r.a.createElement(P.a,{size:200},"Adultletics Admin Panel")),r.a.createElement(y.a,{display:"flex",flex:1,justifyContent:"space-between",paddingLeft:16},r.a.createElement(y.a,{alignItems:"center"},r.a.createElement(q.a,{alignItems:"center"},f.a.map([{name:"Home",route:"/"},{name:"Workouts",route:"/workouts"},{name:"Weeks",route:"/weeks"},{name:"Drills",route:"/drills"}],(function(n){var a=n.name,l=n.route;return r.a.createElement(z.a,{key:l,id:l,onSelect:function(){return e.push(l)},isSelected:"/"===l?t===l:t.startsWith(l),"aria-controls":"panel-".concat(a),height:40},a)})))),r.a.createElement(y.a,{display:"flex",alignItems:"center",paddingRight:16},i?r.a.createElement(B.a,{marginRight:16,onClick:u},"Log Out"):r.a.createElement(B.a,{marginRight:16,onClick:function(){return n({panel:"auth/sign-in"})}},"Log In"),r.a.createElement(Q.a,{name:o.first_name,size:40})))))}var N=n(38),K=n(32),H=n.n(K);function Z(){var e=Object(N.a)(["\n\tmutation deleteWorkoutsDrills ( $id: uuid! ) {\n\t\tdelete_workouts_drills( where: { id: { _eq: $id }}) {\n\t\t\treturning { id }\n\t\t}\n\t}\n"]);return Z=function(){return e},e}function J(){var e=Object(N.a)(["\n\tmutation insertWorkoutsDrills ( $objects: [workouts_drills_insert_input!]! ) {\n\t\tinsert_workouts_drills( objects: $objects ) {\n\t\t\treturning { id }\n\t\t}\n\t}\n"]);return J=function(){return e},e}function Y(){var e=Object(N.a)(["\n\tmutation updateWorkoutVersion ( $version_id: uuid!, $stats_id: uuid!, $workout_id: uuid!, $body: String!, $title: String!, $stats_data: workouts_stats_set_input! ) {\n\t\tupdate_workouts_versions( where: { id: { _eq: $version_id }}, _set: { body: $body }) {\n\t\t\treturning { id }\n\t\t}\n\t\tupdate_workouts_stats( where: { id: { _eq: $stats_id }}, _set: $stats_data ) {\n\t\t\treturning { id }\n\t\t}\n\t\tupdate_workouts( where: { id: { _eq: $workout_id }}, _set: { title: $title }) {\n\t\t\treturning { id }\n\t\t}\n\t}\n"]);return Y=function(){return e},e}function G(){var e=Object(N.a)(["\n\tmutation insertWorkoutVersion ( $objects: [workouts_versions_insert_input!]! ) {\n\t\tinsert_workouts_versions ( objects: $objects ) {\n\t\t\treturning { id }\n\t\t}\n\t}\n"]);return G=function(){return e},e}function X(){var e=Object(N.a)(["\n\tmutation insertWorkout ( $objects: [workouts_insert_input!]! ) {\n\t\tinsert_workouts ( objects: $objects ) {\n\t\t\treturning { id }\n\t\t}\n\t}\n"]);return X=function(){return e},e}function ee(){var e=Object(N.a)(["\n\tquery getWorkout ( $id: uuid! ) {\n\t\tworkouts_versions_by_pk ( id: $id ) {\n\t\t\tid body\n\t\t\tversion_num\n\t\t\towner {\n\t\t\t\tfirst_name\n\t\t\t}\n\t\t\tdrills {\n\t\t\t\tid\n\t\t\t\tdrill {\n\t\t\t\t\ttitle id\n\t\t\t\t}\n\t\t\t}\n\t\t\tstats {\n\t\t\t\tid\n\t\t\t\trunning_km\n\t\t\t\trunning_minutes\n\t\t\t}\n\t\t\tworkout {\n\t\t\t\tid title type\n                intensity\n\t\t\t}\n\t\t}\n\t}\n"]);return ee=function(){return e},e}function te(){var e=Object(N.a)(["\n\tquery getWorkout ( $id: uuid! ) {\n\t\tworkouts_by_pk( id: $id ) {\n\t\t\tid title type\n            intensity\n\t\t\tversions ( order_by: { version_num: asc } ){\n\t\t\t\tid body\n\t\t\t\tversion_num\n\t\t\t\towner {\n\t\t\t\t\tfirst_name\n\t\t\t\t}\n\t\t\t\tdrills {\n\t\t\t\t\tid\n\t\t\t\t\tdrill {\n\t\t\t\t\t\ttitle id\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstats {\n\t\t\t\t\trunning_km id\n\t\t\t\t\trunning_minutes\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n"]);return te=function(){return e},e}function ne(){var e=Object(N.a)(["\n\tquery getWorkouts {\n\t\tworkouts {\n\t\t\tid title type intensity\n\t\t}\n\t}\n"]);return ne=function(){return e},e}function ae(){var e=Object(N.a)(["\n\tmutation updateDrills ( $id: uuid!, $data: drills_set_input! ) {\n\t\tupdate_drills( where: { id: { _eq: $id }}, _set: $data ) {\n\t\t\treturning { id }\n\t\t}\n\t}\n"]);return ae=function(){return e},e}function re(){var e=Object(N.a)(["\n\tmutation insertDrills ( $objects: [drills_insert_input!]! ) {\n\t\tinsert_drills ( objects: $objects ) {\n\t\t\treturning { id }\n\t\t}\n\t}\n"]);return re=function(){return e},e}function le(){var e=Object(N.a)(["\n\tquery getAllDrills ( $id: uuid! ) {\n\t\tdrills_by_pk ( id: $id ) {\n\t\t\tid title url\n\t\t\tworkouts_drills {\n\t\t\t\tworkouts_version {\n\t\t\t\t\tworkout { title }\n\t\t\t\t\tversion_num\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n"]);return le=function(){return e},e}function ie(){var e=Object(N.a)(["\n\tquery getAllDrills {\n\t\tdrills ( order_by: { title: asc }) {\n\t\t\tid title url\n\t\t}\n\t}\n"]);return ie=function(){return e},e}function oe(){var e=Object(N.a)(["\n\tquery getUser ( $uid: String! ) {\n\t\tusers_by_pk( uid: $uid ) {\n\t\t\temail first_name id\n\t\t}\n\t}\n"]);return oe=function(){return e},e}var ue={auth:{getUser:H()(oe())},drills:{getAll:H()(ie()),getOne:H()(le()),add:H()(re()),update:H()(ae())},workouts:{getAll:H()(ne()),getOne:H()(te()),getVersion:H()(ee()),addWorkout:H()(X()),addVersion:H()(G()),updateVersion:H()(Y()),addDrill:H()(J()),removeDrill:H()(Z())}},ce={Auth:Object(a.createContext)({authUser:{},token:"",uid:"",isAuthenticating:!1,isAuthenticated:!1,updateAuth:function(){},signIn:function(){},signOut:function(){}}),UI:Object(a.createContext)({panel:{},openPanel:function(){},closePanel:function(){},notifications:[{}],addNotification:function(){}})},se=n(191);function me(){return r.a.createElement(y.a,{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},r.a.createElement(se.a,null))}var de={intensityOptions:[{label:"Recovery",value:"1"},{label:"Low",value:"2"},{label:"Normal",value:"3"},{label:"High",value:"4"},{label:"V High",value:"5"}],workoutTypes:[{label:"HIIT",value:"hiit"},{label:"Endurance",value:"endurance"},{label:"Work Capacity",value:"work-capacity"},{label:"Recovery",value:"recovery"}]};function ge(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,null,r.a.createElement(P.a,{size:800,color:"#1070CA"},"Dashboard")))}var pe=n(214);function be(e){var t=e.id,n=Object(E.c)(ue.workouts.getOne,{variables:{id:t}}),l=n.data,i=n.loading,u=Object(a.useContext)(ce.UI).openPanel,c=Object(a.useState)(),s=Object(o.a)(c,2),m=s[0],d=s[1],g=de.intensityOptions,p=de.workoutTypes,b=f.a.get(l,"workouts_by_pk.title"),h=f.a.get(l,"workouts_by_pk.type"),k=f.a.get(l,"workouts_by_pk.intensity"),w=f.a.get(l,"workouts_by_pk.versions");if(Object(a.useEffect)((function(){m||d(f.a.get(f.a.last(w),"version_num"))}),[w]),i)return r.a.createElement(me,null);var _=f.a.find(w,["version_num",m]),j=f.a.get(_,"body"),O=f.a.get(_,"stats",{}),x=f.a.map(f.a.get(_,"drills",[]),"drill"),C=f.a.get(f.a.find(g,["value",k]),"label",""),A=f.a.get(f.a.find(p,["value",h]),"label","");return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(B.a,{marginLeft:8,iconBefore:"plus",onClick:function(){return u({panel:"workouts/add-version",props:{id:_.id,workoutId:t},size:"wide"})}},"Add Version"),r.a.createElement(B.a,{marginLeft:8,iconBefore:"edit",onClick:function(){return u({panel:"workouts/edit",props:{id:_.id},size:"wide"})}},"Edit"),r.a.createElement(B.a,{marginLeft:8,iconBefore:"walk",onClick:function(){return u({panel:"workouts/edit-drills",props:{id:_.id},size:"wide"})}},"Edit Drills")),r.a.createElement(y.a,{marginBottom:32,display:"flex",flexDirection:"row"},r.a.createElement(y.a,{marginRight:16},r.a.createElement(P.a,null,b)),r.a.createElement(y.a,{flex:1},r.a.createElement(pe.a,{marginRight:8,color:"blue"},A),r.a.createElement(pe.a,{color:"blue"},C))),r.a.createElement(y.a,{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:24},r.a.createElement(S.a,null,"Versions:"),r.a.createElement(y.a,{flex:1,marginLeft:16},r.a.createElement(q.a,{alignItems:"center"},w&&f.a.map(w,(function(e){var t=e.version_num;return r.a.createElement(z.a,{key:t,id:t,onSelect:function(){return d(t)},isSelected:m===t,"aria-controls":"panel-".concat(t)},t)}))))),r.a.createElement(y.a,{background:"white",padding:32,marginBottom:32},r.a.createElement(P.a,{size:200},"Description:"),r.a.createElement(S.a,null,j)),r.a.createElement(y.a,{padding:32,marginBottom:32},r.a.createElement(P.a,{size:200},"Drills:"),f.a.isEmpty(x)?r.a.createElement(W.a,null,"No attached drills"):f.a.map(x,(function(e){var t=e.id,n=e.title;return r.a.createElement(v.b,{to:"/drills/".concat(t),key:t,style:{marginBottom:"24px"}},r.a.createElement(y.a,{display:"flex",elevation:1,height:48,alignItems:"center",background:"white",marginBottom:16},r.a.createElement(S.a,{marginLeft:24},n)))}))),r.a.createElement(y.a,{background:"white",padding:32},r.a.createElement(P.a,{size:200},"Stats:"),r.a.createElement(W.a,null,"Total running kilometers - ",r.a.createElement("strong",null,f.a.get(O,"running_km",0))),r.a.createElement(W.a,null,"Total running minutes - ",r.a.createElement("strong",null,f.a.get(O,"running_minutes",0)))))}function fe(){var e=Object(a.useContext)(ce.UI).openPanel,t=Object(E.c)(ue.workouts.getAll),n=t.data,l=t.loading,i=f.a.get(n,"workouts"),o=de.intensityOptions,u=de.workoutTypes;return l?r.a.createElement(me,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(B.a,{iconBefore:"plus",onClick:function(){return e({panel:"workouts/add",size:"wide"})}},"Add")),r.a.createElement(y.a,{marginBottom:16},r.a.createElement(P.a,null,"All Workouts:")),r.a.createElement(y.a,null,i&&f.a.map(i,(function(e){var t=e.id,n=e.title,a=e.intensity,l=e.type,i=f.a.get(f.a.find(o,["value",a]),"label",""),c=f.a.get(f.a.find(u,["value",l]),"label","");return r.a.createElement(v.b,{to:"/workouts/".concat(t),key:t,style:{marginBottom:"24px"}},r.a.createElement(y.a,{display:"flex",elevation:1,height:48,alignItems:"center",background:"white",marginBottom:16},r.a.createElement(S.a,{marginLeft:24,marginRight:8},n),r.a.createElement(pe.a,{marginRight:8,color:"blue"},c),r.a.createElement(pe.a,{color:"blue"},i)))}))))}function Ee(){var e=Object(k.h)().id,t=Boolean(e);return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,null,r.a.createElement(P.a,{size:800,color:"#1070CA",marginBottom:48},"Workouts")),r.a.createElement(y.a,null,t?r.a.createElement(be,{id:e}):r.a.createElement(fe,null)))}function he(e){var t=e.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,null,r.a.createElement(S.a,null,t)))}function ve(){var e=Object(a.useContext)(ce.UI).openPanel,t=Object(E.c)(ue.drills.getAll),n=t.data,l=t.loading,i=f.a.get(n,"drillsd");return l?r.a.createElement(me,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(B.a,{iconBefore:"plus",onClick:function(){return e({panel:"weeks/add"})}},"Add")),r.a.createElement(y.a,{marginBottom:16},r.a.createElement(P.a,null,"All Weeks:")),r.a.createElement(y.a,null,i&&f.a.map(i,(function(e){var t=e.id,n=e.title;return r.a.createElement(v.b,{to:"/workouts/".concat(t),key:t,style:{marginBottom:"24px"}},r.a.createElement(y.a,{display:"flex",elevation:1,height:48,alignItems:"center",background:"white",marginBottom:16},r.a.createElement(S.a,{marginLeft:24},n)))}))))}function ke(){var e=Object(k.h)().id,t=Boolean(e);return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,null,r.a.createElement(P.a,{size:800,color:"#1070CA",marginBottom:48},"Weeks")),r.a.createElement(y.a,null,t?r.a.createElement(he,{id:e}):r.a.createElement(ve,null)))}var ye=n(209);function we(e){var t=Object(a.useContext)(ce.UI).openPanel,n=e.id,l=Object(E.c)(ue.drills.getOne,{variables:{id:n}}),i=l.data;if(l.loading)return r.a.createElement(me,null);var o=f.a.get(i,"drills_by_pk",{}),u=f.a.get(o,"title"),c=f.a.get(o,"url"),s=f.a.get(o,"workouts_drills",[]),m=f.a.size(s);return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(B.a,{iconBefore:"edit",onClick:function(){return t({panel:"drills/edit",props:{id:n}})}},"Edit")),r.a.createElement(y.a,{marginBottom:32},r.a.createElement(P.a,null,u)),r.a.createElement(y.a,{display:"flex"},r.a.createElement(ye.a,{flex:1,background:"white",padding:32,marginRight:32,elevation:1},r.a.createElement(S.a,null,"Appears in ",r.a.createElement("strong",null,m)," workouts")),r.a.createElement(y.a,{elevation:1,height:315,width:560},r.a.createElement("iframe",{width:"560",height:"315",src:c,title:u,frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}))))}function _e(){var e=Object(a.useContext)(ce.UI).openPanel,t=Object(E.c)(ue.drills.getAll),n=t.data,l=t.loading,i=f.a.get(n,"drills");return l?r.a.createElement(me,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{display:"flex",justifyContent:"flex-end"},r.a.createElement(B.a,{iconBefore:"plus",onClick:function(){return e({panel:"drills/add"})}},"Add")),r.a.createElement(y.a,{marginBottom:16},r.a.createElement(P.a,null,"All Drills:")),r.a.createElement(y.a,null,i&&f.a.map(i,(function(e){var t=e.id,n=e.title;return r.a.createElement(v.b,{to:"/drills/".concat(t),key:t,style:{marginBottom:"24px"}},r.a.createElement(y.a,{display:"flex",elevation:1,height:48,alignItems:"center",background:"white",marginBottom:16},r.a.createElement(S.a,{marginLeft:24},n)))}))))}function je(){var e=Object(k.h)().id,t=Boolean(e);return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,null,r.a.createElement(P.a,{size:800,color:"#1070CA",marginBottom:48},"Drills")),r.a.createElement(y.a,null,t?r.a.createElement(we,{id:e}):r.a.createElement(_e,null)))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Oe=document.getElementById("root");Oe.hasChildNodes()?Object(l.hydrate)(r.a.createElement(x,null),Oe):Object(l.render)(r.a.createElement(x,null),Oe),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[103,1,2]]]);
//# sourceMappingURL=main.98a3d528.chunk.js.map