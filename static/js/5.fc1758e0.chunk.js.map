{"version":3,"sources":["app/queries.js","components/loading/loading.js","base/constants.js","app/firebase.js","app/apollo.js","components/panel/panels/weeks/add.js","components/panel/panels/weeks/update-workout.js","components/panel/panels/index.js","components/panel/panels/auth/sign-in.js","components/panel/panels/drills/add.js","components/panel/panels/drills/edit.js","components/panel/panels/daily-challenges/add.js","components/panel/panels/daily-challenges/edit.js","components/panel/panels/workouts/add.js","components/panel/panels/workouts/addVersion.js","components/panel/panels/workouts/edit.js","components/panel/panels/weeks/view-workout-version.js","components/panel/panel.js","app/react-app.js","app/services.js","views/index.js"],"names":["GET_USER","gql","GET_ALL_DRILLS","GET_DRILL_BY_ID","INSERT_DRILL","UPDATE_DRILL","GET_ALL_CHALLENGES","GET_CHALLENGE_BY_ID","INSERT_CHALLENGE","UPDATE_CHALLENGE","GET_ALL_WORKOUTS","GET_WORKOUT","SUBSCRIBE_WORKOUT","GET_WORKOUT_VERSION","INSERT_WORKOUT_VERSION","UPDATE_WORKOUT_VERSION","INSERT_WORKOUTS_DRILL","DELETE_WORKOUTS_DRILL","DELETE_WORKOUT","DELETE_VERSION","GET_ALL_WEEKS","SUBSCRIBE_ALL_WEEKS","SUBSCRIBE_WEEK","UPDATE_WEEK","UPDATE_WEEK_DAY","CREATE_WEEK","GET_ALL_DAYS","auth","getUser","drills","getAll","getOne","add","update","dailyChallenges","workouts","subscribe","getVersion","addVersion","updateVersion","addDrill","removeDrill","deleteWorkout","deleteVersion","weeks","subscribeAll","updateWeek","updateWeekday","days","Loading","className","intensityOptions","label","value","workoutTypes","system","Firebase","children","apolloClient","useApolloClient","useContext","Services","Auth","updateAuth","authUser","uid","isAuthenticated","useEffect","a","_","get","query","Queries","variables","userRes","isAuthenticating","signIn","email","password","firebase","signInWithEmailAndPassword","signOut","onAuthStateChanged","user","getIdToken","token","getIdTokenResult","idTokenResult","claims","isEmpty","initializeApp","apiKey","process","authDomain","databaseURL","projectId","propTypes","PropTypes","node","Apollo","httpLink","HttpLink","uri","headers","Authorization","wsLink","WebSocketLink","options","reconnect","timeout","connectionParams","link","split","getMainDefinition","kind","operation","client","ApolloClient","cache","InMemoryCache","today","Date","matchWorkout","searchTerms","workout","title","type","terms","map","term","lowerCase","reduce","total","curr","includes","SearchRow","colourProps","matchSize","onSelect","selected","useState","versions","selectOptions","version_num","getInitialSelectedState","selectedVersion","setSelectedVersion","isTruncated","setIsTruncated","match","version","find","versionId","body","truncate","lenght","color","background","Pane","display","flexDirection","minHeight","marginBottom","Select","onChange","e","Number","target","defaultValue","key","IconButton","icon","iconSize","appearance","onClick","preventDefault","elevation","flex","paddingLeft","paddingRight","paddingBottom","paddingTop","alignItems","Heading","size","marginRight","justifyContent","line","i","Text","closePanel","UI","errors","setErrors","initialValues","onSubmit","console","error","message","values","handleChange","handleSubmit","isSubmitting","TextInputField","name","autoFocus","Button","isLoading","disabled","useMutation","refetchQueries","awaitRefetchQueries","insertDrill","history","useHistory","description","data","objects","res","id","push","dirty","url","placeholder","embed_url","FormField","Textarea","iconBefore","marginTop","props","useQuery","loading","updateDrill","drill","isNull","enableReinitialize","insertChallenge","updateChallenge","challenge","emit","drillsData","drillsLoading","selectedDrills","setSelectedDrills","constants","allDrills","unselectedDrills","filter","some","running_km","running_minutes","intensity","stats","drills_insert_data","_drill","_owner","workoutId","setFieldValue","Radio","checked","height","marginLeft","Paragraph","intent","rows","colSpan","workoutData","workoutLoading","newVersionNum","_workout","addDrillsLoading","workoutsDrills","workoutsDrillId","stats_update_data","version_id","workout_id","stats_id","workout_data","stats_data","_workouts_version","running_km_beginner_short","running_minutes_beginner_short","running_km_beginner_long","running_minutes_beginner_long","running_km_intermediate_short","running_minutes_intermediate_short","running_km_intermediate_long","running_minutes_intermediate_long","running_km_advanced_short","running_minutes_advanced_short","running_km_advanced_long","running_minutes_advanced_long","daysData","daysLoading","weeksData","weeksLoading","addWeek","takenDays","week_start","formatISO","parseISO","dateSelectOptions","range","day","date","addDays","startOfWeek","weekStartsOn","format","_day","SelectField","openPanel","setSearchTerms","filteredWorkouts","setFilteredWorkouts","selectedWorkoutVersionId","setSelectedWorkoutVersionId","selectedWorkout","selectedWorkoutId","orderBy","_handleClearWorkout","setTimeout","panel","workoutVersionId","SearchInput","width","typesValue","intensityValue","Badge","padding","to","style","widthMap","wide","normal","Panel","_isOpen","ShownPanel","panelMap","SideSheet","isShown","onCloseComplete","preventBodyScrolling","Admin","lazy","ReactApp","payload","setAuth","setUI","ui","breakpoint","getBreakpoint","setBreakpoint","window","addEventListener","debounce","Provider","path","component","innerWidth","createContext"],"mappings":"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","file":"static/js/5.fc1758e0.chunk.js","sourcesContent":["\n// deps\nimport gql from \"graphql-tag\";\n\n//\n// Adultletics Admin / Views / App / Queries\n//\n\n\n// AUTH\nconst GET_USER = gql`\n\tquery getUser ( $uid: String! ) {\n\t\tusers_by_pk( uid: $uid ) {\n\t\t\temail first_name id\n\t\t}\n\t}\n`;\n\n\n// DRILLS\nconst GET_ALL_DRILLS = gql`\n\tquery getAllDrills {\n\t\tdrills ( order_by: { title: asc }) {\n\t\t\tid title url description embed_url\n\t\t}\n\t}\n`;\n\nconst GET_DRILL_BY_ID = gql`\n\tquery getAllDrills ( $id: uuid! ) {\n\t\tdrills_by_pk ( id: $id ) {\n\t\t\tid title url description embed_url\n\t\t\tworkouts_drills {\n\t\t\t\tworkouts_version {\n\t\t\t\t\tworkout { title }\n\t\t\t\t\tversion_num\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n`;\n\nconst INSERT_DRILL = gql`\n\tmutation insertDrills ( $objects: [drills_insert_input!]! ) {\n\t\tinsert_drills ( objects: $objects ) {\n\t\t\treturning { id }\n\t\t}\n\t}\n`;\n\nconst UPDATE_DRILL = gql`\n\tmutation updateDrills ( $id: uuid!, $data: drills_set_input! ) {\n\t\tupdate_drills( where: { id: { _eq: $id }}, _set: $data ) {\n\t\t\treturning { id }\n\t\t}\n\t}\n`;\n\n\n// DAILY_CHALLENGES\nconst GET_ALL_CHALLENGES = gql`\n\tquery getAllChallenges {\n\t\tdaily_challenges ( order_by: { title: asc }) {\n\t\t\tid title description\n\t\t}\n\t}\n`;\n\nconst GET_CHALLENGE_BY_ID = gql`\n\tquery getChallenge ( $id: uuid! ) {\n\t\tdaily_challenges_by_pk ( id: $id ) {\n\t\t\tid title description\n            weeks { id }\n\t\t}\n\t}\n`;\n\nconst INSERT_CHALLENGE = gql`\n\tmutation insertChalleenge ( $objects: [daily_challenges_insert_input!]! ) {\n\t\tinsert_daily_challenges ( objects: $objects ) {\n\t\t\treturning { id }\n\t\t}\n\t}\n`;\n\nconst UPDATE_CHALLENGE = gql`\n\tmutation updateChallenge ( $id: uuid!, $data: daily_challenges_set_input! ) {\n\t\tupdate_daily_challenges ( where: { id: { _eq: $id }}, _set: $data ) {\n\t\t\treturning { id }\n\t\t}\n\t}\n`;\n\n\n// WORKOUTS\nconst GET_ALL_WORKOUTS = gql`\n\tquery getWorkouts {\n\t\tworkouts {\n\t\t\tid title type intensity\n            versions ( order_by: { version_num: asc } ){\n\t\t\t\tid body\n\t\t\t\tversion_num\n\t\t\t\towner {\n\t\t\t\t\tfirst_name\n\t\t\t\t}\n\t\t\t\tdrills {\n\t\t\t\t\tid\n\t\t\t\t\tdrill {\n\t\t\t\t\t\ttitle id\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstats {\n\t\t\t\t\tid\n\t\t\t\t\trunning_minutes_beginner_short running_km_beginner_short\n\t\t\t\t\trunning_minutes_intermediate_short running_km_intermediate_short\n\t\t\t\t\trunning_minutes_advanced_short running_km_advanced_short\n\t\t\t\t\trunning_minutes_beginner_long running_km_beginner_long\n\t\t\t\t\trunning_minutes_intermediate_long running_km_intermediate_long\n\t\t\t\t\trunning_minutes_advanced_long running_km_advanced_long\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n`;\n\nconst GET_WORKOUT = gql`\n\tquery getWorkout ( $id: uuid! ) {\n\t\tworkouts_by_pk( id: $id ) {\n\t\t\tid title type\n            intensity\n\t\t\tversions ( order_by: { version_num: asc } ){\n\t\t\t\tid body\n\t\t\t\tversion_num\n\t\t\t\towner {\n\t\t\t\t\tfirst_name\n\t\t\t\t}\n\t\t\t\tdrills {\n\t\t\t\t\tid\n\t\t\t\t\tdrill {\n\t\t\t\t\t\ttitle id\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstats {\n\t\t\t\t\tid\n\t\t\t\t\trunning_minutes_beginner_short running_km_beginner_short\n\t\t\t\t\trunning_minutes_intermediate_short running_km_intermediate_short\n\t\t\t\t\trunning_minutes_advanced_short running_km_advanced_short\n\t\t\t\t\trunning_minutes_beginner_long running_km_beginner_long\n\t\t\t\t\trunning_minutes_intermediate_long running_km_intermediate_long\n\t\t\t\t\trunning_minutes_advanced_long running_km_advanced_long\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n`;\n\nconst SUBSCRIBE_WORKOUT = gql`\n\tsubscription getWorkout ( $id: uuid! ) {\n\t\tworkouts_by_pk( id: $id ) {\n\t\t\tid title type\n            intensity\n\t\t\tversions ( order_by: { version_num: asc } ){\n\t\t\t\tid body\n\t\t\t\tversion_num\n\t\t\t\towner {\n\t\t\t\t\tfirst_name\n\t\t\t\t}\n\t\t\t\tdrills {\n\t\t\t\t\tid\n\t\t\t\t\tdrill {\n\t\t\t\t\t\ttitle id\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstats {\n\t\t\t\t\tid\n\t\t\t\t\trunning_minutes_beginner_short running_km_beginner_short\n\t\t\t\t\trunning_minutes_intermediate_short running_km_intermediate_short\n\t\t\t\t\trunning_minutes_advanced_short running_km_advanced_short\n\t\t\t\t\trunning_minutes_beginner_long running_km_beginner_long\n\t\t\t\t\trunning_minutes_intermediate_long running_km_intermediate_long\n\t\t\t\t\trunning_minutes_advanced_long running_km_advanced_long\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n`;\n\nconst GET_WORKOUT_VERSION = gql`\n\tquery getWorkout ( $id: uuid! ) {\n\t\tworkouts_versions_by_pk ( id: $id ) {\n\t\t\tid body\n\t\t\tversion_num\n\t\t\towner {\n\t\t\t\tfirst_name\n\t\t\t}\n\t\t\tdrills {\n\t\t\t\tid\n\t\t\t\tdrill {\n\t\t\t\t\ttitle id\n\t\t\t\t}\n\t\t\t}\n\t\t\tstats {\n                id\n                running_minutes_beginner_short running_km_beginner_short\n                running_minutes_intermediate_short running_km_intermediate_short\n                running_minutes_advanced_short running_km_advanced_short\n                running_minutes_beginner_long running_km_beginner_long\n                running_minutes_intermediate_long running_km_intermediate_long\n                running_minutes_advanced_long running_km_advanced_long\n\t\t\t}\n\t\t\tworkout {\n\t\t\t\tid title type\n                intensity\n\t\t\t}\n\t\t}\n\t}\n`;\n\nconst INSERT_WORKOUT_VERSION = gql`\n\tmutation insertWorkoutVersion ( $objects: [workouts_versions_insert_input!]! ) {\n\t\tinsert_workouts_versions ( objects: $objects ) {\n\t\t\treturning { id workout { id } }\n\t\t}\n\t}\n`;\n\nconst UPDATE_WORKOUT_VERSION = gql`\n\tmutation updateWorkoutVersion ( $version_id: uuid!, $stats_id: uuid!, $workout_id: uuid!, $body: String!, $workout_data: workouts_set_input!, $stats_data: workouts_stats_set_input! ) {\n\t\tupdate_workouts_versions( where: { id: { _eq: $version_id }}, _set: { body: $body }) {\n\t\t\treturning { id }\n\t\t}\n\t\tupdate_workouts_stats( where: { id: { _eq: $stats_id }}, _set: $stats_data ) {\n\t\t\treturning { id }\n\t\t}\n\t\tupdate_workouts( where: { id: { _eq: $workout_id }}, _set: $workout_data ) {\n\t\t\treturning { id }\n\t\t}\n\t}\n`;\n\nconst INSERT_WORKOUTS_DRILL = gql`\n\tmutation insertWorkoutsDrills ( $objects: [workouts_drills_insert_input!]! ) {\n\t\tinsert_workouts_drills( objects: $objects ) {\n\t\t\treturning { id }\n\t\t}\n\t}\n`;\n\nconst DELETE_WORKOUTS_DRILL = gql`\n\tmutation deleteWorkoutsDrills ( $id: uuid! ) {\n\t\tdelete_workouts_drills( where: { id: { _eq: $id }}) {\n\t\t\treturning { id }\n\t\t}\n\t}\n`;\n\nconst DELETE_WORKOUT = gql`\n    mutation deleteWorkout ( $id: uuid! ) {\n        update_weeks_days( where: { workout: { _workout: {_eq: $id }}}, _set: { _workouts_version: null }) {\n            returning { id }\n        }\n        delete_workouts_drills( where: { workouts_version: { workout: { id: { _eq: $id }}}}) {\n            returning { id }\n        }\n        delete_workouts_versions( where: { workout: { id: { _eq: $id }}}) {\n            returning { id }\n        }\n        delete_workouts_stats( where: { workouts_version: { workout: { id: { _eq: $id }}}}) {\n            returning { id }\n        }\n        delete_workouts( where: { id: { _eq: $id }}) {\n            returning { id }\n        }\n    }\n`;\n\nconst DELETE_VERSION = gql`\n    mutation deleteWorkout ( $id: uuid! ) {\n        update_weeks_days( where: { _workouts_version: { _eq: $id }}, _set: { _workouts_version: null }) {\n            returning { id }\n        }\n        delete_workouts_drills( where: { workouts_version: { id: { _eq: $id }}}) {\n            returning { id }\n        }\n        delete_workouts_versions( where: { id: { _eq: $id }}) {\n            returning { id }\n        }\n        delete_workouts_stats( where: { workouts_version: { id: { _eq: $id }}}) {\n            returning { id }\n        }\n    }\n`;\n\n\n// WEEKS\nconst GET_ALL_WEEKS = gql`\n    query getAllWeeks {\n        weeks {\n            id title updated_at week_start _challenge\n            days ( order_by: { _day: asc }) {\n                id\n                day { id title uid }\n                workout {\n                    body id\n                    version_num\n                    drills {\n                        id\n                        drill {\n                            description\n                            id title url\n                        }\n                    }\n                    workout {\n                        id intensity\n                        title type\n                    }\n                    stats {\n                        id\n                        running_minutes_beginner_short running_km_beginner_short\n                        running_minutes_intermediate_short running_km_intermediate_short\n                        running_minutes_advanced_short running_km_advanced_short\n                        running_minutes_beginner_long running_km_beginner_long\n                        running_minutes_intermediate_long running_km_intermediate_long\n                        running_minutes_advanced_long running_km_advanced_long\n                    }\n                }\n            }\n        }\n    }\n`;\n\nconst SUBSCRIBE_ALL_WEEKS = gql`\n    subscription getAllWeeks {\n        weeks {\n            id title updated_at week_start\n            days ( order_by: { _day: asc }) {\n                id\n                day { id title uid }\n                workout {\n                    body id\n                    version_num\n                    drills {\n                        id\n                        drill {\n                            description\n                            id title url\n                        }\n                    }\n                    workout {\n                        id intensity\n                        title type\n                    }\n                    stats {\n                        id\n                        running_minutes_beginner_short running_km_beginner_short\n                        running_minutes_intermediate_short running_km_intermediate_short\n                        running_minutes_advanced_short running_km_advanced_short\n                        running_minutes_beginner_long running_km_beginner_long\n                        running_minutes_intermediate_long running_km_intermediate_long\n\t\t\t\t\t    running_minutes_advanced_long running_km_advanced_long\n                    }\n                }\n            }\n        }\n    }\n`;\n\nconst SUBSCRIBE_WEEK = gql`\n    subscription weekSubscription ( $id: uuid! ) {\n        weeks_by_pk( id: $id ) {\n            created_at id week_start\n            title updated_at\n            days ( order_by: { _day: asc }) {\n                id\n                day { id title uid }\n                workout {\n                    body id\n                    version_num\n                    drills {\n                        id\n                        drill {\n                            description\n                            id title url\n                        }\n                    }\n                    workout {\n                        id intensity\n                        title type\n                    }\n                    stats {\n                        id\n                        running_minutes_beginner_short running_km_beginner_short\n                        running_minutes_intermediate_short running_km_intermediate_short\n                        running_minutes_advanced_short running_km_advanced_short\n                        running_minutes_beginner_long running_km_beginner_long\n                        running_minutes_intermediate_long running_km_intermediate_long\n                        running_minutes_advanced_long running_km_advanced_long\n                    }\n                }\n            }\n            daily_challenge { id title description }\n        }\n    }\n`;\n\nconst UPDATE_WEEK = gql`\n    mutation updateWeek ( $id: uuid!, $data: weeks_set_input! ) {\n        update_weeks( where: { id: { _eq: $id }}, _set: $data ) {\n            returning { id }\n        }\n    }\n`;\n\nconst UPDATE_WEEK_DAY = gql`\n    mutation updateWeeksDays ( $id: uuid!, $data: weeks_days_set_input! ) {\n        update_weeks_days( where: { id: { _eq: $id }}, _set: $data ) {\n            returning { id }\n        }\n    }\n`;\n\nconst CREATE_WEEK = gql`\n    mutation updateWeeksDays ( $objects: [weeks_insert_input!]! ) {\n        insert_weeks( objects: $objects ) {\n            returning { id }\n        }\n    }\n`;\n\nconst GET_ALL_DAYS = gql`\n    query getAllDays {\n        days {\n            id title  uid\n        }\n    }\n`;\n\n\nexport default {\n\tauth: {\n\t\tgetUser: GET_USER,\n\t},\n\tdrills: {\n\t\tgetAll: GET_ALL_DRILLS,\n\t\tgetOne: GET_DRILL_BY_ID,\n\t\tadd: INSERT_DRILL,\n\t\tupdate: UPDATE_DRILL,\n\t},\n\tdailyChallenges: {\n\t\tgetAll: GET_ALL_CHALLENGES,\n\t\tgetOne: GET_CHALLENGE_BY_ID,\n\t\tadd: INSERT_CHALLENGE,\n\t\tupdate: UPDATE_CHALLENGE,\n\t},\n\tworkouts: {\n\t\tgetAll: GET_ALL_WORKOUTS,\n\t\tgetOne: GET_WORKOUT,\n\t\tsubscribe: SUBSCRIBE_WORKOUT,\n\t\tgetVersion: GET_WORKOUT_VERSION,\n\t\taddVersion: INSERT_WORKOUT_VERSION,\n\t\tupdateVersion: UPDATE_WORKOUT_VERSION,\n\t\taddDrill: INSERT_WORKOUTS_DRILL,\n\t\tremoveDrill: DELETE_WORKOUTS_DRILL,\n\t\tdeleteWorkout: DELETE_WORKOUT,\n\t\tdeleteVersion: DELETE_VERSION,\n\t},\n\tweeks: {\n\t\tgetAll: GET_ALL_WEEKS,\n\t\tsubscribe: SUBSCRIBE_WEEK,\n\t\tsubscribeAll: SUBSCRIBE_ALL_WEEKS,\n\t\tupdateWeek: UPDATE_WEEK,\n\t\tupdateWeekday: UPDATE_WEEK_DAY,\n\t\tadd: CREATE_WEEK,\n\t},\n\tdays: {\n\t\tgetAll: GET_ALL_DAYS,\n\t},\n};\n","\n// deps\nimport React from \"react\";\n\n// app\nimport { Spinner } from \"evergreen-ui\";\n\n//\n// Adultletics Admin / Components / Loading / Loading\n//\n\n\nexport default function Loading () {\n\treturn (\n\t\t<div className=\"c-loading\" >\n\t\t\t<Spinner />\n\t\t</div>\n\t);\n}\n","\nconst intensityOptions = [\n\t{ label: \"Recovery\", value: \"1\" },\n\t{ label: \"Low\", value: \"2\" },\n\t{ label: \"Moderate\", value: \"3\" },\n\t{ label: \"High\", value: \"4\" },\n\t{ label: \"Very High\", value: \"5\" },\n];\n\nconst workoutTypes = [\n\t{ label: \"Long Aerobic\", value: \"long-aerobic\", system: \"2 aerobic\" },\n\t{ label: \"Short Aerobic\", value: \"short-aerobic\", system: \"2 aerobic\" },\n\t{ label: \"Recovery\", value: \"recovery\", system: \"1 recovery\" },\n\t{ label: \"Intervals\", value: \"intervals\", system: \"3 anaerobic\" },\n\t{ label: \"Strength\", value: \"strength\", system: \"4 atp\" },\n\t{ label: \"Tempo Run\", value: \"tempo\", system: \"3 anaerobic\" },\n\t{ label: \"Speed Play\", value: \"speed-play\", system: \"3 anaerobic\" },\n\t{ label: \"Hills\", value: \"hills\", system: \"3 anaerobic\" },\n];\n\nexport default {\n\tintensityOptions,\n\tworkoutTypes,\n};\n","\n// deps\nimport React, { useContext, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport _ from \"lodash\";\nimport { useApolloClient } from \"@apollo/react-hooks\";\n\n// app\nimport Services from \"./services\";\nimport Queries from \"./queries\";\n\n//\n// Adultletics Admin / Views / App / Firebase\n//\n\n\nconst firebaseConfig = {\n\tapiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n\tauthDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n\tdatabaseURL: process.env.REACT_APP_FIREBASE_DB_URL,\n\tprojectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n};\n\nfirebase.initializeApp( firebaseConfig );\n\nexport default function Firebase ({ children }) {\n\tconst apolloClient = useApolloClient();\n\tconst { updateAuth, authUser, uid, isAuthenticated } = useContext( Services.Auth );\n\n\tuseEffect(() => {\n\t\t( async () => {\n\t\t\tif ( uid && uid !== _.get( authUser, \"uid\", \"\" )) {\n\t\t\t\tconst userRes = await apolloClient.query({ query: Queries.auth.getUser, variables: { uid }});\n\t\t\t\tconst authUser = _.get( userRes, \"data.users_by_pk\" );\n\t\t\t\tupdateAuth({ authUser });\n\t\t\t}\n\t\t\tupdateAuth({ isAuthenticating: false });\n\t\t})();\n\t// eslint-disable-next-line\n\t}, [ uid ]);\n\n\tuseEffect(() => {\n\t\tupdateAuth({ \n\t\t\tsignIn: async ( email, password ) => await firebase.auth().signInWithEmailAndPassword( email, password ), \n\t\t\tsignOut: () => firebase.auth().signOut(),\n\t\t});\n\t\t\n\t\tfirebase.auth().onAuthStateChanged( async user => {\n\t\t\tupdateAuth({ isAuthenticating: true });\n\t\t\tif ( user ) {\n\t\t\t\tconst token = await user.getIdToken();\n\t\t\t\tconst idTokenResult = await user.getIdTokenResult();\n\t\t\t\tconst hasuraClaim = idTokenResult.claims[ \"https://hasura.io/jwt/claims\" ];\n\t\t\t\tif ( hasuraClaim ) updateAuth({ token, uid: user.uid });\n\t\t\t} else { \n\t\t\t\tupdateAuth({ authUser: {}, token: null, uid: \"\" }); \n\t\t\t\tupdateAuth({ isAuthenticating: false });\n\t\t\t}\n\t\t});\n\t// eslint-disable-next-line\n\t}, []);\n\n\tuseEffect(() => { \n\t\tif ( _.isEmpty( authUser ) && isAuthenticated !== false ) updateAuth({ isAuthenticated: false });\n\t\tif ( !_.isEmpty( authUser ) && isAuthenticated !== true ) updateAuth({ isAuthenticated: true });\n\t// eslint-disable-next-line\n\t}, [ authUser ]);\n\n\treturn (\n\t\t<>\n\t\t\t{ children && children }\n\t\t</>\n\t);\n}\nFirebase.propTypes = {\n\tchildren: PropTypes.node,\n};\n","\n// deps\nimport React, { useContext } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { ApolloProvider } from \"@apollo/react-hooks\";\nimport ApolloClient from \"apollo-client\";\nimport { WebSocketLink } from \"apollo-link-ws\";\nimport { HttpLink } from \"apollo-link-http\";\nimport { split } from \"apollo-link\";\nimport { getMainDefinition } from \"apollo-utilities\";\nimport { InMemoryCache } from \"apollo-cache-inmemory\";\n\n\n// app\nimport Services from \"./services\";\n\n//\n// Adultletics Admin / Views / App / Apollo Provider\n//\n\nexport default function Apollo ({ children }) {\n\tconst { token } = useContext( Services.Auth );\n    \n\tconst httpLink = new HttpLink({\n\t\turi: \"https://adultletics-hasura.herokuapp.com/v1/graphql\",\n\t\theaders: token ? { Authorization: `Bearer ${ token }` } : {},\n\t});\n    \n\tconst wsLink = new WebSocketLink({\n\t\turi: \"wss://adultletics-hasura.herokuapp.com/v1/graphql\",\n\t\toptions: {\n\t\t\treconnect: true,\n\t\t\ttimeout: 30000,\n\t\t\tconnectionParams: token ? { headers: { Authorization: `Bearer ${ token }` }} : {},\n\t\t},\n\t});\n\n\tconst link = split(\n\t\t({ query }) => {\n\t\t\tconst { kind, operation } = getMainDefinition( query );\n\t\t\treturn kind === \"OperationDefinition\" && operation === \"subscription\";\n\t\t},\n\t\twsLink,\n\t\thttpLink,\n\t);\n\n\tconst client = new ApolloClient({\n\t\tlink,\n\t\tcache: new InMemoryCache(),\n\t});\n    \n\treturn (\n\t\t<ApolloProvider client={ client }>\n\t\t\t{ children }\n\t\t</ApolloProvider>\n\t);\n}\nApollo.propTypes = {\n\tchildren: PropTypes.node,\n};\n","\n// deps\nimport React, { useContext, useState } from \"react\";\nimport { SelectField, Button, Pane, Heading } from \"evergreen-ui\";\nimport { Formik } from \"formik\";\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport _ from \"lodash\";\nimport { useHistory } from \"react-router-dom\";\nimport { addDays, format, formatISO, startOfWeek, parseISO } from \"date-fns\";\n\n// app\nimport { Services, Queries } from \"../index\";\n\n//\n// Adultletics Admin / Views / Panel / Panels / Weeks / Add\n//\n\n\nconst today = new Date();\n\nexport default function AddWeekPanel () {\n\tconst { data: daysData, loading: daysLoading } = useQuery( Queries.days.getAll );\n\tconst { data: weeksData, loading: weeksLoading } = useQuery( Queries.weeks.getAll );\n\tconst [ addWeek ] = useMutation( Queries.weeks.add, { refetchQueries: [{ query: Queries.weeks.getAll }], awaitRefetchQueries: true });\n\tconst { authUser } = useContext( Services.Auth );\n\tconst { closePanel } = useContext( Services.UI );\n\tconst [ errors, setErrors ] = useState( null );\n\tconst history = useHistory();\n\n\tif ( daysLoading || weeksLoading ) return null;\n    \n\tconst takenDays = _.map( _.get( weeksData, \"weeks\" ), ({ week_start }) => formatISO( parseISO( week_start )));\n\tconst dateSelectOptions = _.map( _.range( 7, 29, 7 ) , day => {\n\t\tconst date = addDays( startOfWeek( today, { weekStartsOn: 1 }), day );\n\t\treturn {\n\t\t\tvalue: formatISO( date ),\n\t\t\tlabel: `Week starting: ${ format( date, \"do MMMM\" ) }`,\n\t\t\tdisabled: takenDays.includes( formatISO( date )),\n\t\t};});\n\n\treturn ( <>\n\t\t<Pane marginBottom={ 56 }>\n\t\t\t<Heading size={ 600 }>Adding a new week</Heading>\n\t\t</Pane>\n\t\t<Formik\n\t\t\tinitialValues={{}}\n\t\t\tonSubmit={ async ({ week_start }) => {\n\t\t\t\tsetErrors( null );\n\t\t\t\ttry {\n\t\t\t\t\tconst res = await addWeek({ variables: { objects: [{\n\t\t\t\t\t\t_owner: authUser.id,\n\t\t\t\t\t\ttitle: _.get( _.find( dateSelectOptions, [ \"value\", week_start ]), \"label\" ),\n\t\t\t\t\t\tweek_start,\n\t\t\t\t\t\tdays: {\n\t\t\t\t\t\t\tdata: _.map( _.get( daysData, \"days\" ), day => ({ _day: day.id })),\n\t\t\t\t\t\t},\n\t\t\t\t\t}]}});\n\t\t\t\t\tclosePanel();\n\t\t\t\t\tconst id = _.get( res, \"data.insert_weeks.returning[0].id\" );\n\t\t\t\t\thistory.push( `/admin/weeks/${ id }` );\n\t\t\t\t} catch ( error ) {\n\t\t\t\t\tconsole.error( error );\n\t\t\t\t\tsetErrors( error.message );\n\t\t\t\t}\n\t\t\t}}\n\t\t>{\n\t\t\t\t({ values, dirty, handleChange, handleSubmit, isSubmitting }) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<form>\n\t\t\t\t\t\t\t\t<SelectField label=\"Please choose which upcoming week to create\" name=\"week_start\" value={ values.type } onChange={ handleChange } height={ 40 }>\n\t\t\t\t\t\t\t\t\t<option key=\"empty\" value=\"\">Please select an option...</option>\n\t\t\t\t\t\t\t\t\t{ dateSelectOptions && _.map( dateSelectOptions, ({ value, label, disabled }) => ( \n\t\t\t\t\t\t\t\t\t\t<option key={ value } value={ value } disabled={ disabled }>{ label }</option> \n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</SelectField>\n\t\t\t\t\t\t\t\t<Button iconBefore={ isSubmitting ? \"\" : \"tick\"} isLoading={ isSubmitting } disabled={ !dirty || !values.week_start } onClick={ handleSubmit }>Add</Button>\n\t\t\t\t\t\t\t\t{ errors && <p>{ errors }</p>}\n\t\t\t\t\t\t\t</form> \n\t\t\t\t\t\t</>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t</Formik>\n\t</> );\n}\n","\n// deps\nimport React, { useContext, useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { SearchInput, Button, Pane, Heading, Text, Select, IconButton } from \"evergreen-ui\";\nimport { Formik } from \"formik\";\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport _ from \"lodash\";\n\n// app\nimport { Services, Queries, Loading } from \"../index\";\n\n//\n// Adultletics Admin / Views / Panel / Panels / Weeks / Add Workout\n//\n\n\nexport default function UpdateWeekDayWorkoutPanel ({ props }) {\n\tconst { id, title } = props;\n\n\tconst { data, loading } = useQuery( Queries.workouts.getAll );\n\tconst [ updateWeekday ] = useMutation( Queries.weeks.updateWeekday );\n\tconst { closePanel, openPanel } = useContext( Services.UI );\n\tconst [ errors, setErrors ] = useState( null );\n\tconst [ searchTerms, setSearchTerms ] = useState( \"\" );\n\tconst [ filteredWorkouts, setFilteredWorkouts ] = useState( \"\" );\n\tconst [ selectedWorkoutVersionId, setSelectedWorkoutVersionId ] = useState( \"\" );\n\n\tconst workouts = _.get( data, \"workouts\" );\n\tconst selectedWorkout = _.find( workouts, ({ versions }) => _.some( versions, [ \"id\", selectedWorkoutVersionId ]));\n\tconst selectedWorkoutId = _.get( selectedWorkout, \"id\" );\n\n\tuseEffect(() => setFilteredWorkouts( \n\t\t_.orderBy( _.map( workouts, workout => ({\n\t\t\t...workout,\n\t\t\tmatch: matchWorkout( searchTerms, workout ),\n\t\t})), [ \"match\" ], [ \"desc\" ])), [ searchTerms, workouts ]);\n    \n\tconst _handleWorkoutAdd = () => {\n\t\tclosePanel();\n\t\tsetTimeout(() => openPanel({ panel: \"workouts/add\", size: \"wide\", props: { emit: async workoutVersionId => { \n\t\t\ttry {\n\t\t\t\tawait updateWeekday({ variables: { id, data: { _workouts_version: workoutVersionId }}});\n\t\t\t\tclosePanel();\n\t\t\t} catch ( error ) {\n\t\t\t\tconsole.error( error );\n\t\t\t\tsetErrors( error.message );\n\t\t\t}\n\t\t} }}), 200 );\n\t};\n\n\tconst _handleClearWorkout = async e => {\n\t\te.preventDefault();\n\t\tsetErrors( null );\n\t\ttry {\n\t\t\tawait updateWeekday({ variables: { id, data: { _workouts_version: null }}});\n\t\t\tclosePanel();\n\t\t} catch ( error ) {\n\t\t\tconsole.error( error );\n\t\t\tsetErrors( error.message );\n\t\t}\n\t};\n\n\tif ( loading ) return <Loading />;\n\n\treturn ( <>\n\t\t<Pane marginBottom={ 56 } display=\"flex\" justifyContent=\"space-between\">\n\t\t\t<Heading size={ 600 }>Updating Workout for { title }</Heading>\n\t\t\t<Button marginLeft={ 8 } iconBefore=\"plus\" onClick={ _handleWorkoutAdd }>Create workout</Button>\n\t\t</Pane>\n\t\t<Formik\n\t\t\tinitialValues={{}}\n\t\t\tonSubmit={ async () => {\n\t\t\t\tsetErrors( null );\n\t\t\t\ttry {\n\t\t\t\t\tawait updateWeekday({ variables: { id, data: { _workouts_version: selectedWorkoutVersionId }}});\n\t\t\t\t\tclosePanel();\n\t\t\t\t} catch ( error ) {\n\t\t\t\t\tconsole.error( error );\n\t\t\t\t\tsetErrors( error.message );\n\t\t\t\t}\n\t\t\t}}\n\t\t>{\n\t\t\t\t({ handleSubmit, isSubmitting }) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<form>\n\t\t\t\t\t\t\t\t<Pane marginBottom={ 48 }>\n\t\t\t\t\t\t\t\t\t<SearchInput placeholder=\"Filter available workouts on title and type\" width=\"100%\" onChange={ e => setSearchTerms( e.target.value.split( \" \" )) }/>\n\t\t\t\t\t\t\t\t</Pane>\n\t\t\t\t\t\t\t\t<Pane marginBottom={ 32 }>\n\t\t\t\t\t\t\t\t\t{ !_.isEmpty( filteredWorkouts ) && _.map( filteredWorkouts, workout => \n\t\t\t\t\t\t\t\t\t\t<SearchRow \n\t\t\t\t\t\t\t\t\t\t\tkey={ workout.id } \n\t\t\t\t\t\t\t\t\t\t\tworkout={ workout } \n\t\t\t\t\t\t\t\t\t\t\tmatchSize={ _.size( searchTerms ) } \n\t\t\t\t\t\t\t\t\t\t\tonSelect={ setSelectedWorkoutVersionId }\n\t\t\t\t\t\t\t\t\t\t\tselected={ workout.id === selectedWorkoutId } \n\t\t\t\t\t\t\t\t\t\t/>, \n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Pane>\n\t\t\t\t\t\t\t\t<Pane display=\"flex\" justifyContent=\"space-between\">\n\t\t\t\t\t\t\t\t\t<Button type=\"submit\" iconBefore={ isSubmitting ? \"\" : \"tick\"} isLoading={ isSubmitting } disabled={ !selectedWorkoutVersionId } onClick={ handleSubmit }>Add / Update Workout</Button>\n\t\t\t\t\t\t\t\t\t<Button iconBefore={ isSubmitting ? \"\" : \"cross\"} intent=\"danger\" isLoading={ isSubmitting } onClick={ _handleClearWorkout }>Clear Day</Button>\n\t\t\t\t\t\t\t\t\t{ errors && <p>{ errors }</p>}\n\t\t\t\t\t\t\t\t</Pane>\n\n\t\t\t\t\t\t\t</form> \n\t\t\t\t\t\t</>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t</Formik>\n\t</> );\n}\nUpdateWeekDayWorkoutPanel.propTypes = {\n\tprops: PropTypes.object,\n\tid: PropTypes.string,\n\ttitle: PropTypes.string,\n};\n\nconst matchWorkout = ( searchTerms, workout ) => {\n\tconst { title, type } = workout;\n\tconst terms = _.map( searchTerms, term => _.lowerCase( term ));\n\treturn _.reduce( terms, ( total, curr ) => ( _.lowerCase( title ).includes( curr ) || _.lowerCase( type ).includes( curr )) ? total + 1 : total, 0 );\n};\n\nconst getInitialSelectedState = workout => {\n\tconst versions = _.get( workout, \"versions\" );\n\tconst selectOptions = _.map( versions, ({ version_num }) => ({ label: `v${ version_num }`, value: version_num }));\n\treturn _.reduce( selectOptions, ( total, curr ) => curr.value > total ? curr.value : total, 0 );\n};\n\nconst SearchRow = ({ workout, matchSize, onSelect, selected }) => {\n\tconst [ selectedVersion, setSelectedVersion ] = useState( getInitialSelectedState( workout ));\n\tconst [ isTruncated, setIsTruncated ] = useState( true );\n\tconst title = _.get( workout, \"title\" );\n\tconst versions = _.get( workout, \"versions\" );\n\tconst match = _.get( workout, \"match\" );\n\tconst selectOptions = _.map( versions, ({ version_num }) => ({ label: `v${ version_num }`, value: version_num }));\n\t\n\tconst version = _.find( versions, [ \"version_num\", selectedVersion ]);\n\tconst versionId = _.get( version, \"id\" );\n\tconst body = isTruncated ? _.truncate( _.get( version, \"body\" ), { lenght: 100 }) : _.get( version, \"body\" );\n    \n\t// eslint-disable-next-line\n\tuseEffect(() => { if ( selected ) onSelect( versionId );}, [ versionId ]);\n\t\n\tlet colourProps;\n\tif ( selected ) {\n\t\tcolourProps = { color: \"white\", background: \"#B7D4EF\" };\n\t} else if ( match === matchSize ) {\n\t\tcolourProps = { background: \"white\" };\n\t} else {\n\t\tcolourProps = { background: \"#66788A\" };\n\t}\n\n\tconst _handleTruncateClick = e => {\n\t\te.preventDefault();\n\t\tsetIsTruncated( !isTruncated );\n\t};\n    \n\tconst _handleSelectClick = () => {\n\t\tif ( selected ) { \n\t\t\tonSelect( \"\" );\n\t\t} else {\n\t\t\tonSelect( versionId );\n\t\t}\n\t};\n\t\n\treturn (\n\t\t<Pane display=\"flex\" flexDirection=\"row\" minHeight={ 32 } marginBottom={ 16 }>\n\t\t\t<Pane display=\"flex\">\n\t\t\t\t<Select onChange={ e => setSelectedVersion( Number( e.target.value )) } defaultValue={ selectedVersion }>\n\t\t\t\t\t{ selectOptions && _.map( selectOptions, ({ value, label }) => <option key={ value } value={ value } >{ label }</option> )}\n\t\t\t\t</Select> \n\t\t\t\t<IconButton icon={ isTruncated ? \"expand-all\" : \"collapse-all\" } iconSize={ 10 } appearance=\"minimal\" onClick={ _handleTruncateClick }/>\n\t\t\t</Pane>\n\t\t\t<Pane { ...colourProps } elevation={ 1 } display=\"flex\" flex={ 1 } onClick={ _handleSelectClick } paddingLeft={ 16 } paddingRight={ 16 } paddingBottom={ isTruncated ? 0 : 16 } paddingTop={ isTruncated ? 0 : 16 }>\n\t\t\t\t<Pane display=\"flex\" alignItems=\"center\">\n\t\t\t\t\t<Heading size={ 300 } marginRight={ 16 }>{ title }</Heading>\n\t\t\t\t</Pane>\n\t\t\t\t<Pane flex={ 1 } display=\"flex\" flexDirection=\"column\" justifyContent=\"center\">\n\t\t\t\t\t{ body && _.map( body.split( \"\\n\" ), ( line, i ) => line ? <Text key={ i }>{ line }</Text> : <br key={ i } /> )}\n\t\t\t\t</Pane>\n\t\t\t</Pane>\n\t\t</Pane>\n\n\t);\n};\nSearchRow.propTypes = {\n\tworkout: PropTypes.object,\n\tmatchSize: PropTypes.number,\n\tonSelect: PropTypes.func,\n\tselected: PropTypes.bool,\n};\n","\n//\n// Adultletics Admin / Views / Panel / Panels / Index \n//\n\nimport SignIn from \"./auth/sign-in.js\";\nimport DrillsAdd from \"./drills/add\";\nimport DrillsEdit from \"./drills/edit\";\nimport DailyChallengesAdd from \"./daily-challenges/add\";\nimport DailyChallengesEdit from \"./daily-challenges/edit\";\nimport WorkoutsAdd from \"./workouts/add\";\nimport WorkoutsVersionAdd from \"./workouts/addVersion\";\nimport WorkoutsEdit from \"./workouts/edit\";\nimport WeeksAdd from \"./weeks/add\";\nimport WeeksDayWorkoutUpdate from \"./weeks/update-workout\";\nimport WeeksViewWorkoutVersion from \"./weeks/view-workout-version\";\n\nexport default {\n\t\"auth/sign-in\": SignIn,\n\t\"drills/add\": DrillsAdd,\n\t\"drills/edit\": DrillsEdit,\n\t\"daily-challenges/add\": DailyChallengesAdd,\n\t\"daily-challenges/edit\": DailyChallengesEdit,\n\t\"workouts/add\": WorkoutsAdd,\n\t\"workouts/add-version\": WorkoutsVersionAdd,\n\t\"workouts/edit\": WorkoutsEdit,\n\t\"weeks/add\": WeeksAdd,\n\t\"weeks/update-workout\": WeeksDayWorkoutUpdate,\n\t\"weeks/view-workout-version\": WeeksViewWorkoutVersion,\n};\n\nexport { Services, Queries, constants, Loading } from \"../../../views/index\";\n","\n// deps\nimport React, { useContext, useState } from \"react\";\nimport { TextInputField, Button } from \"evergreen-ui\";\nimport { Formik } from \"formik\";\n\n// app\nimport { Services } from \"../index\";\n\n//\n// Adultletics Admin / Views / Panel / Panels / Auth / Sign In\n//\n\n\nexport default function SignInPanel () {\n\tconst { isAuthenticating, signIn } = useContext( Services.Auth );\n\tconst { closePanel } = useContext( Services.UI );\n\tconst [ errors, setErrors ] = useState( null );\n\n\treturn (\n\t\t<Formik\n\t\t\tinitialValues={{}}\n\t\t\tonSubmit={ async ({ email, password }) => {\n\t\t\t\tsetErrors( null );\n\t\t\t\ttry {\n\t\t\t\t\tawait signIn( email, password );\n\t\t\t\t\tclosePanel();\n\t\t\t\t} catch ( error ) {\n\t\t\t\t\tconsole.error( error );\n\t\t\t\t\tsetErrors( error.message );\n\t\t\t\t}\n\t\t\t}}\n\t\t>{\n\t\t\t\t({ values, handleChange, handleSubmit, isSubmitting }) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<form>\n\t\t\t\t\t\t\t<TextInputField\n\t\t\t\t\t\t\t\tlabel=\"Email\"\n\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TextInputField\n\t\t\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button isLoading={ isAuthenticating || isSubmitting } disabled={ !values.email || !values.password } onClick={ handleSubmit }>Log In</Button>\n\t\t\t\t\t\t\t{ errors && <p>{ errors }</p>}\n\t\t\t\t\t\t</form> );\n\t\t\t\t}}\n\t\t</Formik>\n\t);\n}\n","\n// deps\nimport React, { useContext, useState } from \"react\";\nimport { Pane, Heading, TextInputField, Button, Text, Textarea, FormField } from \"evergreen-ui\";\nimport { Formik } from \"formik\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport _ from \"lodash\";\nimport { useHistory } from \"react-router-dom\";\n\n// app\nimport { Services, Queries } from \"../index\";\n\n//\n// Adultletics Admin / Views / Panel / Panels / Drills / Add\n//\n\n\nexport default function AddDrillPanel () {\n\tconst [ insertDrill ] = useMutation( Queries.drills.add, { refetchQueries: [{ query: Queries.drills.getAll }], awaitRefetchQueries: true }); \n\tconst { closePanel } = useContext( Services.UI );\n\tconst [ errors, setErrors ] = useState( null );\n\tconst history = useHistory();\n\n\treturn ( <>\n\t\t<Pane marginBottom={ 56 }>\n\t\t\t<Heading size={ 600 }>Adding a new drill</Heading>\n\t\t</Pane>\n\t\t<Formik\n\t\t\tinitialValues={{ description: \"\" }}\n\t\t\tonSubmit={ async data => {\n\t\t\t\tsetErrors( null );\n\t\t\t\ttry {\n\t\t\t\t\tconst res = await insertDrill({ variables: { objects: [ data ]}});\n\t\t\t\t\tclosePanel();\n\t\t\t\t\tconst id = _.get( res, \"data.insert_drills.returning[0].id\" );\n\t\t\t\t\thistory.push( `/admin/drills/${ id }` );\n\t\t\t\t} catch ( error ) {\n\t\t\t\t\tconsole.error( error );\n\t\t\t\t\tsetErrors( error.message );\n\t\t\t\t}\n\t\t\t}}\n\t\t>{\n\t\t\t\t({ values, dirty, handleChange, handleSubmit, isSubmitting }) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<form>\n\t\t\t\t\t\t\t\t<TextInputField\n\t\t\t\t\t\t\t\t\tlabel=\"Title\"\n\t\t\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<TextInputField\n\t\t\t\t\t\t\t\t\tlabel=\"Url to include on weekly workout download\"\n\t\t\t\t\t\t\t\t\tname=\"url\"\n\t\t\t\t\t\t\t\t\tvalue={ values.url }\n\t\t\t\t\t\t\t\t\tplaceholder=\"https://youtu.be/nPMB8PZE9F8\"\n\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<TextInputField\n\t\t\t\t\t\t\t\t\tlabel=\"Url to include the video in this Admin Portal (see below on how-to find)\"\n\t\t\t\t\t\t\t\t\tname=\"embed_url\"\n\t\t\t\t\t\t\t\t\tvalue={ values.embed_url }\n\t\t\t\t\t\t\t\t\tplaceholder=\"https://www.youtube-nocookie.com/embed/nPMB8PZE9F8\"\n\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormField label=\"Workout Description\" marginBottom={ 16 }>\n\t\t\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\t\t\tname=\"description\"\n\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FormField>\n\t\t\t\t\t\t\t\t<Button iconBefore={ isSubmitting ? \"\" : \"tick\"} isLoading={ isSubmitting } disabled={ !dirty || !values.title || !values.url } onClick={ handleSubmit }>Add</Button>\n\t\t\t\t\t\t\t\t{ errors && <p>{ errors }</p>}\n\t\t\t\t\t\t\t</form> \n\t\t\t\t\t\t\t<Pane marginTop={ 24 }>\n\t\t\t\t\t\t\t\t<Text>To find embed URL: go to the YouTube page, click on Share just below the video display, click on Embed in the pop-up, then select \"Enable privacy-enhanced mode\" and finally copy the quoted part of the text following \"src=\" in the text to the right, should look something like \"https://www.youtube-nocookie.com/embed/nPMB8PZE9F8\"</Text>\n\t\t\t\t\t\t\t</Pane>\n\t\t\t\t\t\t</>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t</Formik>\n\t</> );\n}\n","\n// deps\nimport React, { useContext, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Pane, Heading, TextInputField, Button, Text, Textarea, FormField } from \"evergreen-ui\";\nimport { Formik } from \"formik\";\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport _ from \"lodash\";\n\n// app\nimport { Services, Queries } from \"../index\";\n\n//\n// Adultletics Admin / Views / Panel / Panels / Drills / Edit\n//\n\n\nexport default function EditDrillPanel ({ props }) {\n\tconst { id } = props;\n\tconst { data, loading } = useQuery( Queries.drills.getOne, { variables: { id }});\n\tconst [ updateDrill ] = useMutation( Queries.drills.update, { refetchQueries: [{ query: Queries.drills.getOne, variables: { id }}], awaitRefetchQueries: true }); \n\tconst { closePanel } = useContext( Services.UI );\n\tconst [ errors, setErrors ] = useState( null );\n\n\tif ( loading ) return null;\n    \n\tconst drill = _.get( data, \"drills_by_pk\" );\n\tconst title = _.get( drill, \"title\" );\n\tconst url = _.get( drill, \"url\" );\n\tconst embed_url = _.get( drill, \"embed_url\" );\n\tconst description = _.get( drill, \"description\" );\n    \n\treturn ( <>\n\t\t<Pane marginBottom={ 56 }>\n\t\t\t<Heading size={ 600 }>Editing challenge: { title }</Heading>\n\t\t</Pane>\n\t\t<Formik\n\t\t\tinitialValues={{ title, url, embed_url, description: _.isNull( description ) ? \"\" : description }}\n\t\t\tonSubmit={ async data => {\n\t\t\t\tsetErrors( null );\n\t\t\t\ttry {\n\t\t\t\t\tawait updateDrill({ variables: { id, data }});\n\t\t\t\t\tclosePanel();\n\t\t\t\t} catch ( error ) {\n\t\t\t\t\tconsole.error( error );\n\t\t\t\t\tsetErrors( error.message );\n\t\t\t\t}\n\t\t\t}}\n\t\t\tenableReinitialize={ true }\n\t\t>{\n\t\t\t\t({ values, dirty, handleChange, handleSubmit, isSubmitting }) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<form>\n\t\t\t\t\t\t\t\t<TextInputField\n\t\t\t\t\t\t\t\t\tlabel=\"Title\"\n\t\t\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\t\t\tvalue={ values.title }\n\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<TextInputField\n\t\t\t\t\t\t\t\t\tlabel=\"Url to include on weekly workout download\"\n\t\t\t\t\t\t\t\t\tname=\"url\"\n\t\t\t\t\t\t\t\t\tvalue={ values.url }\n\t\t\t\t\t\t\t\t\tplaceholder=\"https://youtu.be/nPMB8PZE9F8\"\n\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<TextInputField\n\t\t\t\t\t\t\t\t\tlabel=\"Url to include on this page (see below on how-to find)\"\n\t\t\t\t\t\t\t\t\tname=\"embed_url\"\n\t\t\t\t\t\t\t\t\tvalue={ values.embed_url }\n\t\t\t\t\t\t\t\t\tplaceholder=\"https://www.youtube-nocookie.com/embed/nPMB8PZE9F8\"\n\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormField label=\"Workout Description\" marginBottom={ 16 }>\n\t\t\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\t\t\tname=\"description\"\n\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\tvalue={ values.description }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FormField>\n\t\t\t\t\t\t\t\t<Button iconBefore={ isSubmitting ? \"\" : \"tick\"} isLoading={ isSubmitting } disabled={ !dirty || !values.title || !values.url } onClick={ handleSubmit }>Update</Button>\n\t\t\t\t\t\t\t\t{ errors && <p>{ errors }</p>}\n\t\t\t\t\t\t\t</form> \n\t\t\t\t\t\t\t<Pane marginTop={ 24 }>\n\t\t\t\t\t\t\t\t<Text>To find embed URL: go to the YouTube page, click on Share just below the video display, click on Embed in the pop-up, then select \"Enable privacy-enhanced mode\" and finally copy the quoted part of the text following \"src=\" in the text to the right, should look something like \"https://www.youtube-nocookie.com/embed/nPMB8PZE9F8\"</Text>\n\t\t\t\t\t\t\t</Pane>\n\t\t\t\t\t\t</>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t</Formik>\n\t</> );\n}\nEditDrillPanel.propTypes = {\n\tprops: PropTypes.object,\n\tid: PropTypes.string,\n};\n","\n// deps\nimport React, { useContext, useState } from \"react\";\nimport { Pane, Heading, TextInputField, Button, Textarea, FormField } from \"evergreen-ui\";\nimport { Formik } from \"formik\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { useHistory } from \"react-router-dom\";\nimport _ from \"lodash\";\n\n// app\nimport { Services, Queries } from \"../index\";\n\n//\n// Adultletics Admin / Views / Panel / Panels / Challenges / Add\n//\n\n\nexport default function AddDailyChallengePanel () {\n\tconst [ insertChallenge ] = useMutation( Queries.dailyChallenges.add, { refetchQueries: [{ query: Queries.dailyChallenges.getAll }], awaitRefetchQueries: true }); \n\tconst { closePanel } = useContext( Services.UI );\n\tconst [ errors, setErrors ] = useState( null );\n\tconst history = useHistory();\n\n\treturn ( <>\n\t\t<Pane marginBottom={ 56 }>\n\t\t\t<Heading size={ 600 }>Adding a new daily challenge</Heading>\n\t\t</Pane>\n\t\t<Formik\n\t\t\tinitialValues={{ description: \"\" }}\n\t\t\tonSubmit={ async data => {\n\t\t\t\tsetErrors( null );\n\t\t\t\ttry {\n\t\t\t\t\tconst res = await insertChallenge({ variables: { objects: [ data ]}});\n\t\t\t\t\tclosePanel();\n\t\t\t\t\tconst id = _.get( res, \"data.insert_challenges.returning[0].id\" );\n\t\t\t\t\thistory.push( `/admin/challenges/${ id }` );\n\t\t\t\t} catch ( error ) {\n\t\t\t\t\tconsole.error( error );\n\t\t\t\t\tsetErrors( error.message );\n\t\t\t\t}\n\t\t\t}}\n\t\t>{\n\t\t\t\t({ values, dirty, handleChange, handleSubmit, isSubmitting }) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<form>\n\t\t\t\t\t\t\t\t<TextInputField\n\t\t\t\t\t\t\t\t\tlabel=\"Title\"\n\t\t\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormField label=\"Description\" marginBottom={ 16 }>\n\t\t\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\t\t\tname=\"description\"\n\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FormField>\n\t\t\t\t\t\t\t\t<Button iconBefore={ isSubmitting ? \"\" : \"tick\"} isLoading={ isSubmitting } disabled={ !dirty || !values.title || !values.description } onClick={ handleSubmit }>Add</Button>\n\t\t\t\t\t\t\t\t{ errors && <p>{ errors }</p>}\n\t\t\t\t\t\t\t</form> \n\t\t\t\t\t\t</>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t</Formik>\n\t</> );\n}\n","\n// deps\nimport React, { useContext, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Pane, Heading, TextInputField, Button, Textarea, FormField } from \"evergreen-ui\";\nimport { Formik } from \"formik\";\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport _ from \"lodash\";\n\n// app\nimport { Services, Queries } from \"../index\";\n\n//\n// Adultletics Admin / Views / Panel / Panels / Challenges / Edit\n//\n\n\nexport default function EditDailyChallengePanel ({ props }) {\n\tconst { id } = props;\n\tconst { data, loading } = useQuery( Queries.dailyChallenges.getOne, { variables: { id }});\n\tconst [ updateChallenge ] = useMutation( Queries.dailyChallenges.update, { refetchQueries: [{ query: Queries.dailyChallenges.getOne, variables: { id }}], awaitRefetchQueries: true }); \n\tconst { closePanel } = useContext( Services.UI );\n\tconst [ errors, setErrors ] = useState( null );\n\n\tif ( loading ) return null;\n    \n\tconst challenge = _.get( data, \"daily_challenges_by_pk\" );\n\tconst title = _.get( challenge, \"title\" );\n\tconst description = _.get( challenge, \"description\", \"\" );\n    \n\treturn ( <>\n\t\t<Pane marginBottom={ 56 }>\n\t\t\t<Heading size={ 600 }>Editing challenge: { title }</Heading>\n\t\t</Pane>\n\t\t<Formik\n\t\t\tinitialValues={{ title, description: _.isNull( description ) ? \"\" : description }}\n\t\t\tonSubmit={ async data => {\n\t\t\t\tsetErrors( null );\n\t\t\t\ttry {\n\t\t\t\t\tawait updateChallenge({ variables: { id, data }});\n\t\t\t\t\tclosePanel();\n\t\t\t\t} catch ( error ) {\n\t\t\t\t\tconsole.error( error );\n\t\t\t\t\tsetErrors( error.message );\n\t\t\t\t}\n\t\t\t}}\n\t\t\tenableReinitialize={ true }\n\t\t>{\n\t\t\t\t({ values, dirty, handleChange, handleSubmit, isSubmitting }) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<form>\n\t\t\t\t\t\t\t\t<TextInputField\n\t\t\t\t\t\t\t\t\tlabel=\"Title\"\n\t\t\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\t\t\tvalue={ values.title }\n\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormField label=\"Description\" marginBottom={ 16 }>\n\t\t\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\t\t\tname=\"description\"\n\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\tvalue={ values.description }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FormField>\n\t\t\t\t\t\t\t\t<Button iconBefore={ isSubmitting ? \"\" : \"tick\"} isLoading={ isSubmitting } disabled={ !dirty || !values.title || !values.description } onClick={ handleSubmit }>Update</Button>\n\t\t\t\t\t\t\t\t{ errors && <p>{ errors }</p>}\n\t\t\t\t\t\t\t</form> \n\t\t\t\t\t\t</>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t</Formik>\n\t</> );\n}\nEditDailyChallengePanel.propTypes = {\n\tprops: PropTypes.object,\n\tid: PropTypes.string,\n};\n","\n// deps\nimport React, { useContext, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Radio, Select, TextInputField, Textarea, FormField, Button, Pane, Heading, Text, IconButton, Paragraph } from \"evergreen-ui\";\nimport { Formik } from \"formik\";\nimport { useMutation, useQuery } from \"@apollo/react-hooks\";\nimport _ from \"lodash\";\nimport { useHistory } from \"react-router-dom\";\n\n// app\nimport { Services, Queries, constants, Loading } from \"../index\";\n\n//\n// Adultletics Admin / Views / Panel / Panels / Workouts / Add\n//\n\n\nexport default function AddWorkoutPanel ({ props }) {\n\tconst { emit } = props;\n\tconst { data: drillsData, loading: drillsLoading } = useQuery( Queries.drills.getAll );\n\tconst [ addVersion ] = useMutation( Queries.workouts.addVersion, { refetchQueries: [{ query: Queries.workouts.getAll }], awaitRefetchQueries: true }); \n\tconst { authUser } = useContext( Services.Auth );\n\tconst { closePanel } = useContext( Services.UI );\n\tconst [ errors, setErrors ] = useState( null );\n\tconst [ selectedDrills, setSelectedDrills ] = useState([]);\n\tconst { intensityOptions, workoutTypes } = constants;\n\tconst history = useHistory();\n    \n\tconst allDrills = _.get( drillsData, \"drills\" );\n\tconst unselectedDrills = _.filter( allDrills, drill => !_.some( selectedDrills, [ \"id\", drill.id ]));\n\n\tif ( drillsLoading ) return <Loading />;\n\n\treturn (\n\t\t<>\n\t\t\t<Pane marginBottom={ 56 }>\n\t\t\t\t<Heading size={ 600 }>Adding a new workout</Heading>\n\t\t\t</Pane>\n\t\t\t<Formik\n\t\t\t\tinitialValues={{ running_km: 0, running_minutes: 0, intensity: \"3\" }}\n\t\t\t\tonSubmit={ async ({ title, body, stats, intensity, type }) => {\n\t\t\t\t\tsetErrors( null );\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst drills_insert_data = _.map( selectedDrills, ({ id }) => ({ _drill: id }));\n\t\t\t\t\t\tconst res = await addVersion({ variables: { objects: [{\n\t\t\t\t\t\t\tversion_num: 1,\n\t\t\t\t\t\t\t_owner: authUser.id,\n\t\t\t\t\t\t\tbody,\n\t\t\t\t\t\t\tworkout: {\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\ttitle, type,\n\t\t\t\t\t\t\t\t\tintensity,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tstats: {\n\t\t\t\t\t\t\t\tdata: stats ? stats : {},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tdrills: {\n\t\t\t\t\t\t\t\tdata: drills_insert_data,\n\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t}]}});\n\t\t\t\t\t\tclosePanel();\n\t\t\t\t\t\tconst versionId = _.get( res, \"data.insert_workouts_versions.returning[0].id\" );\n\t\t\t\t\t\tconst workoutId = _.get( res, \"data.insert_workouts_versions.returning[0].workout.id\" );\n\t\t\t\t\t\tif ( emit ) emit( versionId );\n\t\t\t\t\t\tif ( !emit ) history.push( `/admin/workouts/${ workoutId }` );\n\t\t\t\t\t} catch ( error ) {\n\t\t\t\t\t\tconsole.error( error );\n\t\t\t\t\t\tsetErrors( error.message );\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t>{\n\t\t\t\t\t({ values, dirty, handleChange, handleSubmit, isSubmitting, setFieldValue }) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<form>\n\t\t\t\t\t\t\t\t\t<TextInputField\n\t\t\t\t\t\t\t\t\t\tlabel=\"Workout Title\"\n\t\t\t\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<FormField label=\"Workout Intensity\" onChange={ e => setFieldValue( \"intensity\", e.target.value ) } marginBottom={ 16 }>\n\t\t\t\t\t\t\t\t\t\t<Pane display=\"flex\" flexDirection=\"row\" justifyContent=\"space-between\">\n\t\t\t\t\t\t\t\t\t\t\t{ _.map( intensityOptions, ({ label, value }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<Radio key={ value } name=\"intensity\" value={ value } label={ label } checked={ value === values.intensity } />\n\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t</Pane>\n\t\t\t\t\t\t\t\t\t</FormField>\n\t\t\t\t\t\t\t\t\t<FormField label=\"Workout Type\" marginBottom={ 16 }>\n\t\t\t\t\t\t\t\t\t\t<Select name=\"type\" value={ values.type } onChange={ handleChange } height={ 32 } >\n\t\t\t\t\t\t\t\t\t\t\t<option key=\"empty\" value=\"\">Please select an option...</option>\n\t\t\t\t\t\t\t\t\t\t\t{ workoutTypes && _.map( workoutTypes, ({ value, label }) => ( <option key={ value } value={ value }>{ label }</option> ))}\n\t\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t\t</FormField>\n\t\t\t\t\t\t\t\t\t<FormField label=\"Add Drills to Workout\" marginBottom={ 16 }>\n\t\t\t\t\t\t\t\t\t\t<Pane marginBottom={ 8 } display=\"flex\" justifyContent=\"space-between\">\n\t\t\t\t\t\t\t\t\t\t\t<Select name=\"drill\" value={ values.drill } onChange={ handleChange } height={ 32 }>\n\t\t\t\t\t\t\t\t\t\t\t\t<option key=\"empty\" value=\"\">Please select an option...</option>\n\t\t\t\t\t\t\t\t\t\t\t\t{ unselectedDrills && _.map( unselectedDrills, ({ id, title }) => ( <option key={ id } value={ id }>{ title }</option> ))}\n\t\t\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t\t\t\t<Button \n\t\t\t\t\t\t\t\t\t\t\t\ticonBefore=\"tick\"\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={ !values.drill } \n\t\t\t\t\t\t\t\t\t\t\t\tonClick={ e => {\n\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedDrills([ ...selectedDrills, _.find( allDrills, [ \"id\", values.drill ]) ]); \n\t\t\t\t\t\t\t\t\t\t\t\t}} \n\t\t\t\t\t\t\t\t\t\t\t\tmarginRight={ 8 } \n\t\t\t\t\t\t\t\t\t\t\t\tmarginLeft={ 8 }>Attach drill\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</Pane>\n\t\t\t\t\t\t\t\t\t\t<Pane>\n\t\t\t\t\t\t\t\t\t\t\t{ errors && <p>{ errors }</p>}\n\t\t\t\t\t\t\t\t\t\t</Pane>\n\t\t\t\t\t\t\t\t\t</FormField>\n\t\t\t\t\t\t\t\t\t<FormField label=\"Selected Drills\" marginBottom={ 16 }>\n\t\t\t\t\t\t\t\t\t\t<Pane>\n\t\t\t\t\t\t\t\t\t\t\t{ !_.isEmpty( selectedDrills ) ? _.map( selectedDrills, ({ id, title }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<Pane display=\"flex\" flexDirection=\"row\" elevation={ 1 } height={ 32 } alignItems=\"center\" background=\"white\" marginBottom={ 16 } key={ id } paddingLeft={ 16 } paddingRight={ 8 }>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text flex={ 1 }>{ title }</Text>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton icon=\"small-cross\" intent=\"danger\" appearance=\"minimal\" onClick={ e => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedDrills( _.filter( selectedDrills, drill => drill.id !== id ));\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}/> \n\t\t\t\t\t\t\t\t\t\t\t\t</Pane> )) : <Paragraph marginBottom={ 16 } >No drills selected</Paragraph>}\n\t\t\t\t\t\t\t\t\t\t</Pane>\n\t\t\t\t\t\t\t\t\t</FormField>\n\t\t\t\t\t\t\t\t\t<FormField label=\"Workout Description\" marginBottom={ 16 }>\n\t\t\t\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\t\t\t\tname=\"body\"\n\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\trows={ 24 }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormField>\n\t\t\t\t\t\t\t\t\t<FormField label=\"Stats\" marginBottom={ 16 }>\n\t\t\t\t\t\t\t\t\t\t<table className=\"stats-input-table\">\n\t\t\t\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th></th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th colSpan={ 2 }><Heading size={ 200 }>5/10km</Heading></th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th colSpan={ 2 }><Heading size={ 200 }>half/ultra</Heading></th>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td><Heading size={ 200 }>Beginner</Heading></td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td><TextInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"km\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"stats.running_km_beginner_short\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td><TextInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"mins\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"stats.running_minutes_beginner_short\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td><TextInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"km\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"stats.running_km_beginner_long\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td><TextInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"mins\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"stats.running_minutes_beginner_long\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td><Heading size={ 200 }>Intermediate</Heading></td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td><TextInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"km\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"stats.running_km_intermediate_short\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td><TextInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"mins\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"stats.running_minutes_intermediate_short\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td><TextInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"km\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"stats.running_km_intermediate_long\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td><TextInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"mins\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"stats.running_minutes_intermediate_long\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td><Heading size={ 200 }>Advanced</Heading></td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td><TextInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"km\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"stats.running_km_advanced_short\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td><TextInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"mins\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"stats.running_minutes_advanced_short\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td><TextInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"km\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"stats.running_km_advanced_long\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td><TextInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"mins\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"stats.running_minutes_advanced_long\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t</FormField>\n\t\t\t\t\t\t\t\t\t<Button iconBefore={ isSubmitting ? \"\" : \"tick\"} isLoading={ isSubmitting } disabled={ !dirty || !values.title } onClick={ handleSubmit }>Add</Button>\n\t\t\t\t\t\t\t\t\t{ errors && <p>{ errors }</p>}\n\t\t\t\t\t\t\t\t</form> \n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t);\n\t\t\t\t\t}}\n\t\t\t</Formik>\n\t\t</> );\n}\nAddWorkoutPanel.propTypes = {\n\tprops: PropTypes.object,\n\temit: PropTypes.func,\n};","\n// deps\nimport React, { useContext, useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Heading, Pane, TextInputField, Textarea, FormField, Button,Text, Select, IconButton, Paragraph } from \"evergreen-ui\";\nimport { Formik } from \"formik\";\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport _ from \"lodash\";\n\n// app\nimport { Services, Queries, Loading } from \"../index\";\n\n//\n// Adultletics Admin / Views / Panel / Panels / Workouts / Add Version\n//\n\n\nexport default function AddWorkoutVersionPanel ({ props }) {\n\tconst { id, workoutId, emit } = props;\n\tconst { data: workoutData, loading: workoutLoading } = useQuery( Queries.workouts.getOne, { variables: { id: workoutId }});\n\tconst { data: drillsData, loading: drillsLoading } = useQuery( Queries.drills.getAll );\n\tconst { data, loading } = useQuery( Queries.workouts.getVersion, { variables: { id }});\n\tconst [ addVersion ] = useMutation( Queries.workouts.addVersion ); \n\tconst [ selectedDrills, setSelectedDrills ] = useState([]);\n\tconst { closePanel } = useContext( Services.UI );\n\tconst { authUser } = useContext( Services.Auth );\n\tconst [ errors, setErrors ] = useState( null );\n\n\tconst version = _.get( data, \"workouts_versions_by_pk\" );\n\tuseEffect(() => setSelectedDrills( _.map( _.get( version, \"drills\", []), \"drill\" )), [ version ]);\n\n\tif ( loading || workoutLoading || drillsLoading ) return <Loading />;\n\n\tconst highestExistingVersion = _.reduce( _.get( workoutData, \"workouts_by_pk.versions\" ), ( total, curr ) => curr.version_num > total ? curr.version_num : total, 0 );\n\tconst newVersionNum = highestExistingVersion + 1;\n\n\tconst initialValues = {\n\t\tbody: _.get( version, \"body\" ),\n\t\trunning_km: _.get( version, \"stats.running_km\", 0 ),\n\t\trunning_minutes: _.get( version, \"stats.running_minutes\", 0 ),\n\t};\n    \n\tconst allDrills = _.get( drillsData, \"drills\" );\n\tconst unselectedDrills = _.filter( allDrills, drill => !_.some( selectedDrills, [ \"id\", drill.id ]));\n    \n\treturn ( <>\n\t\t<Pane marginBottom={ 56 }>\n\t\t\t<Heading size={ 600 }>Adding a new version of workout: { _.get( version, \"workout.title\", \"\" ) }</Heading>\n\t\t</Pane>\n\t\t<Formik\n\t\t\tinitialValues={{ ...initialValues }}\n\t\t\tonSubmit={ async ({ body, stats }) => {\n\t\t\t\tsetErrors( null );\n\t\t\t\ttry {\n\t\t\t\t\tconst drills_insert_data = _.map( selectedDrills, ({ id }) => ({ _drill: id }));\n\t\t\t\t\tconst res = await addVersion({ variables: { objects: [{\n\t\t\t\t\t\tbody, \n\t\t\t\t\t\tversion_num: newVersionNum,\n\t\t\t\t\t\t_workout: workoutId,\n\t\t\t\t\t\t_owner: authUser.id,\n\t\t\t\t\t\tstats: {\n\t\t\t\t\t\t\tdata: stats ? stats : {},\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdrills: {\n\t\t\t\t\t\t\tdata: drills_insert_data,\n\t\t\t\t\t\t},\n\t\t\t\t\t}]}});\n\t\t\t\t\tclosePanel();\n\t\t\t\t\tconst id = _.get( res, \"data.insert_workouts_versions.returning[0].id\" );\n\t\t\t\t\tif ( emit ) emit( id );\n\t\t\t\t} catch ( error ) {\n\t\t\t\t\tconsole.error( error );\n\t\t\t\t\tsetErrors( error.message );\n\t\t\t\t}\n\t\t\t}}\n\t\t>{\n\t\t\t\t({ values, dirty, handleChange, handleSubmit, isSubmitting }) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<form>\n\t\t\t\t\t\t\t\t<FormField label=\"Workout Description\" marginBottom={ 8 }>\n\t\t\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\t\t\tname=\"body\"\n\t\t\t\t\t\t\t\t\t\tvalue={ values.body }\n\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\trows={ 24 }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FormField>\n\t\t\t\t\t\t\t\t<FormField label=\"Add Drills\" marginBottom={ 16 }>\n\t\t\t\t\t\t\t\t\t<Pane marginBottom={ 8 } display=\"flex\" justifyContent=\"space-between\">\n\t\t\t\t\t\t\t\t\t\t<Select name=\"drill\" value={ values.drill } onChange={ handleChange } height={ 32 }>\n\t\t\t\t\t\t\t\t\t\t\t<option key=\"empty\" value=\"\">Please select an option...</option>\n\t\t\t\t\t\t\t\t\t\t\t{ unselectedDrills && _.map( unselectedDrills, ({ id, title }) => ( <option key={ id } value={ id }>{ title }</option> ))}\n\t\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t\t\t<Button \n\t\t\t\t\t\t\t\t\t\t\ticonBefore=\"tick\"\n\t\t\t\t\t\t\t\t\t\t\tdisabled={ !values.drill } \n\t\t\t\t\t\t\t\t\t\t\tonClick={ e => {\n\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedDrills([ ...selectedDrills, _.find( allDrills, [ \"id\", values.drill ]) ]); \n\t\t\t\t\t\t\t\t\t\t\t}} \n\t\t\t\t\t\t\t\t\t\t\tmarginRight={ 8 } \n\t\t\t\t\t\t\t\t\t\t\tmarginLeft={ 8 }>Attach drill\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</Pane>\n\t\t\t\t\t\t\t\t\t<Pane>\n\t\t\t\t\t\t\t\t\t\t{ errors && <p>{ errors }</p>}\n\t\t\t\t\t\t\t\t\t</Pane>\n\t\t\t\t\t\t\t\t</FormField>\n\t\t\t\t\t\t\t\t<FormField label=\"Selected drills\" marginBottom={ 16 }>\n\t\t\t\t\t\t\t\t\t<Pane>\n\t\t\t\t\t\t\t\t\t\t{ !_.isEmpty( selectedDrills ) ? _.map( selectedDrills, ({ id, title }) => (\n\t\t\t\t\t\t\t\t\t\t\t<Pane display=\"flex\" flexDirection=\"row\" elevation={ 1 } height={ 32 } alignItems=\"center\" background=\"white\" marginBottom={ 16 } key={ id } paddingLeft={ 16 } paddingRight={ 8 }>\n\t\t\t\t\t\t\t\t\t\t\t\t<Text flex={ 1 }>{ title }</Text>\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton icon=\"small-cross\" intent=\"danger\" appearance=\"minimal\" onClick={ e => {\n\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedDrills( _.filter( selectedDrills, drill => drill.id !== id ));\n\t\t\t\t\t\t\t\t\t\t\t\t}}/> \n\t\t\t\t\t\t\t\t\t\t\t</Pane> )) : <Paragraph marginBottom={ 16 } >No drills selected</Paragraph>}\n\t\t\t\t\t\t\t\t\t</Pane>\n\t\t\t\t\t\t\t\t</FormField>\n\t\t\t\t\t\t\t\t<FormField label=\"Stats\" marginBottom={ 16 }>\n\t\t\t\t\t\t\t\t\t<table className=\"stats-input-table\">\n\t\t\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<th></th>\n\t\t\t\t\t\t\t\t\t\t\t\t<th colSpan={ 2 }><Heading size={ 200 }>5/10km</Heading></th>\n\t\t\t\t\t\t\t\t\t\t\t\t<th colSpan={ 2 }><Heading size={ 200 }>half/ultra</Heading></th>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td><Heading size={ 200 }>Beginner</Heading></td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td><TextInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"km\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"stats.running_km_beginner_short\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td><TextInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"mins\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"stats.running_minutes_beginner_short\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td><TextInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"km\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"stats.running_km_beginner_long\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td><TextInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"mins\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"stats.running_minutes_beginner_long\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td><Heading size={ 200 }>Intermediate</Heading></td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td><TextInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"km\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"stats.running_km_intermediate_short\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td><TextInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"mins\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"stats.running_minutes_intermediate_short\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td><TextInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"km\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"stats.running_km_intermediate_long\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td><TextInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"mins\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"stats.running_minutes_intermediate_long\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<td><Heading size={ 200 }>Advanced</Heading></td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td><TextInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"km\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"stats.running_km_advanced_short\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td><TextInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"mins\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"stats.running_minutes_advanced_short\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td><TextInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"km\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"stats.running_km_advanced_long\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t\t\t\t\t<td><TextInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"mins\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"stats.running_minutes_advanced_long\"\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t</FormField>\n\t\t\t\t\t\t\t\t<Button iconBefore={ isSubmitting ? \"\" : \"tick\"} isLoading={ isSubmitting } disabled={ !dirty } onClick={ handleSubmit }>Add</Button>\n\t\t\t\t\t\t\t\t{ errors && <p>{ errors }</p>}\n\t\t\t\t\t\t\t</form> \n\t\t\t\t\t\t</>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t</Formik>\n\t</> );\n}\nAddWorkoutVersionPanel.propTypes = {\n\tprops: PropTypes.object,\n\tid: PropTypes.string,\n\tworkoutId: PropTypes.string,\n\temit: PropTypes.func,\n};\n","\n// deps\nimport React, { useContext, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Radio, Select, TextInputField, Heading, Pane, Textarea, FormField, Button, Text, IconButton, Paragraph } from \"evergreen-ui\";\nimport { Formik } from \"formik\";\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport _ from \"lodash\";\n\n// app\nimport { Services, Queries, constants, Loading } from \"../index\";\n\n//\n// Adultletics Admin / Views / Panel / Panels / Workouts / Edit\n//\n\n\nexport default function EditWorkoutVersionPanel ({ props }) {\n\tconst { id } = props;\n\tconst { data, loading } = useQuery( Queries.workouts.getVersion, { variables: { id }});\n\tconst { data: drillsData, loading: drillsLoading } = useQuery( Queries.drills.getAll );\n\tconst [ updateVersion ] = useMutation( Queries.workouts.updateVersion, { refetchQueries: [{ query: Queries.workouts.getVersion, variables: { id }}], awaitRefetchQueries: true });\n\tconst [ addDrill, { addDrillsLoading }] = useMutation( Queries.workouts.addDrill, { refetchQueries: [{ query: Queries.workouts.getVersion, variables: { id }}], awaitRefetchQueries: true });\n\tconst [ removeDrill ] = useMutation( Queries.workouts.removeDrill, { refetchQueries: [{ query: Queries.workouts.getVersion, variables: { id }}], awaitRefetchQueries: true });\n\tconst { closePanel } = useContext( Services.UI );\n\tconst [ errors, setErrors ] = useState( null );\n\tconst { intensityOptions, workoutTypes } = constants;\n\n\tif ( loading || drillsLoading ) return <Loading />;\n\n\tconst version = _.get( data, \"workouts_versions_by_pk\" );\n\n\tconst initialValues = {\n\t\tbody: _.get( version, \"body\" ),\n\t\ttitle: _.get( version, \"workout.title\", \"\" ),\n\t\tstats: _.reduce( _.get( version, \"stats\", {}), ( total, value, key ) => ({ ...total, [ key ]: _.isNull( value ) ? \"\" : value }), {}),\n\t\tintensity: _.get( version, \"workout.intensity\", \"3\" ),\n\t\ttype: _.get( version, \"workout.type\", \"\" ),\n\t};\n    \n\tconst workoutsDrills = _.get( version, \"drills\", []);\n\tconst selectedDrills = _.map( workoutsDrills, drill => ({ workoutsDrillId: drill.id, ...drill.drill }));\n\tconst allDrills = _.get( drillsData, \"drills\" );\n\tconst unselectedDrills = _.filter( allDrills, drill => !_.some( selectedDrills, [ \"id\", drill.id ]));\n\n\treturn (\n\t\t<>\n\t\t\t<Pane marginBottom={ 56 }>\n\t\t\t\t<Heading size={ 600 }>Editing version { _.get( version, \"version_num\" ) } of workout: { _.get( version, \"workout.title\", \"\" ) }</Heading>\n\t\t\t</Pane>\n\t\t\t<Formik\n\t\t\t\tinitialValues={{ ...initialValues }}\n\t\t\t\tonSubmit={ async ({ title, body, stats, type, intensity }) => {\n\t\t\t\t\tsetErrors( null );\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst stats_update_data = _.reduce( stats, ( total, value, key ) => {\n\t\t\t\t\t\t\tif ( key === \"id\" || key === \"__typename\" ) return total;\n\t\t\t\t\t\t\treturn { ...total, [ key ]: value === \"\" ? null : value };\n\t\t\t\t\t\t}, {});\n\t\t\t\t\t\tawait updateVersion({ variables: {\n\t\t\t\t\t\t\tversion_id: id,\n\t\t\t\t\t\t\tworkout_id: _.get( version, \"workout.id\" ),\n\t\t\t\t\t\t\tstats_id: _.get( version, \"stats.id\" ),\n\t\t\t\t\t\t\tbody,\n\t\t\t\t\t\t\tworkout_data: {\n\t\t\t\t\t\t\t\ttitle,\n\t\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\t\tintensity,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tstats_data: stats_update_data,\n\t\t\t\t\t\t}});\n\t\t\t\t\t\tclosePanel();\n\t\t\t\t\t} catch ( error ) {\n\t\t\t\t\t\tconsole.error( error );\n\t\t\t\t\t\tsetErrors( error.message );\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t>{\n\t\t\t\t\t({ values, dirty, handleChange, handleSubmit, isSubmitting, setFieldValue }) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<form>\n\t\t\t\t\t\t\t\t\t<TextInputField\n\t\t\t\t\t\t\t\t\t\tlabel=\"Workout Title (effects all versions)\"\n\t\t\t\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\t\t\t\tvalue={ values.title }\n\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<FormField label=\"Workout Intensity (effects all versions)\" onChange={ e => setFieldValue( \"intensity\", e.target.value ) } marginBottom={ 16 }>\n\t\t\t\t\t\t\t\t\t\t<Pane display=\"flex\" flexDirection=\"row\" justifyContent=\"space-between\">\n\t\t\t\t\t\t\t\t\t\t\t{ _.map( intensityOptions, ({ label, value }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<Radio key={ value } name=\"intensity\" value={ value } label={ label } checked={ value === values.intensity }/>\n\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t</Pane>\n\t\t\t\t\t\t\t\t\t</FormField>\n\t\t\t\t\t\t\t\t\t<FormField label=\"Workout Type (effects all versions)\" marginBottom={ 16 }>\n\t\t\t\t\t\t\t\t\t\t<Select name=\"type\" value={ values.type } onChange={ handleChange } height={ 32 } >\n\t\t\t\t\t\t\t\t\t\t\t<option key=\"empty\" value=\"\">Please select an option...</option>\n\t\t\t\t\t\t\t\t\t\t\t{ workoutTypes && _.map( workoutTypes, ({ value, label }) => ( <option key={ value } value={ value }>{ label }</option> ))}\n\t\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t\t</FormField>\n\t\t\t\t\t\t\t\t\t<FormField label=\"Add Drills\" marginBottom={ 16 }>\n\t\t\t\t\t\t\t\t\t\t<Pane marginBottom={ 8 } display=\"flex\" justifyContent=\"space-between\">\n\t\t\t\t\t\t\t\t\t\t\t<Select name=\"drill\" value={ values.drill } onChange={ handleChange } height={ 32 }>\n\t\t\t\t\t\t\t\t\t\t\t\t<option key=\"empty\" value=\"\">Please select an option...</option>\n\t\t\t\t\t\t\t\t\t\t\t\t{ unselectedDrills && _.map( unselectedDrills, ({ id, title }) => ( <option key={ id } value={ id }>{ title }</option> ))}\n\t\t\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t\t\t\t<Button \n\t\t\t\t\t\t\t\t\t\t\t\ticonBefore={ addDrillsLoading ? \"\" : \"tick\"} \n\t\t\t\t\t\t\t\t\t\t\t\tisLoading={ addDrillsLoading } \n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={ !values.drill } \n\t\t\t\t\t\t\t\t\t\t\t\tonClick={ e => {\n\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t\t\taddDrill({ variables: { objects: [{ _drill: values.drill, _workouts_version: _.get( version, \"id\" ) }]}}); \n\t\t\t\t\t\t\t\t\t\t\t\t}} \n\t\t\t\t\t\t\t\t\t\t\t\tmarginRight={ 8 } \n\t\t\t\t\t\t\t\t\t\t\t\tmarginLeft={ 8 }>Attach drill\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</Pane>\n\t\t\t\t\t\t\t\t\t\t<Pane>\n\t\t\t\t\t\t\t\t\t\t\t{ errors && <p>{ errors }</p>}\n\t\t\t\t\t\t\t\t\t\t</Pane>\n\t\t\t\t\t\t\t\t\t</FormField>\n\t\t\t\t\t\t\t\t\t<FormField label=\"Selected drills\" marginBottom={ 16 }>\n\t\t\t\t\t\t\t\t\t\t<Pane>\n\t\t\t\t\t\t\t\t\t\t\t{ !_.isEmpty( selectedDrills ) ? _.map( selectedDrills, ({ id, title, workoutsDrillId }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<Pane display=\"flex\" flexDirection=\"row\" elevation={ 1 } height={ 32 } alignItems=\"center\" background=\"white\" marginBottom={ 16 } key={ id } paddingLeft={ 16 } paddingRight={ 8 }>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Text flex={ 1 }>{ title }</Text>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton icon=\"small-cross\" intent=\"danger\" appearance=\"minimal\" onClick={ e => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tremoveDrill({ variables: { id: workoutsDrillId }});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}/> \n\t\t\t\t\t\t\t\t\t\t\t\t</Pane> )) : <Paragraph marginBottom={ 16 } >No drills selected</Paragraph>}\n\t\t\t\t\t\t\t\t\t\t</Pane>\n\t\t\t\t\t\t\t\t\t</FormField>\n\t\t\t\t\t\t\t\t\t<FormField label=\"Workout Description\" marginBottom={ 16 }>\n\t\t\t\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\t\t\t\tname=\"body\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={ values.body }\n\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\trows={ 24 }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormField>\n\t\t\t\t\t\t\t\t\t<FormField label=\"Stats\" marginBottom={ 16 }>\n\t\t\t\t\t\t\t\t\t\t<table className=\"stats-input-table\">\n\t\t\t\t\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th></th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th colSpan={ 2 }><Heading size={ 200 }>5/10km</Heading></th>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th colSpan={ 2 }><Heading size={ 200 }>half/ultra</Heading></th>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td><Heading size={ 200 }>Beginner</Heading></td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td><TextInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"km\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"stats.running_km_beginner_short\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={ values.stats.running_km_beginner_short }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td><TextInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"mins\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"stats.running_minutes_beginner_short\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={ values.stats.running_minutes_beginner_short }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td><TextInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"km\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"stats.running_km_beginner_long\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={ values.stats.running_km_beginner_long }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td><TextInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"mins\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"stats.running_minutes_beginner_long\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={ values.stats.running_minutes_beginner_long }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td><Heading size={ 200 }>Intermediate</Heading></td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td><TextInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"km\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"stats.running_km_intermediate_short\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={ values.stats.running_km_intermediate_short }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td><TextInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"mins\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"stats.running_minutes_intermediate_short\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={ values.stats.running_minutes_intermediate_short }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td><TextInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"km\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"stats.running_km_intermediate_long\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={ values.stats.running_km_intermediate_long }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td><TextInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"mins\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"stats.running_minutes_intermediate_long\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={ values.stats.running_minutes_intermediate_long }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td><Heading size={ 200 }>Advanced</Heading></td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td><TextInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"km\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"stats.running_km_advanced_short\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={ values.stats.running_km_advanced_short }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td><TextInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"mins\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"stats.running_minutes_advanced_short\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={ values.stats.running_minutes_advanced_short }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td><TextInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"km\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"stats.running_km_advanced_long\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={ values.stats.running_km_advanced_long }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<td><TextInputField\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"mins\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"stats.running_minutes_advanced_long\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={ values.stats.running_minutes_advanced_long }\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t\t\t\t/></td>\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t\t\t\t</FormField>\n\t\t\t\t\t\t\t\t\t<Button iconBefore={ isSubmitting ? \"\" : \"tick\"} isLoading={ isSubmitting } disabled={ !dirty } onClick={ handleSubmit }>Update</Button>\n\t\t\t\t\t\t\t\t\t{ errors && <p>{ errors }</p>}\n\t\t\t\t\t\t\t\t</form> \n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t);\n\t\t\t\t\t}}\n\t\t\t</Formik>\n\t\t</>\n\t);\n}\nEditWorkoutVersionPanel.propTypes = {\n\tprops: PropTypes.object,\n\tid: PropTypes.string,\n};\n","\n// deps\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Badge, Text, Pane, Heading, Paragraph } from \"evergreen-ui\";\nimport { Link } from \"react-router-dom\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport _ from \"lodash\";\n\n// app\nimport { Loading, Queries, constants } from \"../index\";\n\n//\n// Adultletics Admin / Views / Panel / Panels / Weeks / View Workout Version\n//\n\n\nexport default function ViewWorkoutVersionPanel ({ props }) {\n\tconst { id } = props;\n\tconst { intensityOptions, workoutTypes } = constants;\n\tconst { data, loading } = useQuery( Queries.workouts.getVersion, { variables: { id }});\n\n\tif ( loading ) return <Loading />;\n    \n\tconst version = _.get( data, \"workouts_versions_by_pk\" );\n    \n\tconst version_num = _.get( version, \"version_num\" );\n\tconst body = _.get( version, \"body\" );\n\tconst drills = _.map( _.get( version, \"drills\", []), \"drill\" );\n\tconst workout = _.get( version, \"workout\" );\n\tconst title = _.get( workout, \"title\" );\n\tconst typesValue = _.get( workout, \"type\" );\n\tconst intensityValue = _.get( workout, \"intensity\" );\n    \n\tconst intensity = _.get( _.find( intensityOptions, [ \"value\", intensityValue ]), \"label\", \"\" );\n\tconst type = _.get( _.find( workoutTypes, [ \"value\", typesValue ]), \"label\", \"\" );\n\n\treturn ( <>\n\t\t<Pane marginBottom={ 32 } display=\"flex\" flexDirection=\"row\" alignItems=\"center\">\n\t\t\t<Pane marginRight={ 16 }>\n\t\t\t\t<Heading size={ 600 }>{ title } - version { version_num }</Heading>\n\t\t\t</Pane>\n\t\t\t<Pane flex={ 1 }>\n\t\t\t\t<Badge marginRight={ 8 } color=\"blue\">{ type }</Badge>\n\t\t\t\t<Badge color=\"blue\">{ intensity }</Badge>\n\t\t\t</Pane>\n\t\t</Pane>\n\t\t<Pane background=\"white\" padding={ 32 } marginBottom={ 32 } elevation={ 1 }>\n\t\t\t<Heading marginBottom={ 16 } size={ 200 }>Description:</Heading>\n\t\t\t{ body && _.map( body.split( \"\\n\" ), ( line, i ) => line ? <Paragraph key={ i }>{ line }</Paragraph> : <br key={ i } /> )}\n\t\t</Pane>\n\t\t<Pane marginBottom={ 32 }>\n\t\t\t<Heading size={ 200 } marginBottom={ 16 }>Drills:</Heading>\n\t\t\t{ !_.isEmpty( drills ) ? _.map( drills, drill => {\n\t\t\t\tconst { id, title } = drill;\n\t\t\t\treturn ( \n\t\t\t\t\t<Link to={ `/drills/${ id }` } key={ id } style={{ marginBottom: \"24px\" }}>\n\t\t\t\t\t\t<Pane display=\"flex\" elevation={ 1 } height={ 48 } alignItems=\"center\" background=\"white\" marginBottom={ 16 }>\n\t\t\t\t\t\t\t<Text marginLeft={ 24 }>{ title }</Text> \n\t\t\t\t\t\t</Pane> \n\t\t\t\t\t</Link>\n\t\t\t\t);\n\t\t\t}) : <Paragraph>No attached drills</Paragraph> }\n\t\t</Pane>\n\t</> );\n}\nViewWorkoutVersionPanel.propTypes = {\n\tprops: PropTypes.object,\n\tid: PropTypes.string,\n};\n","\n// deps\nimport React, { useContext } from \"react\";\nimport { SideSheet } from \"evergreen-ui\";\nimport _ from \"lodash\";\n\n// app\nimport { Services } from \"../../views/index\";\nimport panelMap from \"./panels\";\n\n//\n// Adultletics Admin / Views / Panel / Panel\n//\n\n\nconst widthMap = {\n\twide: 930,\n\tnormal: 620,\n};\n\nexport default function Panel () {\n\tconst { panel, closePanel } = useContext( Services.UI );\n\tconst _isOpen = !_.isEmpty( panel );\n\tconst ShownPanel = panelMap[ _.get( panel, \"panel\", false ) ];\n\tconst props = _.get( panel, \"props\", {});\n\tconst size = widthMap[ _.get( panel, \"size\", \"normal\" ) ]; \n\n\treturn (\n\t\t<>\n\t\t\t<SideSheet\n\t\t\t\tisShown={ _isOpen }\n\t\t\t\tonCloseComplete={ closePanel }\n\t\t\t\tpreventBodyScrolling\n\t\t\t\twidth={ size }\n\t\t\t>\n\t\t\t\t<div className=\"v-panel\">\n\t\t\t\t\t{ ( _isOpen && ShownPanel ) && <ShownPanel props={ props } /> }\n\t\t\t\t</div>\n\t\t\t</SideSheet>\n\t\t</>\n\t);\n}\n\n// example: openPanel({ panel: \"auth/sign-in\", props: { id: \"123\" }, width: \"wide\" })\n","\n// deps\nimport React, { useState, useEffect, lazy } from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\nimport _ from \"lodash\";\n\n// app\nimport FirebaseProvider from \"./firebase\";\nimport ApolloProvider from \"./apollo\";\nimport Services from \"./services\"\nimport Panel from \"../components/panel/panel\"\nimport { Pane } from \"evergreen-ui\";\n\nconst Admin = lazy(() => import('../views/views-admin'))\n\n//\n// Adultletics / App / React App\n//\n\n\nexport default function ReactApp () {\n\tconst { Auth, UI } = Services;\n\tconst [ auth, setAuth ] = useState({\n\t\tauthUser: {},\n\t\ttoken: \"\",\n\t\tuid: \"\",\n\t\tisAuthenticating: true,\n\t\tisAuthenticated: false,\n\t\tupdateAuth: payload => setAuth( auth => ({ ...auth, ...payload })),\n\t\tsignIn: () => {},\n\t\tsignOut: () => {},\n\t});\n\tconst [ ui, setUI ] = useState({\n\t\tpanel: {},\n\t\topenPanel: payload => setUI( ui => ({ ...ui, panel: payload })),\n\t\tclosePanel: () => setUI( ui => ({ ...ui, panel: {}})),\n\t\tbreakpoint: getBreakpoint(),\n\t\tsetBreakpoint: payload => setUI( ui => ({ ...ui, breakpoint: payload })),\n\t});\n\tconst { setBreakpoint } = ui;\n    \n\tuseEffect(() => window.addEventListener( \"resize\", _.debounce(() => setBreakpoint( getBreakpoint()), 1000 )), [ setBreakpoint ]);\n\n\treturn (\n\t\t<Auth.Provider value={ auth }>\n\t\t\t<UI.Provider value={ ui }>\n\t\t\t\t<ApolloProvider>\n\t\t\t\t\t<FirebaseProvider>\n\t\t\t\t\t\t<Panel />\n\t\t\t\t\t\t<Pane background=\"tint1\" minHeight=\"100vh\">\n\t\t\t\t\t\t\t<div className=\"v-router\">\n\t\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t\t<Route path=\"/admin\" component={ Admin } />\n\t\t\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</Pane>                                \n\t\t\t\t\t</FirebaseProvider>\n\t\t\t\t</ApolloProvider>\n\t\t\t</UI.Provider>\n\t\t</Auth.Provider>\n\t);\n}\n\n\nconst getBreakpoint = () => {\n\tconst width = window.innerWidth;\n\tif ( width <= 640 ) return \"small\";\n\tif ( width <= 1008 ) return \"medium\";\n\treturn \"large\";\n};\n","\n// deps\nimport { createContext } from \"react\";\n\n//\n// Adultletics Admin / Views / App / Services\n//\n\n\nexport const Auth = createContext({\n\tauthUser: {},\n\ttoken: \"\",\n\tuid: \"\",\n\tisAuthenticating: false,\n\tisAuthenticated: false,\n\tupdateAuth: () => {},\n\tsignIn: () => {},\n\tsignOut: () => {},\n});\n\nexport const UI = createContext({\n\tpanel: {},\n\topenPanel: () => {},\n\tclosePanel: () => {},\n\tbreakpoint: \"\",\n\tsetBreakpoint: () => {},\n});\n\nexport default { \n\tAuth,\n\tUI,\n};","\nimport \"./index.scss\";\n\n//\n// Adultletics / Views / Index \n//\n\nexport { default as Queries } from \"../app/queries\";\nexport { default as Services } from \"../app/services\";\nexport { default as Loading } from \"../components/loading/loading\";\nexport { default as constants } from \"../base/constants\";\n"],"sourceRoot":""}