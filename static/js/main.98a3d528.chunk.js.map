{"version":3,"sources":["views/app/firebase.js","views/app/router.js","views/app/apollo.js","views/app/app.js","components/panel/panels/index.js","components/panel/panels/auth/sign-in.js","components/panel/panels/drills/add.js","components/panel/panels/drills/edit.js","components/panel/panels/workouts/add.js","components/panel/panels/workouts/addVersion.js","components/panel/panels/workouts/edit.js","components/panel/panels/workouts/edit-drills.js","components/panel/panel.js","components/top-nav/top-nav.js","views/app/queries.js","views/app/services.js","components/loading/loading.js","base/constants.js","views/dashboard/dashboard.js","views/workouts/workout.js","views/workouts/workouts.js","views/workouts/index.js","views/weeks/week.js","views/weeks/weeks.js","views/weeks/index.js","views/drills/drill.js","views/drills/drills.js","views/drills/index.js","serviceWorker.js","index.js"],"names":["Firebase","children","apolloClient","useApolloClient","useContext","Services","Auth","updateAuth","authUser","uid","isAuthenticated","useEffect","_","get","a","query","Queries","auth","getUser","variables","userRes","signIn","email","password","firebase","signInWithEmailAndPassword","signOut","onAuthStateChanged","user","isAuthenticating","getIdToken","token","getIdTokenResult","idTokenResult","claims","isEmpty","initializeApp","apiKey","process","authDomain","databaseURL","projectId","propTypes","PropTypes","node","Router","UI","useState","panel","openPanel","payload","setUI","ui","closePanel","notifications","addNotification","Provider","value","Panel","Pane","background","minHeight","TopNav","className","path","DrillsIndex","WorkoutsIndex","WeeksIndex","Dashboard","Apollo","client","ApolloClient","uri","headers","Authorization","App","setAuth","errors","setErrors","initialValues","onSubmit","console","error","message","values","handleChange","handleSubmit","isSubmitting","TextInputField","label","type","name","onChange","autoFocus","Button","isLoading","disabled","onClick","useMutation","drills","add","refetchQueries","getAll","awaitRefetchQueries","insertDrill","data","log","objects","dirty","placeholder","iconBefore","title","url","marginTop","Text","id","props","useQuery","getOne","loading","updateDrill","drill","enableReinitialize","workouts","addWorkout","intensityOptions","constants","workoutTypes","running_km","running_minutes","intensity","body","versions","version_num","_owner","stats","setFieldValue","FormField","e","target","marginBottom","display","flexDirection","justifyContent","map","Radio","key","checked","Select","height","Textarea","workoutId","workoutData","workoutLoading","getVersion","addVersion","version","newVersionNum","reduce","total","curr","Heading","size","_workout","updateVersion","version_id","workout_id","stats_id","stats_data","drillsData","drillsLoading","addDrill","removeDrill","workoutsDrills","currentDrills","workoutsDrillId","allDrills","unselectedDrills","filter","some","width","_drill","_workouts_version","Paragraph","elevation","alignItems","paddingLeft","paddingRight","flex","IconButton","icon","intent","appearance","widthMap","wide","normal","_isOpen","ShownPanel","panelMap","SideSheet","isShown","onCloseComplete","preventBodyScrolling","history","useHistory","pathname","useLocation","marginLeft","Tablist","route","Tab","onSelect","push","isSelected","startsWith","aria-controls","marginRight","Avatar","first_name","gql","update","createContext","Loading","Spinner","color","Workout","selectedVersion","setSelectedVersion","typesValue","intensityValue","last","find","Badge","padding","to","style","Workouts","workout","intensityLabel","typeLabel","useParams","_workoutView","Boolean","Week","Weeks","_weekView","Drill","workoutsCount","Card","src","frameBorder","allow","allowFullScreen","Drills","_drillView","window","location","hostname","match","rootElement","document","getElementById","hasChildNodes","hydrate","render","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.98a3d528.chunk.js","sourcesContent":["\n// deps\nimport React, { useContext, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport _ from \"lodash\";\nimport { useApolloClient } from \"@apollo/react-hooks\";\n\n// app\nimport { Queries, Services } from \"../index\";\n\n//\n// Adultletics Admin / Views / App / Firebase\n//\n\n\nconst firebaseConfig = {\n\tapiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n\tauthDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n\tdatabaseURL: process.env.REACT_APP_FIREBASE_DB_URL,\n\tprojectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n};\n\nfirebase.initializeApp( firebaseConfig );\n\nexport default function Firebase ({ children }) {\n\tconst apolloClient = useApolloClient();\n\tconst { updateAuth, authUser, uid, isAuthenticated } = useContext( Services.Auth );\n\n\tuseEffect(() => {\n\t\tif ( uid && uid !== _.get( authUser, \"uid\", \"\" )) {\n\t\t\t( async () => {\n\t\t\t\tconst userRes = await apolloClient.query({ query: Queries.auth.getUser, variables: { uid }});\n\t\t\t\tconst authUser = _.get( userRes, \"data.users_by_pk\" );\n\t\t\t\tupdateAuth({ authUser });\n\t\t\t})();\n\t\t}\n\t// eslint-disable-next-line\n\t}, [ uid ]);\n\t\t\n\tuseEffect(() => {\n\t\tupdateAuth({ \n\t\t\tsignIn: async ( email, password ) => await firebase.auth().signInWithEmailAndPassword( email, password ), \n\t\t\tsignOut: () => firebase.auth().signOut(),\n\t\t});\n\t\t\n\t\tfirebase.auth().onAuthStateChanged( async user => {\n\t\t\tupdateAuth({ isAuthenticating: true });\n\t\t\tif ( user ) {\n\t\t\t\tconst token = await user.getIdToken();\n\t\t\t\tconst idTokenResult = await user.getIdTokenResult();\n\t\t\t\tconst hasuraClaim = idTokenResult.claims[ \"https://hasura.io/jwt/claims\" ];\n\t\t\t\tif ( hasuraClaim ) updateAuth({ token, uid: user.uid });\n\t\t\t} else { \n\t\t\t\tupdateAuth({ authUser: {}, token: null, uid: \"\" }); \n\t\t\t}\n\t\t\tupdateAuth({ isAuthenticating: false });\n\t\t});\n\t// eslint-disable-next-line\n\t}, []);\n\n\tuseEffect(() => { \n\t\tif ( _.isEmpty( authUser ) && isAuthenticated !== false ) updateAuth({ isAuthenticated: false });\n\t\tif ( !_.isEmpty( authUser ) && isAuthenticated !== true ) updateAuth({ isAuthenticated: true });\n\t// eslint-disable-next-line\n\t}, [ authUser ]);\n\n\treturn (\n\t\t<>\n\t\t\t{ children && children }\n\t\t</>\n\t);\n}\nFirebase.propTypes = {\n\tchildren: PropTypes.node,\n};\n","\n// deps\nimport React, { useState, useContext } from \"react\";\n\n// app\nimport { Services, Panel, TopNav, Dashboard, WorkoutsIndex, WeeksIndex, DrillsIndex } from \"../index\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport { Pane } from \"evergreen-ui\";\n\n//\n// Adultletics Admin / Views / App / App\n//\n\n\nexport default function Router () {\n\tconst { UI, Auth } = Services;\n\tconst [ ui, setUI ] = useState({\n\t\tpanel: {},\n\t\topenPanel: payload => setUI( ui => ({ ...ui, panel: payload })),\n\t\tclosePanel: () => setUI( ui => ({ ...ui, panel: {}})),\n\t\tnotifications: [{}],\n\t\taddNotification: () => {},\n\t});\n\tconst { isAuthenticated } = useContext( Auth );\n    \n\treturn (\n\t\t<>\n\t\t\t<UI.Provider value={ ui }>\n\t\t\t\t<BrowserRouter>\n\t\t\t\t\t<Panel />\n\t\t\t\t\t<Pane background=\"tint1\" minHeight=\"100vh\">\n\t\t\t\t\t\t<TopNav />\n\t\t\t\t\t\t<div className=\"v-router\">\n\t\t\t\t\t\t\t{ isAuthenticated && <Switch>\n\t\t\t\t\t\t\t\t<Route path=\"/drills/:id?\"><DrillsIndex /></Route>\n\t\t\t\t\t\t\t\t<Route path=\"/workouts/:id?\"><WorkoutsIndex /></Route>\n\t\t\t\t\t\t\t\t<Route path=\"/weeks/:id?\"><WeeksIndex /></Route>\n\t\t\t\t\t\t\t\t<Route path=\"/\"><Dashboard /></Route>\n\t\t\t\t\t\t\t</Switch> }\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Pane>\n\t\t\t\t</BrowserRouter>\n\t\t\t</UI.Provider>\n\t\t</>\n\t);\n}\n","\n// deps\nimport React, { useContext } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { ApolloProvider } from \"@apollo/react-hooks\";\nimport ApolloClient from \"apollo-boost\";\n\n// app\nimport { Services } from \"../index\";\n\n//\n// Adultletics Admin / Views / App / Apollo Provider\n//\n\nexport default function Apollo ({ children }) {\n\tconst { token } = useContext( Services.Auth );\n    \n\tconst client = new ApolloClient({\n\t\turi: \"https://adultletics-hasura.herokuapp.com/v1/graphql\",\n\t\theaders: token ? { Authorization: `Bearer ${ token }` } : {},\n\t});\n    \n\treturn (\n\t\t<ApolloProvider client={ client }>\n\t\t\t{ children }\n\t\t</ApolloProvider>\n\t);\n}\nApollo.propTypes = {\n\tchildren: PropTypes.node,\n};\n","\n// deps\nimport React, { useState } from \"react\";\n\n// app\nimport FirebaseProvider from \"./firebase\";\nimport Router from \"./router\";\nimport ApolloProvider from \"./apollo\";\nimport { Services } from \"../index\";\n \n//\n// Adultletics Admin / Views / App / App\n//\n\n\nexport default function App () {\n\tconst { Auth } = Services;\n\tconst [ auth, setAuth ] = useState({\n\t\tauthUser: {},\n\t\ttoken: \"\",\n\t\tuid: \"\",\n\t\tisAuthenticating: false,\n\t\tisAuthenticated: false,\n\t\tupdateAuth: payload => setAuth( auth => ({ ...auth, ...payload })),\n\t\tsignIn: () => {},\n\t\tsignOut: () => {},\n\t});\n    \n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<Auth.Provider value={ auth }>\n\t\t\t\t<ApolloProvider>\n\t\t\t\t\t<FirebaseProvider>\n\t\t\t\t\t\t<Router />\n\t\t\t\t\t</FirebaseProvider>\n\t\t\t\t</ApolloProvider>\n\t\t\t</Auth.Provider>\n\t\t</div>\n\t);\n}\n","\n//\n// Adultletics Admin / Views / Panel / Panels / Index \n//\n\nimport SignIn from \"./auth/sign-in.js\";\nimport DrillsAdd from \"./drills/add\";\nimport DrillsEdit from \"./drills/edit\";\nimport WorkoutsAdd from \"./workouts/add\";\nimport WorkoutsVersionAdd from \"./workouts/addVersion\";\nimport WorkoutsEdit from \"./workouts/edit\";\nimport WorkoutsDrillsEdit from \"./workouts/edit-drills\";\n\nexport default {\n\t\"auth/sign-in\": SignIn,\n\t\"drills/add\": DrillsAdd,\n\t\"drills/edit\": DrillsEdit,\n\t\"workouts/add\": WorkoutsAdd,\n\t\"workouts/add-version\": WorkoutsVersionAdd,\n\t\"workouts/edit\": WorkoutsEdit,\n\t\"workouts/edit-drills\": WorkoutsDrillsEdit,\n};\n\nexport { Services, Queries, constants } from \"../../../views/index\";\n","\n// deps\nimport React, { useContext, useState } from \"react\";\nimport { TextInputField, Button } from \"evergreen-ui\";\nimport { Formik } from \"formik\";\n\n// app\nimport { Services } from \"../index\";\n\n//\n// Adultletics Admin / Views / Panel / Panels / Auth / Sign In\n//\n\n\nexport default function SignInPanel () {\n\tconst { isAuthenticating, signIn } = useContext( Services.Auth );\n\tconst { closePanel } = useContext( Services.UI );\n\tconst [ errors, setErrors ] = useState( null );\n\n\treturn (\n\t\t<Formik\n\t\t\tinitialValues={{}}\n\t\t\tonSubmit={ async ({ email, password }) => {\n\t\t\t\tsetErrors( null );\n\t\t\t\ttry {\n\t\t\t\t\tawait signIn( email, password );\n\t\t\t\t\tclosePanel();\n\t\t\t\t} catch ( error ) {\n\t\t\t\t\tconsole.error( error );\n\t\t\t\t\tsetErrors( error.message );\n\t\t\t\t}\n\t\t\t}}\n\t\t>{\n\t\t\t\t({ values, handleChange, handleSubmit, isSubmitting }) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<form>\n\t\t\t\t\t\t\t<TextInputField\n\t\t\t\t\t\t\t\tlabel=\"Email\"\n\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TextInputField\n\t\t\t\t\t\t\t\tlabel=\"Password\"\n\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button isLoading={ isAuthenticating || isSubmitting } disabled={ !values.email || !values.password } onClick={ handleSubmit }>Log In</Button>\n\t\t\t\t\t\t\t{ errors && <p>{ errors }</p>}\n\t\t\t\t\t\t</form> );\n\t\t\t\t}}\n\t\t</Formik>\n\t);\n}\n","\n// deps\nimport React, { useContext, useState } from \"react\";\nimport { Pane, TextInputField, Button, Text } from \"evergreen-ui\";\nimport { Formik } from \"formik\";\nimport { useMutation } from \"@apollo/react-hooks\";\n\n// app\nimport { Services, Queries } from \"../index\";\n\n//\n// Adultletics Admin / Views / Panel / Panels / Drills / add\n//\n\n\nexport default function AddDrillPanel () {\n\tconst [ insertDrill ] = useMutation( Queries.drills.add, { refetchQueries: [{ query: Queries.drills.getAll }], awaitRefetchQueries: true }); \n\tconst { closePanel } = useContext( Services.UI );\n\tconst [ errors, setErrors ] = useState( null );\n\n\treturn (\n\t\t<Formik\n\t\t\tinitialValues={{}}\n\t\t\tonSubmit={ async data => {\n\t\t\t\tsetErrors( null );\n\t\t\t\tconsole.log( data );\n\t\t\t\ttry {\n\t\t\t\t\tawait insertDrill({ variables: { objects: [ data ]}});\n\t\t\t\t\tclosePanel();\n\t\t\t\t} catch ( error ) {\n\t\t\t\t\tconsole.error( error );\n\t\t\t\t\tsetErrors( error.message );\n\t\t\t\t}\n\t\t\t}}\n\t\t>{\n\t\t\t\t({ values, dirty, handleChange, handleSubmit, isSubmitting }) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<form>\n\t\t\t\t\t\t\t\t<TextInputField\n\t\t\t\t\t\t\t\t\tlabel=\"Title\"\n\t\t\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<TextInputField\n\t\t\t\t\t\t\t\t\tlabel=\"Url, must be the embed URL from youtube\"\n\t\t\t\t\t\t\t\t\tname=\"url\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"https://www.youtube-nocookie.com/embed/nPMB8PZE9F8\"\n\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Button iconBefore={ isSubmitting ? \"\" : \"tick\"} isLoading={ isSubmitting } disabled={ !dirty || !values.title || !values.url } onClick={ handleSubmit }>Add</Button>\n\t\t\t\t\t\t\t\t{ errors && <p>{ errors }</p>}\n\t\t\t\t\t\t\t</form> \n\t\t\t\t\t\t\t<Pane marginTop={ 24 }>\n\t\t\t\t\t\t\t\t<Text>To find embed URL: go to the YouTube page, click on Share just below the video display, click on Embed in the pop-up, then select \"Enable privacy-enhanced mode\" and finally copy the quoted part of the text following \"src=\" in the text to the right, should look something like \"https://www.youtube-nocookie.com/embed/nPMB8PZE9F8\"</Text>\n\t\t\t\t\t\t\t</Pane>\n\t\t\t\t\t\t</>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t</Formik>\n\t);\n}\n","\n// deps\nimport React, { useContext, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Pane, TextInputField, Button, Text } from \"evergreen-ui\";\nimport { Formik } from \"formik\";\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport _ from \"lodash\";\n\n// app\nimport { Services, Queries } from \"../index\";\n\n//\n// Adultletics Admin / Views / Panel / Panels / Drills / add\n//\n\n\nexport default function EditDrillPanel ({ props }) {\n\tconst { id } = props;\n\tconst { data, loading } = useQuery( Queries.drills.getOne, { variables: { id }});\n\tconst [ updateDrill ] = useMutation( Queries.drills.add, { refetchQueries: [{ query: Queries.drills.getOne, variables: { id }}], awaitRefetchQueries: true }); \n\tconst { closePanel } = useContext( Services.UI );\n\tconst [ errors, setErrors ] = useState( null );\n\n\tif ( loading ) return null;\n    \n\tconst drill = _.get( data, \"drills_by_pk\" );\n\tconst title = _.get( drill, \"title\" );\n\tconst url = _.get( drill, \"url\" );\n    \n\treturn (\n\t\t<Formik\n\t\t\tinitialValues={{ title, url }}\n\t\t\tonSubmit={ async data => {\n\t\t\t\tsetErrors( null );\n\t\t\t\tconsole.log( data );\n\t\t\t\ttry {\n\t\t\t\t\tawait updateDrill({ variables: { id, data }});\n\t\t\t\t\tclosePanel();\n\t\t\t\t} catch ( error ) {\n\t\t\t\t\tconsole.error( error );\n\t\t\t\t\tsetErrors( error.message );\n\t\t\t\t}\n\t\t\t}}\n\t\t\tenableReinitialize={ true }\n\t\t>{\n\t\t\t\t({ values, dirty, handleChange, handleSubmit, isSubmitting }) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<form>\n\t\t\t\t\t\t\t\t<TextInputField\n\t\t\t\t\t\t\t\t\tlabel=\"Title\"\n\t\t\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\t\t\tvalue={ values.title }\n\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<TextInputField\n\t\t\t\t\t\t\t\t\tlabel=\"Url, must be the embed URL from youtube\"\n\t\t\t\t\t\t\t\t\tname=\"url\"\n\t\t\t\t\t\t\t\t\tvalue={ values.url }\n\t\t\t\t\t\t\t\t\tplaceholder=\"https://www.youtube-nocookie.com/embed/nPMB8PZE9F8\"\n\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Button iconBefore={ isSubmitting ? \"\" : \"tick\"} isLoading={ isSubmitting } disabled={ !dirty || !values.title || !values.url } onClick={ handleSubmit }>Update</Button>\n\t\t\t\t\t\t\t\t{ errors && <p>{ errors }</p>}\n\t\t\t\t\t\t\t</form> \n\t\t\t\t\t\t\t<Pane marginTop={ 24 }>\n\t\t\t\t\t\t\t\t<Text>To find embed URL: go to the YouTube page, click on Share just below the video display, click on Embed in the pop-up, then select \"Enable privacy-enhanced mode\" and finally copy the quoted part of the text following \"src=\" in the text to the right, should look something like \"https://www.youtube-nocookie.com/embed/nPMB8PZE9F8\"</Text>\n\t\t\t\t\t\t\t</Pane>\n\t\t\t\t\t\t</>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t</Formik>\n\t);\n}\nEditDrillPanel.propTypes = {\n\tprops: PropTypes.object,\n\tid: PropTypes.string,\n};\n","\n// deps\nimport React, { useContext, useState } from \"react\";\nimport { Radio, Select, TextInputField, Textarea, FormField, Button, Pane } from \"evergreen-ui\";\nimport { Formik } from \"formik\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport _ from \"lodash\";\n\n// app\nimport { Services, Queries, constants } from \"../index\";\n\n//\n// Adultletics Admin / Views / Panel / Panels / Workouts / Add\n//\n\n\n\nexport default function AddWorkoutPanel () {\n\tconst [ addWorkout ] = useMutation( Queries.workouts.addWorkout, { refetchQueries: [{ query: Queries.workouts.getAll }], awaitRefetchQueries: true }); \n\tconst { authUser } = useContext( Services.Auth );\n\tconst { closePanel } = useContext( Services.UI );\n\tconst [ errors, setErrors ] = useState( null );\n\tconst { intensityOptions, workoutTypes } = constants;\n\n\treturn (\n\t\t<Formik\n\t\t\tinitialValues={{ running_km: 0, running_minutes: 0, intensity: \"3\" }}\n\t\t\tonSubmit={ async ({ title, body, running_km, running_minutes }) => {\n\t\t\t\tsetErrors( null );\n\t\t\t\ttry {\n\t\t\t\t\tawait addWorkout({ variables: { objects: [{\n\t\t\t\t\t\ttitle,\n\t\t\t\t\t\tversions: {\n\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\tversion_num: 1,\n\t\t\t\t\t\t\t\t_owner: authUser.id,\n\t\t\t\t\t\t\t\tbody,\n\t\t\t\t\t\t\t\tstats: {\n\t\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\t\trunning_km, running_minutes,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t}]}});\n\t\t\t\t\tclosePanel();\n\t\t\t\t} catch ( error ) {\n\t\t\t\t\tconsole.error( error );\n\t\t\t\t\tsetErrors( error.message );\n\t\t\t\t}\n\t\t\t}}\n\t\t>{\n\t\t\t\t({ values, dirty, handleChange, handleSubmit, isSubmitting, setFieldValue }) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<form>\n\t\t\t\t\t\t\t\t<TextInputField\n\t\t\t\t\t\t\t\t\tlabel=\"Workout Title\"\n\t\t\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<FormField label=\"Workout Intensity\" onChange={ e => setFieldValue( \"intensity\", e.target.value ) } marginBottom={ 16 }>\n\t\t\t\t\t\t\t\t\t<Pane display=\"flex\" flexDirection=\"row\" justifyContent=\"space-between\">\n\t\t\t\t\t\t\t\t\t\t{ _.map( intensityOptions, ({ label, value }) => (\n\t\t\t\t\t\t\t\t\t\t\t<Radio key={ value } name=\"intensity\" value={ value } label={ label } checked={ value === values.intensity } />\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</Pane>\n\t\t\t\t\t\t\t\t</FormField>\n\t\t\t\t\t\t\t\t<FormField label=\"Workout Type\" marginBottom={ 16 }>\n\t\t\t\t\t\t\t\t\t<Select name=\"type\" value={ values.type } onChange={ handleChange } height={ 32 } >\n\t\t\t\t\t\t\t\t\t\t<option key=\"empty\" value=\"\">Please select an option...</option>\n\t\t\t\t\t\t\t\t\t\t{ workoutTypes && _.map( workoutTypes, ({ value, label }) => ( <option key={ value } value={ value }>{ label }</option> ))}\n\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t</FormField>\n\t\t\t\t\t\t\t\t<FormField label=\"Workout Description\" marginBottom={ 16 }>\n\t\t\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\t\t\tname=\"body\"\n\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FormField>\n\t\t\t\t\t\t\t\t<TextInputField\n\t\t\t\t\t\t\t\t\tlabel=\"Total Running KM\"\n\t\t\t\t\t\t\t\t\tname=\"running_km\"\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<TextInputField\n\t\t\t\t\t\t\t\t\tlabel=\"Total Running Minutes\"\n\t\t\t\t\t\t\t\t\tname=\"running_minutes\"\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Button iconBefore={ isSubmitting ? \"\" : \"tick\"} isLoading={ isSubmitting } disabled={ !dirty || !values.title } onClick={ handleSubmit }>Add</Button>\n\t\t\t\t\t\t\t\t{ errors && <p>{ errors }</p>}\n\t\t\t\t\t\t\t</form> \n\t\t\t\t\t\t</>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t</Formik>\n\t);\n}\n","\n// deps\nimport React, { useContext, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Heading, Pane, TextInputField, Textarea, FormField, Button } from \"evergreen-ui\";\nimport { Formik } from \"formik\";\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport _ from \"lodash\";\n\n// app\nimport { Services, Queries } from \"../index\";\n\n//\n// Adultletics Admin / Views / Panel / Panels / Workouts / Add Version\n//\n\n\nexport default function AddWorkoutVersionPanel ({ props }) {\n\tconst { id, workoutId } = props;\n\tconst { data: workoutData, loading: workoutLoading } = useQuery( Queries.workouts.getOne,{ variables: { id: workoutId }});\n\tconst { data, loading } = useQuery( Queries.workouts.getVersion, { variables: { id }});\n\tconst [ addVersion ] = useMutation( Queries.workouts.addVersion, { refetchQueries: [{ query: Queries.workouts.getOne, variables: { id: workoutId }}], awaitRefetchQueries: true }); \n\tconst { closePanel } = useContext( Services.UI );\n\tconst { authUser } = useContext( Services.Auth );\n\tconst [ errors, setErrors ] = useState( null );\n\n\tif ( loading || workoutLoading ) return null;\n\n\tconst version = _.get( data, \"workouts_versions_by_pk\" );\n\tconst highestExistingVersion = _.reduce( _.get( workoutData, \"workouts_by_pk.versions\" ), ( total, curr ) => curr.version_num > total ? curr.version_num : total, 0 );\n\tconst newVersionNum = highestExistingVersion + 1;\n\n\tconst initialValues = {\n\t\tbody: _.get( version, \"body\" ),\n\t\trunning_km: _.get( version, \"stats.running_km\", 0 ),\n\t\trunning_minutes: _.get( version, \"stats.running_minutes\", 0 ),\n\t};\n    \n\treturn ( <>\n\t\t<Pane marginBottom={ 56 }>\n\t\t\t<Heading size={ 600 }>Adding a new version of workout: { _.get( version, \"workout.title\", \"\" ) }</Heading>\n\t\t</Pane>\n\t\t<Formik\n\t\t\tinitialValues={{ ...initialValues }}\n\t\t\tonSubmit={ async ({ body, running_km, running_minutes }) => {\n\t\t\t\tsetErrors( null );\n\t\t\t\ttry {\n\t\t\t\t\tawait addVersion({ variables: { objects: [{\n\t\t\t\t\t\tbody, \n\t\t\t\t\t\tversion_num: newVersionNum,\n\t\t\t\t\t\t_workout: workoutId,\n\t\t\t\t\t\t_owner: authUser.id,\n\t\t\t\t\t\tstats: {\n\t\t\t\t\t\t\tdata: { running_km, running_minutes },\n\t\t\t\t\t\t},\n\t\t\t\t\t}]}});\n\t\t\t\t\tclosePanel();\n\t\t\t\t} catch ( error ) {\n\t\t\t\t\tconsole.error( error );\n\t\t\t\t\tsetErrors( error.message );\n\t\t\t\t}\n\t\t\t}}\n\t\t>{\n\t\t\t\t({ values, dirty, handleChange, handleSubmit, isSubmitting }) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<form>\n\t\t\t\t\t\t\t\t<FormField label=\"Workout Description\" marginBottom={ 8 }>\n\t\t\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\t\t\tname=\"body\"\n\t\t\t\t\t\t\t\t\t\tvalue={ values.body }\n\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FormField>\n\t\t\t\t\t\t\t\t<TextInputField\n\t\t\t\t\t\t\t\t\tlabel=\"Total Running KM\"\n\t\t\t\t\t\t\t\t\tname=\"running_km\"\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tvalue={ values.running_km }\n\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<TextInputField\n\t\t\t\t\t\t\t\t\tlabel=\"Total Running Minutes\"\n\t\t\t\t\t\t\t\t\tname=\"running_minutes\"\n\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\tvalue={ values.running_minutes }\n\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Button iconBefore={ isSubmitting ? \"\" : \"tick\"} isLoading={ isSubmitting } disabled={ !dirty } onClick={ handleSubmit }>Add</Button>\n\t\t\t\t\t\t\t\t{ errors && <p>{ errors }</p>}\n\t\t\t\t\t\t\t</form> \n\t\t\t\t\t\t</>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t</Formik>\n\t</> );\n}\nAddWorkoutVersionPanel.propTypes = {\n\tprops: PropTypes.object,\n\tid: PropTypes.string,\n\tworkoutId: PropTypes.string,\n};\n","\n// deps\nimport React, { useContext, useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Radio, Select, TextInputField, Heading, Pane, Textarea, FormField, Button } from \"evergreen-ui\";\nimport { Formik } from \"formik\";\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport _ from \"lodash\";\n\n// app\nimport { Services, Queries, constants } from \"../index\";\n\n//\n// Adultletics Admin / Views / Panel / Panels / Workouts / Edit\n//\n\n\nexport default function EditWorkoutVersionPanel ({ props }) {\n\tconst { id } = props;\n\tconst { data, loading } = useQuery( Queries.workouts.getVersion, { variables: { id }});\n\tconst [ updateVersion ] = useMutation( Queries.workouts.updateVersion, { refetchQueries: [{ query: Queries.workouts.getVersion, variables: { id }}], awaitRefetchQueries: true }); \n\tconst { closePanel } = useContext( Services.UI );\n\tconst [ errors, setErrors ] = useState( null );\n\tconst { intensityOptions, workoutTypes } = constants;\n\n\tif ( loading ) return null;\n\n\tconst version = _.get( data, \"workouts_versions_by_pk\" );\n\n\tconst initialValues = {\n\t\tbody: _.get( version, \"body\" ),\n\t\ttitle: _.get( version, \"workout.title\", \"\" ),\n\t\trunning_km: _.get( version, \"stats.running_km\", 0 ),\n\t\trunning_minutes: _.get( version, \"stats.running_minutes\", 0 ),\n\t\tintensity: _.get( version, \"workout.intensity\", \"3\" ),\n\t\ttype: _.get( version, \"workout.type\", \"\" ),\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<Pane marginBottom={ 56 }>\n\t\t\t\t<Heading size={ 600 }>Editing version { _.get( version, \"version_num\" ) } of workout: { _.get( version, \"workout.title\", \"\" ) }</Heading>\n\t\t\t</Pane>\n\t\t\t<Formik\n\t\t\t\tinitialValues={{ ...initialValues }}\n\t\t\t\tonSubmit={ async ({ title, body, running_km, running_minutes }) => {\n\t\t\t\t\tsetErrors( null );\n\t\t\t\t\ttry {\n\t\t\t\t\t\tawait updateVersion({ variables: {\n\t\t\t\t\t\t\tversion_id: id,\n\t\t\t\t\t\t\tworkout_id: _.get( version, \"workout.id\" ),\n\t\t\t\t\t\t\tstats_id: _.get( version, \"stats.id\" ),\n\t\t\t\t\t\t\tbody,\n\t\t\t\t\t\t\ttitle,\n\t\t\t\t\t\t\tstats_data: {\n\t\t\t\t\t\t\t\trunning_minutes,\n\t\t\t\t\t\t\t\trunning_km,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t}});\n\t\t\t\t\t\tclosePanel();\n\t\t\t\t\t} catch ( error ) {\n\t\t\t\t\t\tconsole.error( error );\n\t\t\t\t\t\tsetErrors( error.message );\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t>{\n\t\t\t\t\t({ values, dirty, handleChange, handleSubmit, isSubmitting, setFieldValue }) => {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<form>\n\t\t\t\t\t\t\t\t\t<TextInputField\n\t\t\t\t\t\t\t\t\t\tlabel=\"Workout Title (effects all versions)\"\n\t\t\t\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\t\t\t\tvalue={ values.title }\n\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<FormField label=\"Workout Intensity (effects all versions)\" onChange={ e => setFieldValue( \"intensity\", e.target.value ) } marginBottom={ 16 }>\n\t\t\t\t\t\t\t\t\t\t<Pane display=\"flex\" flexDirection=\"row\" justifyContent=\"space-between\">\n\t\t\t\t\t\t\t\t\t\t\t{ _.map( intensityOptions, ({ label, value }) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<Radio key={ value } name=\"intensity\" value={ value } label={ label } checked={ value === values.intensity }/>\n\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t</Pane>\n\t\t\t\t\t\t\t\t\t</FormField>\n\t\t\t\t\t\t\t\t\t<FormField label=\"Workout Type (effects all versions)\" marginBottom={ 16 }>\n\t\t\t\t\t\t\t\t\t\t<Select name=\"type\" value={ values.type } onChange={ handleChange } height={ 32 } >\n\t\t\t\t\t\t\t\t\t\t\t<option key=\"empty\" value=\"\">Please select an option...</option>\n\t\t\t\t\t\t\t\t\t\t\t{ workoutTypes && _.map( workoutTypes, ({ value, label }) => ( <option key={ value } value={ value }>{ label }</option> ))}\n\t\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t\t</FormField>\n\t\t\t\t\t\t\t\t\t<FormField label=\"Workout Description\" marginBottom={ 16 }>\n\t\t\t\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\t\t\t\tname=\"body\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={ values.body }\n\t\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormField>\n\t\t\t\t\t\t\t\t\t<TextInputField\n\t\t\t\t\t\t\t\t\t\tlabel=\"Total Running KM\"\n\t\t\t\t\t\t\t\t\t\tname=\"running_km\"\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tvalue={ values.running_km }\n\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<TextInputField\n\t\t\t\t\t\t\t\t\t\tlabel=\"Total Running Minutes\"\n\t\t\t\t\t\t\t\t\t\tname=\"running_minutes\"\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tvalue={ values.running_minutes }\n\t\t\t\t\t\t\t\t\t\tonChange={ handleChange }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Button iconBefore={ isSubmitting ? \"\" : \"tick\"} isLoading={ isSubmitting } disabled={ !dirty } onClick={ handleSubmit }>Update</Button>\n\t\t\t\t\t\t\t\t\t{ errors && <p>{ errors }</p>}\n\t\t\t\t\t\t\t\t</form> \n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t);\n\t\t\t\t\t}}\n\t\t\t</Formik>\n\t\t</>\n\t);\n}\nEditWorkoutVersionPanel.propTypes = {\n\tprops: PropTypes.object,\n\tid: PropTypes.string,\n};\n","\n// deps\nimport React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Pane, Paragraph, Heading, Select, Button, Text, IconButton } from \"evergreen-ui\";\nimport { Formik } from \"formik\";\nimport { useQuery, useMutation } from \"@apollo/react-hooks\";\nimport _ from \"lodash\";\n\n// app\nimport { Queries } from \"../index\";\n\n//\n// Adultletics Admin / Views / Panel / Panels / Workouts / Edit\n//\n\n\nexport default function EditWorkoutVersionPanel ({ props }) {\n\tconst { id } = props;\n\tconst { data, loading } = useQuery( Queries.workouts.getVersion, { variables: { id }});\n\tconst { data: drillsData, loading: drillsLoading } = useQuery( Queries.drills.getAll );\n\tconst [ addDrill ] = useMutation( Queries.workouts.addDrill, { refetchQueries: [{ query: Queries.workouts.getVersion, variables: { id }}], awaitRefetchQueries: true });\n\tconst [ removeDrill ] = useMutation( Queries.workouts.removeDrill, { refetchQueries: [{ query: Queries.workouts.getVersion, variables: { id }}], awaitRefetchQueries: true });\n\tconst [ errors, setErrors ] = useState( null );\n\n\tif ( loading || drillsLoading ) return null;\n\n\tconst version = _.get( data, \"workouts_versions_by_pk\" );\n\tconst workoutsDrills = _.get( version, \"drills\", []);\n\tconst currentDrills = _.map( workoutsDrills, drill => ({ workoutsDrillId: drill.id, ...drill.drill }));\n\tconst allDrills = _.get( drillsData, \"drills\" );\n\n\tconst unselectedDrills = _.filter( allDrills, drill => !_.some( currentDrills, [ \"id\", drill.id ]));\n    \n\treturn ( <>\n\t\t<Pane marginBottom={ 56 }>\n\t\t\t<Heading size={ 600 }>Editing Drills for Version { _.get( version, \"version_num\" ) } of workout: { _.get( version, \"workout.title\", \"\" ) }</Heading>\n\t\t</Pane>\n\t\t<Pane display=\"flex\" flexDirection=\"row\">\n\t\t\t<Pane width=\"50%\">\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={{}}\n\t\t\t\t\tonSubmit={ async ({ drill }) => {\n\t\t\t\t\t\tsetErrors( null );\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tawait addDrill({ variables: { objects: [{ _drill: drill, _workouts_version: _.get( version, \"id\" ) }]}});\n\t\t\t\t\t\t} catch ( error ) {\n\t\t\t\t\t\t\tconsole.error( error );\n\t\t\t\t\t\t\tsetErrors( error.message );\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t>{\n\t\t\t\t\t\t({ values, dirty, handleChange, handleSubmit, isSubmitting }) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<form>\n\t\t\t\t\t\t\t\t\t\t<Pane marginBottom={ 16 }>\n\t\t\t\t\t\t\t\t\t\t\t<Heading>Add Drills to Workout:</Heading>\n\t\t\t\t\t\t\t\t\t\t</Pane>\n\t\t\t\t\t\t\t\t\t\t<Pane marginBottom={ 8 } display=\"flex\" justifyContent=\"space-between\">\n\t\t\t\t\t\t\t\t\t\t\t<Select name=\"drill\" value={ values.drill } onChange={ handleChange } height={ 32 } >\n\t\t\t\t\t\t\t\t\t\t\t\t<option key=\"empty\" value=\"\">Please select an option...</option>\n\t\t\t\t\t\t\t\t\t\t\t\t{ unselectedDrills && _.map( unselectedDrills, ({ id, title }) => ( <option key={ id } value={ id }>{ title }</option> ))}\n\t\t\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t\t\t\t<Button iconBefore={ isSubmitting ? \"\" : \"tick\"} isLoading={ isSubmitting } disabled={ !dirty } onClick={ handleSubmit }>Add</Button>\n\t\t\t\t\t\t\t\t\t\t</Pane>\n\t\t\t\t\t\t\t\t\t\t<Pane>\n\t\t\t\t\t\t\t\t\t\t\t{ errors && <p>{ errors }</p>}\n\t\t\t\t\t\t\t\t\t\t</Pane>\n\t\t\t\t\t\t\t\t\t</form> \n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t</Formik>  \n\t\t\t</Pane>\n\t\t\t<Pane width=\"50%\">\n\t\t\t\t<Pane marginBottom={ 16 }>\n\t\t\t\t\t<Heading>Selected drills:</Heading>\n\t\t\t\t</Pane>\n\t\t\t\t<Pane>\n\t\t\t\t\t{ !_.isEmpty( currentDrills ) ? _.map( currentDrills, ({ id, title, workoutsDrillId }) => (\n\t\t\t\t\t\t<Pane display=\"flex\" flexDirection=\"row\" elevation={ 1 } height={ 32 } alignItems=\"center\" background=\"white\" marginBottom={ 16 } key={ id } paddingLeft={ 16 } paddingRight={ 8 }>\n\t\t\t\t\t\t\t<Text flex={ 1 }>{ title }</Text>\n\t\t\t\t\t\t\t<IconButton icon=\"small-cross\" intent=\"danger\" appearance=\"minimal\" onClick={ () => removeDrill({ variables: { id: workoutsDrillId }})}/> \n\t\t\t\t\t\t</Pane> )) : <Paragraph>No drills selected</Paragraph>}\n\t\t\t\t</Pane>\n\t\t\t</Pane>\n\t\t</Pane>\n\t</> );\n}\nEditWorkoutVersionPanel.propTypes = {\n\tprops: PropTypes.object,\n\tid: PropTypes.string,\n};\n","\n// deps\nimport React, { useContext } from \"react\";\nimport { SideSheet } from \"evergreen-ui\";\nimport _ from \"lodash\";\n\n// app\nimport { Services } from \"../../views/index\";\nimport panelMap from \"./panels\";\n\n//\n// Adultletics Admin / Views / Panel / Panel\n//\n\n\nconst widthMap = {\n\twide: 930,\n\tnormal: 620,\n};\n\nexport default function Panel () {\n\tconst { panel, closePanel } = useContext( Services.UI );\n\tconst _isOpen = !_.isEmpty( panel );\n\tconst ShownPanel = panelMap[ _.get( panel, \"panel\", false ) ];\n\tconst props = _.get( panel, \"props\", {});\n\tconst size = widthMap[ _.get( panel, \"size\", \"normal\" ) ]; \n\n\treturn (\n\t\t<>\n\t\t\t<SideSheet\n\t\t\t\tisShown={ _isOpen }\n\t\t\t\tonCloseComplete={ closePanel }\n\t\t\t\tpreventBodyScrolling\n\t\t\t\twidth={ size }\n\t\t\t>\n\t\t\t\t<div className=\"v-panel\">\n\t\t\t\t\t{ ( _isOpen && ShownPanel ) && <ShownPanel props={ props } /> }\n\t\t\t\t</div>\n\t\t\t</SideSheet>\n\t\t</>\n\t);\n}\n\n// example: openPanel({ panel: \"auth/sign-in\", props: { id: \"123\" }, width: \"wide\" })\n","\n// deps\nimport React, { useContext } from \"react\";\nimport { Avatar, Pane, Heading, Button, Tablist, Tab } from \"evergreen-ui\";\nimport _ from \"lodash\";\n\n// app\nimport { Services } from \"../../views/index\";\nimport { useHistory, useLocation } from \"react-router-dom\";\n\n//\n// Adultletics Admin / Views / TopNav / TopNav\n//\n\n\nexport default function TopNav () {\n\tconst history = useHistory();\n\tconst { pathname } = useLocation();\n\tconst { openPanel } = useContext( Services.UI );\n\tconst { isAuthenticated, authUser, signOut } = useContext( Services.Auth );\n\n\tconst tabs = [\n\t\t{\n\t\t\tname: \"Home\",\n\t\t\troute: \"/\",\n\t\t},\n\t\t{\n\t\t\tname: \"Workouts\",\n\t\t\troute: \"/workouts\",\n\t\t},\n\t\t{\n\t\t\tname: \"Weeks\",\n\t\t\troute: \"/weeks\",\n\t\t},\n\t\t{\n\t\t\tname: \"Drills\",\n\t\t\troute: \"/drills\",\n\t\t},\n\t];\n\n\treturn (\n\t\t<div className=\"c-top-nav\">\n\t\t\t<Pane display=\"flex\" height={ 78 } alignItems=\"center\">\n\t\t\t\t<Pane alignItems=\"center\" justifyContent=\"center\" marginLeft={ 24 }>\n\t\t\t\t\t<Heading size={ 200  } >Adultletics Admin Panel</Heading>\n\t\t\t\t</Pane>\n\t\t\t\t<Pane display=\"flex\" flex={ 1 } justifyContent=\"space-between\" paddingLeft={ 16 }>\n\t\t\t\t\t<Pane alignItems=\"center\">\n\t\t\t\t\t\t<Tablist alignItems=\"center\">\n\t\t\t\t\t\t\t{ _.map( tabs, ({ name, route }) => (\n\t\t\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\t\t\tkey={ route }\n\t\t\t\t\t\t\t\t\tid={ route }\n\t\t\t\t\t\t\t\t\tonSelect={ () => history.push( route ) }\n\t\t\t\t\t\t\t\t\tisSelected={ route === \"/\" ? pathname === route : pathname.startsWith( route ) }\n\t\t\t\t\t\t\t\t\taria-controls={ `panel-${ name }` }\n\t\t\t\t\t\t\t\t\theight={ 40 }\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{ name }\n\t\t\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Tablist>\n\t\t\t\t\t</Pane>\n\t\t\t\t\t<Pane display=\"flex\" alignItems=\"center\" paddingRight={ 16 }>\n\t\t\t\t\t\t{ isAuthenticated ? <Button marginRight={ 16 } onClick={ signOut }>Log Out</Button> : <Button marginRight={ 16 } onClick={ () => openPanel({ panel: \"auth/sign-in\" }) }>Log In</Button> }\n\t\t\t\t\t\t<Avatar name={ authUser.first_name } size={ 40 } />\n\t\t\t\t\t</Pane>\n\t\t\t\t</Pane>\n\t\t\t</Pane>\n\t\t</div>\n\t);\n}\n","\n// deps\nimport gql from \"graphql-tag\";\n\n//\n// Adultletics Admin / Views / App / Queries\n//\n\n\n// AUTH\nconst GET_USER = gql`\n\tquery getUser ( $uid: String! ) {\n\t\tusers_by_pk( uid: $uid ) {\n\t\t\temail first_name id\n\t\t}\n\t}\n`;\n\n\n// DRILLS\nconst GET_ALL_DRILLS = gql`\n\tquery getAllDrills {\n\t\tdrills ( order_by: { title: asc }) {\n\t\t\tid title url\n\t\t}\n\t}\n`;\n\nconst GET_DRILL_BY_ID = gql`\n\tquery getAllDrills ( $id: uuid! ) {\n\t\tdrills_by_pk ( id: $id ) {\n\t\t\tid title url\n\t\t\tworkouts_drills {\n\t\t\t\tworkouts_version {\n\t\t\t\t\tworkout { title }\n\t\t\t\t\tversion_num\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n`;\n\nconst INSERT_DRILL = gql`\n\tmutation insertDrills ( $objects: [drills_insert_input!]! ) {\n\t\tinsert_drills ( objects: $objects ) {\n\t\t\treturning { id }\n\t\t}\n\t}\n`;\n\nconst UPDATE_DRILL = gql`\n\tmutation updateDrills ( $id: uuid!, $data: drills_set_input! ) {\n\t\tupdate_drills( where: { id: { _eq: $id }}, _set: $data ) {\n\t\t\treturning { id }\n\t\t}\n\t}\n`;\n\n\n// WORKOUTS\nconst GET_ALL_WORKOUTS = gql`\n\tquery getWorkouts {\n\t\tworkouts {\n\t\t\tid title type intensity\n\t\t}\n\t}\n`;\n\nconst GET_WORKOUT = gql`\n\tquery getWorkout ( $id: uuid! ) {\n\t\tworkouts_by_pk( id: $id ) {\n\t\t\tid title type\n            intensity\n\t\t\tversions ( order_by: { version_num: asc } ){\n\t\t\t\tid body\n\t\t\t\tversion_num\n\t\t\t\towner {\n\t\t\t\t\tfirst_name\n\t\t\t\t}\n\t\t\t\tdrills {\n\t\t\t\t\tid\n\t\t\t\t\tdrill {\n\t\t\t\t\t\ttitle id\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tstats {\n\t\t\t\t\trunning_km id\n\t\t\t\t\trunning_minutes\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n`;\n\nconst GET_WORKOUT_VERSION = gql`\n\tquery getWorkout ( $id: uuid! ) {\n\t\tworkouts_versions_by_pk ( id: $id ) {\n\t\t\tid body\n\t\t\tversion_num\n\t\t\towner {\n\t\t\t\tfirst_name\n\t\t\t}\n\t\t\tdrills {\n\t\t\t\tid\n\t\t\t\tdrill {\n\t\t\t\t\ttitle id\n\t\t\t\t}\n\t\t\t}\n\t\t\tstats {\n\t\t\t\tid\n\t\t\t\trunning_km\n\t\t\t\trunning_minutes\n\t\t\t}\n\t\t\tworkout {\n\t\t\t\tid title type\n                intensity\n\t\t\t}\n\t\t}\n\t}\n`;\n\nconst INSERT_WORKOUT = gql`\n\tmutation insertWorkout ( $objects: [workouts_insert_input!]! ) {\n\t\tinsert_workouts ( objects: $objects ) {\n\t\t\treturning { id }\n\t\t}\n\t}\n`;\n\nconst INSERT_WORKOUT_VERSION = gql`\n\tmutation insertWorkoutVersion ( $objects: [workouts_versions_insert_input!]! ) {\n\t\tinsert_workouts_versions ( objects: $objects ) {\n\t\t\treturning { id }\n\t\t}\n\t}\n`;\n\nconst UPDATE_WORKOUT_VERSION = gql`\n\tmutation updateWorkoutVersion ( $version_id: uuid!, $stats_id: uuid!, $workout_id: uuid!, $body: String!, $title: String!, $stats_data: workouts_stats_set_input! ) {\n\t\tupdate_workouts_versions( where: { id: { _eq: $version_id }}, _set: { body: $body }) {\n\t\t\treturning { id }\n\t\t}\n\t\tupdate_workouts_stats( where: { id: { _eq: $stats_id }}, _set: $stats_data ) {\n\t\t\treturning { id }\n\t\t}\n\t\tupdate_workouts( where: { id: { _eq: $workout_id }}, _set: { title: $title }) {\n\t\t\treturning { id }\n\t\t}\n\t}\n`;\n\nconst INSERT_WORKOUTS_DRILL = gql`\n\tmutation insertWorkoutsDrills ( $objects: [workouts_drills_insert_input!]! ) {\n\t\tinsert_workouts_drills( objects: $objects ) {\n\t\t\treturning { id }\n\t\t}\n\t}\n`;\n\nconst DELETE_WORKOUTS_DRILL = gql`\n\tmutation deleteWorkoutsDrills ( $id: uuid! ) {\n\t\tdelete_workouts_drills( where: { id: { _eq: $id }}) {\n\t\t\treturning { id }\n\t\t}\n\t}\n`;\n\n\nexport default {\n\tauth: {\n\t\tgetUser: GET_USER,\n\t},\n\tdrills: {\n\t\tgetAll: GET_ALL_DRILLS,\n\t\tgetOne: GET_DRILL_BY_ID,\n\t\tadd: INSERT_DRILL,\n\t\tupdate: UPDATE_DRILL,\n\t},\n\tworkouts: {\n\t\tgetAll: GET_ALL_WORKOUTS,\n\t\tgetOne: GET_WORKOUT,\n\t\tgetVersion: GET_WORKOUT_VERSION,\n\t\taddWorkout: INSERT_WORKOUT,\n\t\taddVersion: INSERT_WORKOUT_VERSION,\n\t\tupdateVersion: UPDATE_WORKOUT_VERSION,\n\t\taddDrill: INSERT_WORKOUTS_DRILL,\n\t\tremoveDrill: DELETE_WORKOUTS_DRILL,\n\t},\n};","\n// deps\nimport { createContext } from \"react\";\n\n//\n// Adultletics Admin / Views / App / Services\n//\n\n\nexport const Auth = createContext({\n\tauthUser: {},\n\ttoken: \"\",\n\tuid: \"\",\n\tisAuthenticating: false,\n\tisAuthenticated: false,\n\tupdateAuth: () => {},\n\tsignIn: () => {},\n\tsignOut: () => {},\n});\n\nexport const UI = createContext({\n\tpanel: {},\n\topenPanel: () => {},\n\tclosePanel: () => {},\n\tnotifications: [{}],\n\taddNotification: () => {},\n});\n\nexport default { \n\tAuth,\n\tUI,\n};","\n// deps\nimport React from \"react\";\n\n// app\nimport { Pane, Spinner } from \"evergreen-ui\";\n\n//\n// Adultletics Admin / Components / Loading / Loading\n//\n\n\nexport default function Loading () {\n\treturn (\n\t\t<Pane display=\"flex\" alignItems=\"center\" justifyContent=\"center\" height={ \"100%\" } >\n\t\t\t<Spinner />\n\t\t</Pane>\n\t);\n}\n","\nconst intensityOptions = [\n\t{ label: \"Recovery\", value: \"1\" },\n\t{ label: \"Low\", value: \"2\" },\n\t{ label: \"Normal\", value: \"3\" },\n\t{ label: \"High\", value: \"4\" },\n\t{ label: \"V High\", value: \"5\" },\n];\n\nconst workoutTypes = [\n\t{ label: \"HIIT\", value: \"hiit\" },\n\t{ label: \"Endurance\", value: \"endurance\" },\n\t{ label: \"Work Capacity\", value: \"work-capacity\" },\n\t{ label: \"Recovery\", value: \"recovery\" },\n];\n\nexport default {\n\tintensityOptions,\n\tworkoutTypes,\n};","\n// deps\nimport React from \"react\";\n\n// app\nimport { Pane, Heading } from \"evergreen-ui\";\n\n//\n// Adultletics Admin / Views / Dashboard / Dashboard\n//\n\n\nexport default function Dashboard () {\n\n    \n\treturn (\n\t\t<>\n\t\t\t<Pane>\n\t\t\t\t<Heading size={ 800 } color=\"#1070CA\">Dashboard</Heading>\n\t\t\t</Pane>\n\t\t</>\n\t);\n}\n","\n// deps\nimport React, { useContext, useState, useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport _ from \"lodash\";\nimport { Link } from \"react-router-dom\";\n\n// app\nimport { Pane, Badge, Button, Heading, Text, Paragraph, Tablist, Tab } from \"evergreen-ui\";\nimport { Services, Queries, Loading, constants } from \"../index\";\n\n//\n// Adultletics Admin / Views / Workout / Workout\n//\n\n\nexport default function Workout ( props ) {\n\tconst { id } = props;\n\tconst { data, loading } = useQuery( Queries.workouts.getOne, { variables: { id }});\n\tconst { openPanel } = useContext( Services.UI );\n\tconst [ selectedVersion, setSelectedVersion ] = useState();\n\tconst { intensityOptions, workoutTypes } = constants;\n\n\tconst title = _.get( data, \"workouts_by_pk.title\" );\n\tconst typesValue = _.get( data, \"workouts_by_pk.type\" );\n\tconst intensityValue = _.get( data, \"workouts_by_pk.intensity\" );\n\tconst versions = _.get( data, \"workouts_by_pk.versions\" );\n\tuseEffect(() => { if ( !selectedVersion ) setSelectedVersion( _.get( _.last( versions ), \"version_num\" ));}, [ versions ]);\n\n\tif ( loading ) return <Loading />;\n\n\tconst version = _.find( versions, [ \"version_num\", selectedVersion ]);\n\tconst body = _.get( version, \"body\" );\n\tconst stats = _.get( version, \"stats\", {});\n\tconst drills = _.map( _.get( version, \"drills\", []), \"drill\" );\n\n\tconst intensity = _.get( _.find( intensityOptions, [ \"value\", intensityValue ]), \"label\", \"\" );\n\tconst type = _.get( _.find( workoutTypes, [ \"value\", typesValue ]), \"label\", \"\" );\n\n\treturn (\n\t\t<>\n\t\t\t<Pane display=\"flex\" justifyContent=\"flex-end\">\n\t\t\t\t<Button marginLeft={ 8 } iconBefore=\"plus\" onClick={ () => openPanel({ panel: \"workouts/add-version\", props: { id: version.id, workoutId: id }, size: \"wide\" })}>Add Version</Button>\n\t\t\t\t<Button marginLeft={ 8 } iconBefore=\"edit\" onClick={ () => openPanel({ panel: \"workouts/edit\", props: { id: version.id }, size: \"wide\" })}>Edit</Button>\n\t\t\t\t<Button marginLeft={ 8 } iconBefore=\"walk\" onClick={ () => openPanel({ panel: \"workouts/edit-drills\", props: { id: version.id }, size: \"wide\" })}>Edit Drills</Button>\n\t\t\t</Pane>\n\t\t\t<Pane marginBottom={ 32 } display=\"flex\" flexDirection=\"row\">\n\t\t\t\t<Pane marginRight={ 16 }>\n\t\t\t\t\t<Heading>{ title }</Heading>\n\t\t\t\t</Pane>\n\t\t\t\t<Pane flex={ 1 }>\n\t\t\t\t\t<Badge marginRight={ 8 } color=\"blue\">{ type }</Badge>\n\t\t\t\t\t<Badge color=\"blue\">{ intensity }</Badge>\n\t\t\t\t</Pane>\n\t\t\t</Pane>\n\t\t\t<Pane display=\"flex\" flexDirection=\"row\" alignItems=\"center\" marginBottom={ 24 }>\n\t\t\t\t<Text>Versions:</Text>\n\t\t\t\t<Pane flex={ 1 } marginLeft={ 16 }>\n\t\t\t\t\t<Tablist alignItems=\"center\">\n\t\t\t\t\t\t{ versions && _.map( versions, ({ version_num }) => (\n\t\t\t\t\t\t\t<Tab\n\t\t\t\t\t\t\t\tkey={ version_num }\n\t\t\t\t\t\t\t\tid={ version_num }\n\t\t\t\t\t\t\t\tonSelect={ () => setSelectedVersion( version_num ) }\n\t\t\t\t\t\t\t\tisSelected={ selectedVersion === version_num }\n\t\t\t\t\t\t\t\taria-controls={ `panel-${ version_num }` }\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ version_num }\n\t\t\t\t\t\t\t</Tab>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Tablist>\n\t\t\t\t</Pane>\n\t\t\t</Pane>\n\t\t\t<Pane background=\"white\" padding={ 32 } marginBottom={ 32 }>\n\t\t\t\t<Heading size={ 200 }>Description:</Heading>\n\t\t\t\t<Text>{ body }</Text>\n\t\t\t</Pane>\n\t\t\t<Pane padding={ 32 } marginBottom={ 32 }>\n\t\t\t\t<Heading size={ 200 }>Drills:</Heading>\n\t\t\t\t{ !_.isEmpty( drills ) ? _.map( drills, drill => {\n\t\t\t\t\tconst { id, title } = drill;\n\t\t\t\t\treturn ( \n\t\t\t\t\t\t<Link to={ `/drills/${ id }` } key={ id } style={{ marginBottom: \"24px\" }}>\n\t\t\t\t\t\t\t<Pane display=\"flex\" elevation={ 1 } height={ 48 } alignItems=\"center\" background=\"white\" marginBottom={ 16 }>\n\t\t\t\t\t\t\t\t<Text marginLeft={ 24 }>{ title }</Text> \n\t\t\t\t\t\t\t</Pane> \n\t\t\t\t\t\t</Link>\n\t\t\t\t\t);\n\t\t\t\t}) : <Paragraph>No attached drills</Paragraph> }\n\t\t\t</Pane>\n\t\t\t<Pane background=\"white\" padding={ 32 }>\n\t\t\t\t<Heading size={ 200 }>Stats:</Heading>\n\t\t\t\t<Paragraph>Total running kilometers - <strong>{ _.get( stats, \"running_km\", 0 ) }</strong></Paragraph>\n\t\t\t\t<Paragraph>Total running minutes - <strong>{ _.get( stats, \"running_minutes\", 0 ) }</strong></Paragraph>\n\t\t\t</Pane>\n\t\t</>\n\t);\n}\nWorkout.propTypes = {\n\tid: PropTypes.string,\n};\n","\n// deps\nimport React, { useContext } from \"react\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { Link } from \"react-router-dom\";\nimport _ from \"lodash\";\n\n// app\nimport { Badge, Pane, Text, Heading, Button } from \"evergreen-ui\";\nimport { Services, Queries, Loading, constants } from \"../index\";\n\n//\n// Adultletics Admin / Views / Workouts / Workouts\n//\n\n\nexport default function Workouts () {\n\tconst { openPanel } = useContext( Services.UI );\n\tconst { data, loading } = useQuery( Queries.workouts.getAll );\n\tconst workouts = _.get( data, \"workouts\" );\n\tconst { intensityOptions, workoutTypes } = constants;\n\n\tif ( loading ) return <Loading />;\n\n\treturn (\n\t\t<>\n\t\t\t<Pane display=\"flex\" justifyContent=\"flex-end\">\n\t\t\t\t<Button iconBefore=\"plus\" onClick={ () => openPanel({ panel: \"workouts/add\", size: \"wide\" })}>Add</Button>\n\t\t\t</Pane>\n\t\t\t<Pane marginBottom={ 16 }>\n\t\t\t\t<Heading>All Workouts:</Heading>\n\t\t\t</Pane>\n\t\t\t<Pane>\n\t\t\t\t{ workouts && _.map( workouts, workout => {\n\t\t\t\t\tconst { id, title, intensity, type } = workout;\n\t\t\t\t\tconst intensityLabel = _.get( _.find( intensityOptions, [ \"value\", intensity ]), \"label\", \"\" );\n\t\t\t\t\tconst typeLabel = _.get( _.find( workoutTypes, [ \"value\", type ]), \"label\", \"\" );\n\t\t\t\t\treturn ( \n\t\t\t\t\t\t<Link to={ `/workouts/${ id }` } key={ id } style={{ marginBottom: \"24px\" }}>\n\t\t\t\t\t\t\t<Pane display=\"flex\" elevation={ 1 } height={ 48 } alignItems=\"center\" background=\"white\" marginBottom={ 16 } >\n\t\t\t\t\t\t\t\t<Text marginLeft={ 24 } marginRight={ 8 }>{ title }</Text> \n\t\t\t\t\t\t\t\t<Badge marginRight={ 8 } color=\"blue\">{ typeLabel }</Badge>\n\t\t\t\t\t\t\t\t<Badge color=\"blue\">{ intensityLabel }</Badge>\n\t\t\t\t\t\t\t</Pane> \n\t\t\t\t\t\t</Link>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</Pane>\n\t\t</>\n\t);\n}\n","\n// deps\nimport React from \"react\";\nimport { useParams } from \"react-router-dom\";\n\n// app\nimport { Pane, Heading } from \"evergreen-ui\";\nimport Workout from \"./workout\";\nimport Workouts from \"./workouts\";\n\n//\n// Adultletics Admin / Views / Workouts / Index\n//\n\n\nexport default function WorkoutsIndex () {\n\tconst { id } = useParams();\n\tconst _workoutView = Boolean( id );\n    \n\treturn (\n\t\t<>\n\t\t\t<Pane>\n\t\t\t\t<Heading size={ 800 } color=\"#1070CA\" marginBottom={ 48 }>Workouts</Heading>\n\t\t\t</Pane>\n\t\t\t<Pane>\n\t\t\t\t{ _workoutView ? <Workout id={ id } /> : <Workouts /> }\n\t\t\t</Pane>\n\t\t</>\n\t);\n}\n","\n// deps\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\n// app\nimport { Pane, Text } from \"evergreen-ui\";\n\n//\n// Adultletics Admin / Views / Week / Week\n//\n\n\nexport default function Week ( props ) {\n\tconst { id } = props;\n\n\treturn (\n\t\t<>\n\t\t\t<Pane>\n\t\t\t\t<Text>{ id }</Text>\n\t\t\t</Pane>\n\t\t</>\n\t);\n}\nWeek.propTypes = {\n\tid: PropTypes.string,\n};\n","\n// deps\nimport React, { useContext } from \"react\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { Link } from \"react-router-dom\";\nimport _ from \"lodash\";\n\n// app\nimport { Pane, Text, Heading, Button } from \"evergreen-ui\";\nimport { Services, Queries, Loading } from \"../index\";\n\n//\n// Adultletics Admin / Views / Weeks / Weeks\n//\n\n\nexport default function Weeks () {\n\tconst { openPanel } = useContext( Services.UI );\n\tconst { data, loading } = useQuery( Queries.drills.getAll );\n\tconst workouts = _.get( data, \"drillsd\" );\n\n\tif ( loading ) return <Loading />;\n\n\treturn (\n\t\t<>\n\t\t\t<Pane display=\"flex\" justifyContent=\"flex-end\">\n\t\t\t\t<Button iconBefore=\"plus\" onClick={ () => openPanel({ panel: \"weeks/add\" })}>Add</Button>\n\t\t\t</Pane>\n\t\t\t<Pane marginBottom={ 16 }>\n\t\t\t\t<Heading>All Weeks:</Heading>\n\t\t\t</Pane>\n\t\t\t<Pane>\n\t\t\t\t{ workouts && _.map( workouts, workout => {\n\t\t\t\t\tconst { id, title } = workout;\n\t\t\t\t\treturn ( \n\t\t\t\t\t\t<Link to={ `/workouts/${ id }` } key={ id } style={{ marginBottom: \"24px\" }}>\n\t\t\t\t\t\t\t<Pane display=\"flex\" elevation={ 1 } height={ 48 } alignItems=\"center\" background=\"white\" marginBottom={ 16 }>\n\t\t\t\t\t\t\t\t<Text marginLeft={ 24 }>{ title }</Text> \n\t\t\t\t\t\t\t</Pane> \n\t\t\t\t\t\t</Link>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</Pane>\n\t\t</>\n\t);\n}\n","\n// deps\nimport React from \"react\";\nimport { useParams } from \"react-router-dom\";\n\n// app\nimport { Pane, Heading } from \"evergreen-ui\";\nimport Week from \"./week\";\nimport Weeks from \"./weeks\";\n\n//\n// Adultletics Admin / Views / Weeks / Index\n//\n\n\nexport default function WeeksIndex () {\n\tconst { id } = useParams();\n\tconst _weekView = Boolean( id );\n    \n\treturn (\n\t\t<>\n\t\t\t<Pane>\n\t\t\t\t<Heading size={ 800 } color=\"#1070CA\" marginBottom={ 48 }>Weeks</Heading>\n\t\t\t</Pane>\n\t\t\t<Pane>\n\t\t\t\t{ _weekView ? <Week id={ id } /> : <Weeks /> }\n\t\t\t</Pane>\n\t\t</>\n\t);\n}\n","\n// deps\nimport React, { useContext } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport _ from \"lodash\";\n\n// app\nimport { Button, Pane, Heading, Card, Text } from \"evergreen-ui\";\nimport { Services, Queries, Loading } from \"../index\";\n\n//\n// Adultletics Admin / Views / Drills / Drill\n//\n\n\nexport default function Drill ( props ) {\n\tconst { openPanel } = useContext( Services.UI );\n\tconst { id } = props;\n\tconst { data, loading } = useQuery( Queries.drills.getOne, { variables: { id }});\n\n\tif ( loading ) return <Loading />;\n\n\tconst drill = _.get( data, \"drills_by_pk\", {});\n\tconst title = _.get( drill, \"title\" );\n\tconst url = _.get( drill, \"url\" );\n\tconst workouts = _.get( drill, \"workouts_drills\", []);\n\tconst workoutsCount = _.size( workouts );\n\n\treturn (\n\t\t<>\n\t\t\t<Pane display=\"flex\" justifyContent=\"flex-end\">\n\t\t\t\t<Button iconBefore=\"edit\" onClick={ () => openPanel({ panel: \"drills/edit\", props: { id }})}>Edit</Button>\n\t\t\t</Pane>\n\t\t\t<Pane marginBottom={ 32 }>\n\t\t\t\t<Heading>{ title }</Heading>\n\t\t\t</Pane>\n\t\t\t<Pane display=\"flex\">\n\t\t\t\t<Card flex={ 1 } background=\"white\" padding={ 32 } marginRight={ 32 } elevation={ 1 }>\n\t\t\t\t\t<Text>Appears in <strong>{ workoutsCount }</strong> workouts</Text>\n\t\t\t\t</Card>\n\t\t\t\t<Pane elevation={ 1 } height={ 315 } width={ 560 }>\n\t\t\t\t\t<iframe width=\"560\" height=\"315\" src={ url } title={ title } frameBorder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen></iframe>\n\t\t\t\t</Pane>\n\t\t\t</Pane>\n\t\t</>\n\t);\n}\nDrill.propTypes = {\n\tid: PropTypes.string,\n};\n","\n// deps\nimport React, { useContext } from \"react\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport _ from \"lodash\";\nimport { Link } from \"react-router-dom\";\n\n// app\nimport { Pane, Heading, Text, Button } from \"evergreen-ui\";\nimport { Services, Queries, Loading } from \"../index\";\n\n//\n// Adultletics Admin / Views / Drills / Drills\n//\n\n\nexport default function Drills () {\n\tconst { openPanel } = useContext( Services.UI );\n\tconst { data, loading } = useQuery( Queries.drills.getAll );\n\tconst drills = _.get( data, \"drills\" );\n\n\tif ( loading ) return <Loading />;\n\n\treturn (\n\t\t<>\n\t\t\t<Pane display=\"flex\" justifyContent=\"flex-end\">\n\t\t\t\t<Button iconBefore=\"plus\" onClick={ () => openPanel({ panel: \"drills/add\" })}>Add</Button>\n\t\t\t</Pane>\n\t\t\t<Pane marginBottom={ 16 }>\n\t\t\t\t<Heading>All Drills:</Heading>\n\t\t\t</Pane>\n\t\t\t<Pane>\n\t\t\t\t{ drills && _.map( drills, drill => {\n\t\t\t\t\tconst { id, title } = drill;\n\t\t\t\t\treturn ( \n\t\t\t\t\t\t<Link to={ `/drills/${ id }` } key={ id } style={{ marginBottom: \"24px\" }}>\n\t\t\t\t\t\t\t<Pane display=\"flex\" elevation={ 1 } height={ 48 } alignItems=\"center\" background=\"white\" marginBottom={ 16 }>\n\t\t\t\t\t\t\t\t<Text marginLeft={ 24 }>{ title }</Text> \n\t\t\t\t\t\t\t</Pane> \n\t\t\t\t\t\t</Link>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</Pane>\n\t\t</>\n\t);\n}\n","\n// deps\nimport React from \"react\";\nimport { useParams } from \"react-router-dom\";\n\n// app\nimport { Pane, Heading } from \"evergreen-ui\";\nimport Drill from \"./drill\";\nimport Drills from \"./drills\";\n\n//\n// Adultletics Admin / Views / Weeks / Index\n//\n\n\nexport default function DrillsIndex () {\n\tconst { id } = useParams();\n\tconst _drillView = Boolean( id );\n    \n\treturn (\n\t\t<>\n\t\t\t<Pane>\n\t\t\t\t<Heading size={ 800 } color=\"#1070CA\" marginBottom={ 48 }>Drills</Heading>\n\t\t\t</Pane>\n\t\t\t<Pane>\n\t\t\t\t{ _drillView ? <Drill id={ id } /> : <Drills /> }\n\t\t\t</Pane>\n\t\t</>\n\t);\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport { hydrate, render } from \"react-dom\";\nimport { App } from \"./views\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nconst rootElement = document.getElementById( \"root\" );\nif ( rootElement.hasChildNodes()) {\n\thydrate( <App />, rootElement );\n} else {\n\trender( <App />, rootElement );\n}\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}