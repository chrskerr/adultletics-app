(this["webpackJsonpadultletics-app"]=this["webpackJsonpadultletics-app"]||[]).push([[9],{676:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return ce}));var n=a(181),r=a(153),l=a(1),i=a.n(l),c=a(17),o=a(150),u=a.n(o),s=a(154),m=a.n(s),d=a(156),g=a(3),b=a.n(g),p=a(379),E=a.n(p),h=(a(382),a(151)),f=a(38),v=a(40);function k(e){var t=e.children,a=Object(h.a)(),n=Object(l.useContext)(f.a.Auth),r=n.updateAuth,c=n.authUser,o=n.uid,s=n.isAuthenticated;return Object(l.useEffect)((function(){Object(d.a)(m.a.mark((function e(){var t,n,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.a.get(c,"uid"),!o||o===t){e.next=7;break}return e.next=4,a.query({query:v.a.auth.getUser,variables:{uid:o}});case 4:n=e.sent,l=u.a.get(n,"data.users_by_pk"),r({authUser:l});case 7:o||r({authUser:{}}),r({isAuthenticating:!1});case 9:case"end":return e.stop()}}),e)})))()}),[o]),Object(l.useEffect)((function(){r({signIn:function(){var e=Object(d.a)(m.a.mark((function e(t,a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.auth().signInWithEmailAndPassword(t,a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),signOut:function(){return E.a.auth().signOut()}}),E.a.auth().onAuthStateChanged(function(){var e=Object(d.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r({isAuthenticating:!0}),!t){e.next=12;break}return e.next=4,t.getIdToken();case 4:return a=e.sent,e.next=7,t.getIdTokenResult();case 7:n=e.sent,n.claims["https://hasura.io/jwt/claims"]&&r({token:a,uid:t.uid}),e.next=14;break;case 12:r({authUser:{},token:null,uid:""}),r({isAuthenticating:!1});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(l.useEffect)((function(){u.a.isEmpty(c)&&!1!==s&&r({isAuthenticated:!1}),u.a.isEmpty(c)||!0===s||r({isAuthenticated:!0})}),[c]),i.a.createElement(i.a.Fragment,null,t&&t)}E.a.initializeApp({apiKey:"AIzaSyD9LoUcLzcnKOSqUKvqb1rTwM1gJU5D_tc",authDomain:"adultletics-admin.firebaseapp.com",databaseURL:"https://adultletics-admin.firebaseio.com",projectId:"adultletics-admin"}),k.propTypes={children:b.a.node};var y=a(182),_=a(282),w=a(388),j=a(597),O=a(205),C=a(176),x=a(594);function B(e){var t=e.children,a=Object(l.useContext)(f.a.Auth).token,n=new j.a({uri:"https://adultletics-hasura.herokuapp.com/v1/graphql",headers:a?{Authorization:"Bearer ".concat(a)}:{}}),r=new w.a({uri:"wss://adultletics-hasura.herokuapp.com/v1/graphql",options:{reconnect:!0,timeout:3e4,connectionParams:a?{headers:{Authorization:"Bearer ".concat(a)}}:{}}}),c=Object(O.d)((function(e){var t=e.query,a=Object(C.l)(t),n=a.kind,r=a.operation;return"OperationDefinition"===n&&"subscription"===r}),r,n),o=new _.c({link:c,cache:new x.a});return i.a.createElement(y.a,{client:o},t)}var S=a(678),A=a(60),z=a(607),D=a(406),F=a(165);var I=a(682),P=a(610),U=a(681),L=a(611),R=a(237);var T=a(199),V=a(612),Q=a(407),q=a(613),W=a(608);var N=a(231);var M=a(618),Z=a(614),J=a(615),K=a(616),H=a(617),Y=a(675),G=new Date;var X=a(619);var $=function(e,t){var a=t.title,n=t.type,r=u.a.map(e,(function(e){return u.a.lowerCase(e)}));return u.a.reduce(r,(function(e,t){return u.a.lowerCase(a).includes(t)||u.a.lowerCase(n).includes(t)?e+1:e}),0)},ee=function(e){var t,a=e.workout,n=e.matchSize,c=e.onSelect,o=e.selected,s=Object(l.useState)(function(e){var t=u.a.get(e,"versions"),a=u.a.map(t,(function(e){var t=e.version_num;return{label:"v".concat(t),value:t}}));return u.a.reduce(a,(function(e,t){return t.value>e?t.value:e}),0)}(a)),m=Object(r.a)(s,2),d=m[0],g=m[1],b=Object(l.useState)(!0),p=Object(r.a)(b,2),E=p[0],h=p[1],f=u.a.get(a,"title"),v=u.a.get(a,"versions"),k=u.a.get(a,"match"),y=u.a.map(v,(function(e){var t=e.version_num;return{label:"v".concat(t),value:t}})),_=u.a.find(v,["version_num",d]),w=u.a.get(_,"id"),j=E?u.a.truncate(u.a.get(_,"body"),{lenght:100}):u.a.get(_,"body");Object(l.useEffect)((function(){o&&c(w)}),[w]),t=o?{color:"white",background:"#B7D4EF"}:k===n?{background:"white"}:{background:"#66788A"};return i.a.createElement(I.a,{display:"flex",flexDirection:"row",minHeight:32,marginBottom:16},i.a.createElement(I.a,{display:"flex"},i.a.createElement(Q.a,{onChange:function(e){return g(Number(e.target.value))},defaultValue:d},y&&u.a.map(y,(function(e){var t=e.value,a=e.label;return i.a.createElement("option",{key:t,value:t},a)}))),i.a.createElement(q.a,{icon:E?"expand-all":"collapse-all",iconSize:10,appearance:"minimal",onClick:function(e){e.preventDefault(),h(!E)}})),i.a.createElement(I.a,Object.assign({},t,{elevation:1,display:"flex",flex:1,onClick:function(){c(o?"":w)},paddingLeft:16,paddingRight:16,paddingBottom:E?0:16,paddingTop:E?0:16}),i.a.createElement(I.a,{display:"flex",alignItems:"center"},i.a.createElement(P.a,{size:300,marginRight:16},f)),i.a.createElement(I.a,{flex:1,display:"flex",flexDirection:"column",justifyContent:"center"},j&&u.a.map(j.split("\n"),(function(e,t){return e?i.a.createElement(R.a,{key:t},e):i.a.createElement("br",{key:t})})))))},te=a(690),ae=a(37);var ne={"auth/sign-in":function(){var e=Object(l.useContext)(A.c.Auth),t=e.isAuthenticating,a=e.signIn,n=Object(l.useContext)(A.c.UI).closePanel,c=Object(l.useState)(null),o=Object(r.a)(c,2),u=o[0],s=o[1];return i.a.createElement(F.a,{initialValues:{},onSubmit:function(){var e=Object(d.a)(m.a.mark((function e(t){var r,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,l=t.password,s(null),e.prev=2,e.next=5,a(r,l);case 5:n(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0),s(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}()},(function(e){var a=e.values,n=e.handleChange,r=e.handleSubmit,l=e.isSubmitting;return i.a.createElement("form",null,i.a.createElement(z.a,{label:"Email",type:"email",name:"email",onChange:n,autoFocus:!0}),i.a.createElement(z.a,{label:"Password",type:"password",name:"password",onChange:n}),i.a.createElement(D.a,{isLoading:t||l,disabled:!a.email||!a.password,onClick:r},"Log In"),u&&i.a.createElement("p",null,u))}))},"drills/add":function(){var e=Object(h.b)(A.b.drills.add,{refetchQueries:[{query:A.b.drills.getAll}],awaitRefetchQueries:!0}),t=Object(r.a)(e,1)[0],a=Object(l.useContext)(A.c.UI).closePanel,n=Object(l.useState)(null),o=Object(r.a)(n,2),s=o[0],g=o[1],b=Object(c.f)();return i.a.createElement(i.a.Fragment,null,i.a.createElement(I.a,{marginBottom:56},i.a.createElement(P.a,{size:600},"Adding a new drill")),i.a.createElement(F.a,{initialValues:{description:""},onSubmit:function(){var e=Object(d.a)(m.a.mark((function e(n){var r,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(null),e.prev=1,e.next=4,t({variables:{objects:[n]}});case 4:r=e.sent,a(),l=u.a.get(r,"data.insert_drills.returning[0].id"),b.push("/admin/drills/".concat(l)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),g(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},(function(e){var t=e.values,a=e.dirty,n=e.handleChange,r=e.handleSubmit,l=e.isSubmitting;return i.a.createElement(i.a.Fragment,null,i.a.createElement("form",null,i.a.createElement(z.a,{label:"Title",name:"title",onChange:n,autoFocus:!0}),i.a.createElement(z.a,{label:"Url",name:"url",value:t.url,placeholder:"https://youtu.be/nPMB8PZE9F8",onChange:n}),i.a.createElement(U.a,{label:"Workout Description",marginBottom:16},i.a.createElement(L.a,{name:"description",onChange:n})),i.a.createElement(D.a,{iconBefore:l?"":"tick",isLoading:l,disabled:!a||!t.title||!t.url,onClick:r},"Add"),s&&i.a.createElement("p",null,s)),i.a.createElement(I.a,{marginTop:24},i.a.createElement(R.a,null,'To find embed URL: go to the YouTube page, click on Share just below the video display, click on Embed in the pop-up, then select "Enable privacy-enhanced mode" and finally copy the quoted part of the text following "src=" in the text to the right, should look something like "https://www.youtube-nocookie.com/embed/nPMB8PZE9F8"')))})))},"drills/edit":function(e){var t=e.props.id,a=Object(h.c)(A.b.drills.getOne,{variables:{id:t}}),n=a.data,c=a.loading,o=Object(h.b)(A.b.drills.update,{refetchQueries:[{query:A.b.drills.getOne,variables:{id:t}}],awaitRefetchQueries:!0}),s=Object(r.a)(o,1)[0],g=Object(l.useContext)(A.c.UI).closePanel,b=Object(l.useState)(null),p=Object(r.a)(b,2),E=p[0],f=p[1];if(c)return null;var v=u.a.get(n,"drills_by_pk"),k=u.a.get(v,"title"),y=u.a.get(v,"url"),_=u.a.get(v,"embed_url"),w=u.a.get(v,"description");return i.a.createElement(i.a.Fragment,null,i.a.createElement(I.a,{marginBottom:56},i.a.createElement(P.a,{size:600},"Editing challenge: ",k)),i.a.createElement(F.a,{initialValues:{title:k,url:y,embed_url:_,description:u.a.isNull(w)?"":w},onSubmit:function(){var e=Object(d.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(null),e.prev=1,e.next=4,s({variables:{id:t,data:a}});case 4:g(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0),f(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),enableReinitialize:!0},(function(e){var t=e.values,a=e.dirty,n=e.handleChange,r=e.handleSubmit,l=e.isSubmitting;return i.a.createElement(i.a.Fragment,null,i.a.createElement("form",null,i.a.createElement(z.a,{label:"Title",name:"title",value:t.title,onChange:n,autoFocus:!0}),i.a.createElement(z.a,{label:"Url",name:"url",value:t.url,placeholder:"https://youtu.be/nPMB8PZE9F8",onChange:n}),i.a.createElement(U.a,{label:"Workout Description",marginBottom:16},i.a.createElement(L.a,{name:"description",onChange:n,value:t.description})),i.a.createElement(D.a,{iconBefore:l?"":"tick",isLoading:l,disabled:!a||!t.title||!t.url,onClick:r},"Update"),E&&i.a.createElement("p",null,E)),i.a.createElement(I.a,{marginTop:24},i.a.createElement(R.a,null,'To find embed URL: go to the YouTube page, click on Share just below the video display, click on Embed in the pop-up, then select "Enable privacy-enhanced mode" and finally copy the quoted part of the text following "src=" in the text to the right, should look something like "https://www.youtube-nocookie.com/embed/nPMB8PZE9F8"')))})))},"daily-challenges/add":function(){var e=Object(h.b)(A.b.dailyChallenges.add,{refetchQueries:[{query:A.b.dailyChallenges.getAll}],awaitRefetchQueries:!0}),t=Object(r.a)(e,1)[0],a=Object(l.useContext)(A.c.UI).closePanel,n=Object(l.useState)(null),o=Object(r.a)(n,2),s=o[0],g=o[1],b=Object(c.f)();return i.a.createElement(i.a.Fragment,null,i.a.createElement(I.a,{marginBottom:56},i.a.createElement(P.a,{size:600},"Adding a new daily challenge")),i.a.createElement(F.a,{initialValues:{description:""},onSubmit:function(){var e=Object(d.a)(m.a.mark((function e(n){var r,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(null),e.prev=1,e.next=4,t({variables:{objects:[n]}});case 4:r=e.sent,a(),l=u.a.get(r,"data.insert_challenges.returning[0].id"),b.push("/admin/challenges/".concat(l)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0),g(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()},(function(e){var t=e.values,a=e.dirty,n=e.handleChange,r=e.handleSubmit,l=e.isSubmitting;return i.a.createElement(i.a.Fragment,null,i.a.createElement("form",null,i.a.createElement(z.a,{label:"Title",name:"title",onChange:n,autoFocus:!0}),i.a.createElement(U.a,{label:"Description",marginBottom:16},i.a.createElement(L.a,{name:"description",onChange:n})),i.a.createElement(D.a,{iconBefore:l?"":"tick",isLoading:l,disabled:!a||!t.title||!t.description,onClick:r},"Add"),s&&i.a.createElement("p",null,s)))})))},"daily-challenges/edit":function(e){var t=e.props.id,a=Object(h.c)(A.b.dailyChallenges.getOne,{variables:{id:t}}),n=a.data,c=a.loading,o=Object(h.b)(A.b.dailyChallenges.update,{refetchQueries:[{query:A.b.dailyChallenges.getOne,variables:{id:t}}],awaitRefetchQueries:!0}),s=Object(r.a)(o,1)[0],g=Object(l.useContext)(A.c.UI).closePanel,b=Object(l.useState)(null),p=Object(r.a)(b,2),E=p[0],f=p[1];if(c)return null;var v=u.a.get(n,"daily_challenges_by_pk"),k=u.a.get(v,"title"),y=u.a.get(v,"description","");return i.a.createElement(i.a.Fragment,null,i.a.createElement(I.a,{marginBottom:56},i.a.createElement(P.a,{size:600},"Editing challenge: ",k)),i.a.createElement(F.a,{initialValues:{title:k,description:u.a.isNull(y)?"":y},onSubmit:function(){var e=Object(d.a)(m.a.mark((function e(a){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(null),e.prev=1,e.next=4,s({variables:{id:t,data:a}});case 4:g(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0),f(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),enableReinitialize:!0},(function(e){var t=e.values,a=e.dirty,n=e.handleChange,r=e.handleSubmit,l=e.isSubmitting;return i.a.createElement(i.a.Fragment,null,i.a.createElement("form",null,i.a.createElement(z.a,{label:"Title",name:"title",value:t.title,onChange:n,autoFocus:!0}),i.a.createElement(U.a,{label:"Description",marginBottom:16},i.a.createElement(L.a,{name:"description",onChange:n,value:t.description})),i.a.createElement(D.a,{iconBefore:l?"":"tick",isLoading:l,disabled:!a||!t.title||!t.description,onClick:r},"Update"),E&&i.a.createElement("p",null,E)))})))},"workouts/add":function(e){var t=e.props.emit,a=Object(h.c)(A.b.drills.getAll),n=a.data,o=a.loading,s=Object(h.b)(A.b.workouts.addVersion,{refetchQueries:[{query:A.b.workouts.getAll}],awaitRefetchQueries:!0}),g=Object(r.a)(s,1)[0],b=Object(l.useContext)(A.c.Auth).authUser,p=Object(l.useContext)(A.c.UI).closePanel,E=Object(l.useState)(null),f=Object(r.a)(E,2),v=f[0],k=f[1],y=Object(l.useState)([]),_=Object(r.a)(y,2),w=_[0],j=_[1],O=A.d.intensityOptions,C=A.d.workoutTypes,x=Object(c.f)(),B=u.a.get(n,"drills"),S=u.a.filter(B,(function(e){return!u.a.some(w,["id",e.id])}));return o?i.a.createElement(A.a,null):i.a.createElement(i.a.Fragment,null,i.a.createElement(I.a,{marginBottom:56},i.a.createElement(P.a,{size:600},"Adding a new workout")),i.a.createElement(F.a,{initialValues:{running_km:0,running_minutes:0,intensity:"3"},onSubmit:function(){var e=Object(d.a)(m.a.mark((function e(a){var n,r,l,i,c,o,s,d,E;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.title,r=a.body,l=a.stats,i=a.intensity,c=a.type,k(null),e.prev=2,o=u.a.map(w,(function(e){return{_drill:e.id}})),e.next=6,g({variables:{objects:[{version_num:1,_owner:b.id,body:r,workout:{data:{title:n,type:c,intensity:i}},stats:{data:l||{}},drills:{data:o}}]}});case 6:s=e.sent,p(),d=u.a.get(s,"data.insert_workouts_versions.returning[0].id"),E=u.a.get(s,"data.insert_workouts_versions.returning[0].workout.id"),t&&t(d),t||x.push("/admin/workouts/".concat(E)),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),console.error(e.t0),k(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}()},(function(e){var t=e.values,a=e.dirty,n=e.handleChange,r=e.handleSubmit,l=e.isSubmitting,c=e.setFieldValue;return i.a.createElement(i.a.Fragment,null,i.a.createElement("form",null,i.a.createElement(z.a,{label:"Workout Title",name:"title",onChange:n,autoFocus:!0}),i.a.createElement(U.a,{label:"Workout Intensity",onChange:function(e){return c("intensity",e.target.value)},marginBottom:16},i.a.createElement(I.a,{display:"flex",flexDirection:"row",justifyContent:"space-between"},u.a.map(O,(function(e){var a=e.label,n=e.value;return i.a.createElement(V.a,{key:n,name:"intensity",value:n,label:a,checked:n===t.intensity})})))),i.a.createElement(U.a,{label:"Workout Type",marginBottom:16},i.a.createElement(Q.a,{name:"type",value:t.type,onChange:n,height:32},i.a.createElement("option",{key:"empty",value:""},"Please select an option..."),C&&u.a.map(C,(function(e){var t=e.value,a=e.label;return i.a.createElement("option",{key:t,value:t},a)})))),i.a.createElement(U.a,{label:"Add Drills to Workout",marginBottom:16},i.a.createElement(I.a,{marginBottom:8,display:"flex",justifyContent:"space-between"},i.a.createElement(Q.a,{name:"drill",value:t.drill,onChange:n,height:32},i.a.createElement("option",{key:"empty",value:""},"Please select an option..."),S&&u.a.map(S,(function(e){var t=e.id,a=e.title;return i.a.createElement("option",{key:t,value:t},a)}))),i.a.createElement(D.a,{iconBefore:"tick",disabled:!t.drill,onClick:function(e){e.preventDefault(),j([].concat(Object(T.a)(w),[u.a.find(B,["id",t.drill])]))},marginRight:8,marginLeft:8},"Attach drill")),i.a.createElement(I.a,null,v&&i.a.createElement("p",null,v))),i.a.createElement(U.a,{label:"Selected Drills",marginBottom:16},i.a.createElement(I.a,null,u.a.isEmpty(w)?i.a.createElement(W.a,{marginBottom:16},"No drills selected"):u.a.map(w,(function(e){var t=e.id,a=e.title;return i.a.createElement(I.a,{display:"flex",flexDirection:"row",elevation:1,height:32,alignItems:"center",background:"white",marginBottom:16,key:t,paddingLeft:16,paddingRight:8},i.a.createElement(R.a,{flex:1},a),i.a.createElement(q.a,{icon:"small-cross",intent:"danger",appearance:"minimal",onClick:function(e){e.preventDefault(),j(u.a.filter(w,(function(e){return e.id!==t})))}}))})))),i.a.createElement(U.a,{label:"Workout Description",marginBottom:16},i.a.createElement(L.a,{name:"body",onChange:n,rows:24})),i.a.createElement(U.a,{label:"Stats",marginBottom:16},i.a.createElement("table",{className:"stats-input-table"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null),i.a.createElement("th",{colSpan:2},i.a.createElement(P.a,{size:200},"5/10km")),i.a.createElement("th",{colSpan:2},i.a.createElement(P.a,{size:200},"half/ultra")))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement(P.a,{size:200},"Beginner")),i.a.createElement("td",null,i.a.createElement(z.a,{label:"km",name:"stats.running_km_beginner_short",type:"number",onChange:n})),i.a.createElement("td",null,i.a.createElement(z.a,{label:"mins",name:"stats.running_minutes_beginner_short",type:"number",onChange:n})),i.a.createElement("td",null,i.a.createElement(z.a,{label:"km",name:"stats.running_km_beginner_long",type:"number",onChange:n})),i.a.createElement("td",null,i.a.createElement(z.a,{label:"mins",name:"stats.running_minutes_beginner_long",type:"number",onChange:n}))),i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement(P.a,{size:200},"Intermediate")),i.a.createElement("td",null,i.a.createElement(z.a,{label:"km",name:"stats.running_km_intermediate_short",type:"number",onChange:n})),i.a.createElement("td",null,i.a.createElement(z.a,{label:"mins",name:"stats.running_minutes_intermediate_short",type:"number",onChange:n})),i.a.createElement("td",null,i.a.createElement(z.a,{label:"km",name:"stats.running_km_intermediate_long",type:"number",onChange:n})),i.a.createElement("td",null,i.a.createElement(z.a,{label:"mins",name:"stats.running_minutes_intermediate_long",type:"number",onChange:n}))),i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement(P.a,{size:200},"Advanced")),i.a.createElement("td",null,i.a.createElement(z.a,{label:"km",name:"stats.running_km_advanced_short",type:"number",onChange:n})),i.a.createElement("td",null,i.a.createElement(z.a,{label:"mins",name:"stats.running_minutes_advanced_short",type:"number",onChange:n})),i.a.createElement("td",null,i.a.createElement(z.a,{label:"km",name:"stats.running_km_advanced_long",type:"number",onChange:n})),i.a.createElement("td",null,i.a.createElement(z.a,{label:"mins",name:"stats.running_minutes_advanced_long",type:"number",onChange:n})))))),i.a.createElement(D.a,{iconBefore:l?"":"tick",isLoading:l,disabled:!a||!t.title,onClick:r},"Add"),v&&i.a.createElement("p",null,v)))})))},"workouts/add-version":function(e){var t=e.props,a=t.id,c=t.workoutId,o=t.emit,s=Object(h.c)(A.b.workouts.getOne,{variables:{id:c}}),g=s.data,b=s.loading,p=Object(h.c)(A.b.drills.getAll),E=p.data,f=p.loading,v=Object(h.c)(A.b.workouts.getVersion,{variables:{id:a}}),k=v.data,y=v.loading,_=Object(h.b)(A.b.workouts.addVersion),w=Object(r.a)(_,1)[0],j=Object(l.useState)([]),O=Object(r.a)(j,2),C=O[0],x=O[1],B=Object(l.useContext)(A.c.UI).closePanel,S=Object(l.useContext)(A.c.Auth).authUser,V=Object(l.useState)(null),N=Object(r.a)(V,2),M=N[0],Z=N[1],J=u.a.get(k,"workouts_versions_by_pk");if(Object(l.useEffect)((function(){return x(u.a.map(u.a.get(J,"drills",[]),"drill"))}),[J]),y||b||f)return i.a.createElement(A.a,null);var K=u.a.reduce(u.a.get(g,"workouts_by_pk.versions"),(function(e,t){return t.version_num>e?t.version_num:e}),0)+1,H={body:u.a.get(J,"body"),running_km:u.a.get(J,"stats.running_km",0),running_minutes:u.a.get(J,"stats.running_minutes",0)},Y=u.a.get(E,"drills"),G=u.a.filter(Y,(function(e){return!u.a.some(C,["id",e.id])}));return i.a.createElement(i.a.Fragment,null,i.a.createElement(I.a,{marginBottom:56},i.a.createElement(P.a,{size:600},"Adding a new version of workout: ",u.a.get(J,"workout.title",""))),i.a.createElement(F.a,{initialValues:Object(n.a)({},H),onSubmit:function(){var e=Object(d.a)(m.a.mark((function e(t){var a,n,r,l,i;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.body,n=t.stats,Z(null),e.prev=2,r=u.a.map(C,(function(e){return{_drill:e.id}})),e.next=6,w({variables:{objects:[{body:a,version_num:K,_workout:c,_owner:S.id,stats:{data:n||{}},drills:{data:r}}]}});case 6:l=e.sent,B(),i=u.a.get(l,"data.insert_workouts_versions.returning[0].id"),o&&o(i),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0),Z(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}()},(function(e){var t=e.values,a=e.dirty,n=e.handleChange,r=e.handleSubmit,l=e.isSubmitting;return i.a.createElement(i.a.Fragment,null,i.a.createElement("form",null,i.a.createElement(U.a,{label:"Workout Description",marginBottom:8},i.a.createElement(L.a,{name:"body",value:t.body,onChange:n,rows:24})),i.a.createElement(U.a,{label:"Add Drills",marginBottom:16},i.a.createElement(I.a,{marginBottom:8,display:"flex",justifyContent:"space-between"},i.a.createElement(Q.a,{name:"drill",value:t.drill,onChange:n,height:32},i.a.createElement("option",{key:"empty",value:""},"Please select an option..."),G&&u.a.map(G,(function(e){var t=e.id,a=e.title;return i.a.createElement("option",{key:t,value:t},a)}))),i.a.createElement(D.a,{iconBefore:"tick",disabled:!t.drill,onClick:function(e){e.preventDefault(),x([].concat(Object(T.a)(C),[u.a.find(Y,["id",t.drill])]))},marginRight:8,marginLeft:8},"Attach drill")),i.a.createElement(I.a,null,M&&i.a.createElement("p",null,M))),i.a.createElement(U.a,{label:"Selected drills",marginBottom:16},i.a.createElement(I.a,null,u.a.isEmpty(C)?i.a.createElement(W.a,{marginBottom:16},"No drills selected"):u.a.map(C,(function(e){var t=e.id,a=e.title;return i.a.createElement(I.a,{display:"flex",flexDirection:"row",elevation:1,height:32,alignItems:"center",background:"white",marginBottom:16,key:t,paddingLeft:16,paddingRight:8},i.a.createElement(R.a,{flex:1},a),i.a.createElement(q.a,{icon:"small-cross",intent:"danger",appearance:"minimal",onClick:function(e){e.preventDefault(),x(u.a.filter(C,(function(e){return e.id!==t})))}}))})))),i.a.createElement(U.a,{label:"Stats",marginBottom:16},i.a.createElement("table",{className:"stats-input-table"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null),i.a.createElement("th",{colSpan:2},i.a.createElement(P.a,{size:200},"5/10km")),i.a.createElement("th",{colSpan:2},i.a.createElement(P.a,{size:200},"half/ultra")))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement(P.a,{size:200},"Beginner")),i.a.createElement("td",null,i.a.createElement(z.a,{label:"km",name:"stats.running_km_beginner_short",type:"number",onChange:n})),i.a.createElement("td",null,i.a.createElement(z.a,{label:"mins",name:"stats.running_minutes_beginner_short",type:"number",onChange:n})),i.a.createElement("td",null,i.a.createElement(z.a,{label:"km",name:"stats.running_km_beginner_long",type:"number",onChange:n})),i.a.createElement("td",null,i.a.createElement(z.a,{label:"mins",name:"stats.running_minutes_beginner_long",type:"number",onChange:n}))),i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement(P.a,{size:200},"Intermediate")),i.a.createElement("td",null,i.a.createElement(z.a,{label:"km",name:"stats.running_km_intermediate_short",type:"number",onChange:n})),i.a.createElement("td",null,i.a.createElement(z.a,{label:"mins",name:"stats.running_minutes_intermediate_short",type:"number",onChange:n})),i.a.createElement("td",null,i.a.createElement(z.a,{label:"km",name:"stats.running_km_intermediate_long",type:"number",onChange:n})),i.a.createElement("td",null,i.a.createElement(z.a,{label:"mins",name:"stats.running_minutes_intermediate_long",type:"number",onChange:n}))),i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement(P.a,{size:200},"Advanced")),i.a.createElement("td",null,i.a.createElement(z.a,{label:"km",name:"stats.running_km_advanced_short",type:"number",onChange:n})),i.a.createElement("td",null,i.a.createElement(z.a,{label:"mins",name:"stats.running_minutes_advanced_short",type:"number",onChange:n})),i.a.createElement("td",null,i.a.createElement(z.a,{label:"km",name:"stats.running_km_advanced_long",type:"number",onChange:n})),i.a.createElement("td",null,i.a.createElement(z.a,{label:"mins",name:"stats.running_minutes_advanced_long",type:"number",onChange:n})))))),i.a.createElement(D.a,{iconBefore:l?"":"tick",isLoading:l,disabled:!a,onClick:r},"Add"),M&&i.a.createElement("p",null,M)))})))},"workouts/edit":function(e){var t=e.props.id,a=Object(h.c)(A.b.workouts.getVersion,{variables:{id:t}}),c=a.data,o=a.loading,s=Object(h.c)(A.b.drills.getAll),g=s.data,b=s.loading,p=Object(h.b)(A.b.workouts.updateVersion,{refetchQueries:[{query:A.b.workouts.getVersion,variables:{id:t}}],awaitRefetchQueries:!0}),E=Object(r.a)(p,1)[0],f=Object(h.b)(A.b.workouts.addDrill,{refetchQueries:[{query:A.b.workouts.getVersion,variables:{id:t}}],awaitRefetchQueries:!0}),v=Object(r.a)(f,2),k=v[0],y=v[1].addDrillsLoading,_=Object(h.b)(A.b.workouts.removeDrill,{refetchQueries:[{query:A.b.workouts.getVersion,variables:{id:t}}],awaitRefetchQueries:!0}),w=Object(r.a)(_,1)[0],j=Object(l.useContext)(A.c.UI).closePanel,O=Object(l.useState)(null),C=Object(r.a)(O,2),x=C[0],B=C[1],S=A.d.intensityOptions,T=A.d.workoutTypes;if(o||b)return i.a.createElement(A.a,null);var M=u.a.get(c,"workouts_versions_by_pk"),Z={body:u.a.get(M,"body"),title:u.a.get(M,"workout.title",""),stats:u.a.reduce(u.a.get(M,"stats",{}),(function(e,t,a){return Object(n.a)({},e,Object(N.a)({},a,u.a.isNull(t)?"":t))}),{}),intensity:u.a.get(M,"workout.intensity","3"),type:u.a.get(M,"workout.type","")},J=u.a.get(M,"drills",[]),K=u.a.map(J,(function(e){return Object(n.a)({workoutsDrillId:e.id},e.drill)})),H=u.a.get(g,"drills"),Y=u.a.filter(H,(function(e){return!u.a.some(K,["id",e.id])}));return i.a.createElement(i.a.Fragment,null,i.a.createElement(I.a,{marginBottom:56},i.a.createElement(P.a,{size:600},"Editing version ",u.a.get(M,"version_num")," of workout: ",u.a.get(M,"workout.title",""))),i.a.createElement(F.a,{initialValues:Object(n.a)({},Z),onSubmit:function(){var e=Object(d.a)(m.a.mark((function e(a){var r,l,i,c,o,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.title,l=a.body,i=a.stats,c=a.type,o=a.intensity,B(null),e.prev=2,s=u.a.reduce(i,(function(e,t,a){return"id"===a||"__typename"===a?e:Object(n.a)({},e,Object(N.a)({},a,""===t?null:t))}),{}),e.next=6,E({variables:{version_id:t,workout_id:u.a.get(M,"workout.id"),stats_id:u.a.get(M,"stats.id"),body:l,workout_data:{title:r,type:c,intensity:o},stats_data:s}});case 6:j(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0),B(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},(function(e){var t=e.values,a=e.dirty,n=e.handleChange,r=e.handleSubmit,l=e.isSubmitting,c=e.setFieldValue;return i.a.createElement(i.a.Fragment,null,i.a.createElement("form",null,i.a.createElement(z.a,{label:"Workout Title (effects all versions)",name:"title",value:t.title,onChange:n,autoFocus:!0}),i.a.createElement(U.a,{label:"Workout Intensity (effects all versions)",onChange:function(e){return c("intensity",e.target.value)},marginBottom:16},i.a.createElement(I.a,{display:"flex",flexDirection:"row",justifyContent:"space-between"},u.a.map(S,(function(e){var a=e.label,n=e.value;return i.a.createElement(V.a,{key:n,name:"intensity",value:n,label:a,checked:n===t.intensity})})))),i.a.createElement(U.a,{label:"Workout Type (effects all versions)",marginBottom:16},i.a.createElement(Q.a,{name:"type",value:t.type,onChange:n,height:32},i.a.createElement("option",{key:"empty",value:""},"Please select an option..."),T&&u.a.map(T,(function(e){var t=e.value,a=e.label;return i.a.createElement("option",{key:t,value:t},a)})))),i.a.createElement(U.a,{label:"Add Drills",marginBottom:16},i.a.createElement(I.a,{marginBottom:8,display:"flex",justifyContent:"space-between"},i.a.createElement(Q.a,{name:"drill",value:t.drill,onChange:n,height:32},i.a.createElement("option",{key:"empty",value:""},"Please select an option..."),Y&&u.a.map(Y,(function(e){var t=e.id,a=e.title;return i.a.createElement("option",{key:t,value:t},a)}))),i.a.createElement(D.a,{iconBefore:y?"":"tick",isLoading:y,disabled:!t.drill,onClick:function(e){e.preventDefault(),k({variables:{objects:[{_drill:t.drill,_workouts_version:u.a.get(M,"id")}]}})},marginRight:8,marginLeft:8},"Attach drill")),i.a.createElement(I.a,null,x&&i.a.createElement("p",null,x))),i.a.createElement(U.a,{label:"Selected drills",marginBottom:16},i.a.createElement(I.a,null,u.a.isEmpty(K)?i.a.createElement(W.a,{marginBottom:16},"No drills selected"):u.a.map(K,(function(e){var t=e.id,a=e.title,n=e.workoutsDrillId;return i.a.createElement(I.a,{display:"flex",flexDirection:"row",elevation:1,height:32,alignItems:"center",background:"white",marginBottom:16,key:t,paddingLeft:16,paddingRight:8},i.a.createElement(R.a,{flex:1},a),i.a.createElement(q.a,{icon:"small-cross",intent:"danger",appearance:"minimal",onClick:function(e){e.preventDefault(),w({variables:{id:n}})}}))})))),i.a.createElement(U.a,{label:"Workout Description",marginBottom:16},i.a.createElement(L.a,{name:"body",value:t.body,onChange:n,rows:24})),i.a.createElement(U.a,{label:"Stats",marginBottom:16},i.a.createElement("table",{className:"stats-input-table"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null),i.a.createElement("th",{colSpan:2},i.a.createElement(P.a,{size:200},"5/10km")),i.a.createElement("th",{colSpan:2},i.a.createElement(P.a,{size:200},"half/ultra")))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement(P.a,{size:200},"Beginner")),i.a.createElement("td",null,i.a.createElement(z.a,{label:"km",name:"stats.running_km_beginner_short",value:t.stats.running_km_beginner_short,type:"number",onChange:n})),i.a.createElement("td",null,i.a.createElement(z.a,{label:"mins",name:"stats.running_minutes_beginner_short",value:t.stats.running_minutes_beginner_short,type:"number",onChange:n})),i.a.createElement("td",null,i.a.createElement(z.a,{label:"km",name:"stats.running_km_beginner_long",value:t.stats.running_km_beginner_long,type:"number",onChange:n})),i.a.createElement("td",null,i.a.createElement(z.a,{label:"mins",name:"stats.running_minutes_beginner_long",value:t.stats.running_minutes_beginner_long,type:"number",onChange:n}))),i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement(P.a,{size:200},"Intermediate")),i.a.createElement("td",null,i.a.createElement(z.a,{label:"km",name:"stats.running_km_intermediate_short",value:t.stats.running_km_intermediate_short,type:"number",onChange:n})),i.a.createElement("td",null,i.a.createElement(z.a,{label:"mins",name:"stats.running_minutes_intermediate_short",value:t.stats.running_minutes_intermediate_short,type:"number",onChange:n})),i.a.createElement("td",null,i.a.createElement(z.a,{label:"km",name:"stats.running_km_intermediate_long",value:t.stats.running_km_intermediate_long,type:"number",onChange:n})),i.a.createElement("td",null,i.a.createElement(z.a,{label:"mins",name:"stats.running_minutes_intermediate_long",value:t.stats.running_minutes_intermediate_long,type:"number",onChange:n}))),i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement(P.a,{size:200},"Advanced")),i.a.createElement("td",null,i.a.createElement(z.a,{label:"km",name:"stats.running_km_advanced_short",value:t.stats.running_km_advanced_short,type:"number",onChange:n})),i.a.createElement("td",null,i.a.createElement(z.a,{label:"mins",name:"stats.running_minutes_advanced_short",value:t.stats.running_minutes_advanced_short,type:"number",onChange:n})),i.a.createElement("td",null,i.a.createElement(z.a,{label:"km",name:"stats.running_km_advanced_long",value:t.stats.running_km_advanced_long,type:"number",onChange:n})),i.a.createElement("td",null,i.a.createElement(z.a,{label:"mins",name:"stats.running_minutes_advanced_long",value:t.stats.running_minutes_advanced_long,type:"number",onChange:n})))))),i.a.createElement(D.a,{iconBefore:l?"":"tick",isLoading:l,disabled:!a,onClick:r},"Update"),x&&i.a.createElement("p",null,x)))})))},"weeks/add":function(){var e=Object(h.c)(A.b.days.getAll),t=e.data,a=e.loading,n=Object(h.c)(A.b.weeks.getAll),o=n.data,s=n.loading,g=Object(h.b)(A.b.weeks.add,{refetchQueries:[{query:A.b.weeks.getAll}],awaitRefetchQueries:!0}),b=Object(r.a)(g,1)[0],p=Object(l.useContext)(A.c.Auth).authUser,E=Object(l.useContext)(A.c.UI).closePanel,f=Object(l.useState)(null),v=Object(r.a)(f,2),k=v[0],y=v[1],_=Object(c.f)();if(a||s)return null;var w=u.a.map(u.a.get(o,"weeks"),(function(e){var t=e.week_start;return Object(Z.a)(Object(J.a)(t))})),j=u.a.map(u.a.range(7,29,7),(function(e){var t=Object(K.a)(Object(H.a)(G,{weekStartsOn:1}),e);return{value:Object(Z.a)(t),label:"Week starting: ".concat(Object(Y.a)(t,"do MMMM")),disabled:w.includes(Object(Z.a)(t))}}));return i.a.createElement(i.a.Fragment,null,i.a.createElement(I.a,{marginBottom:56},i.a.createElement(P.a,{size:600},"Adding a new week")),i.a.createElement(F.a,{initialValues:{},onSubmit:function(){var e=Object(d.a)(m.a.mark((function e(a){var n,r,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.week_start,y(null),e.prev=2,e.next=5,b({variables:{objects:[{_owner:p.id,title:u.a.get(u.a.find(j,["value",n]),"label"),week_start:n,days:{data:u.a.map(u.a.get(t,"days"),(function(e){return{_day:e.id}}))}}]}});case 5:r=e.sent,E(),l=u.a.get(r,"data.insert_weeks.returning[0].id"),_.push("/admin/weeks/".concat(l)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0),y(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},(function(e){var t=e.values,a=e.dirty,n=e.handleChange,r=e.handleSubmit,l=e.isSubmitting;return i.a.createElement(i.a.Fragment,null,i.a.createElement("form",null,i.a.createElement(M.a,{label:"Please choose which upcoming week to create",name:"week_start",value:t.type,onChange:n,height:40},i.a.createElement("option",{key:"empty",value:""},"Please select an option..."),j&&u.a.map(j,(function(e){var t=e.value,a=e.label,n=e.disabled;return i.a.createElement("option",{key:t,value:t,disabled:n},a)}))),i.a.createElement(D.a,{iconBefore:l?"":"tick",isLoading:l,disabled:!a||!t.week_start,onClick:r},"Add"),k&&i.a.createElement("p",null,k)))})))},"weeks/update-workout":function(e){var t=e.props,a=t.id,c=t.title,o=t.weekId,s=Object(h.c)(A.b.workouts.getAll),g=s.data,b=s.loading,p=Object(h.b)(A.b.weeks.updateWeekday,{refetchQueries:[{query:A.b.weeks.getOne,id:o}],awaitRefetchQueries:!0}),E=Object(r.a)(p,1)[0],f=Object(l.useContext)(A.c.UI),v=f.closePanel,k=f.openPanel,y=Object(l.useState)(null),_=Object(r.a)(y,2),w=_[0],j=_[1],O=Object(l.useState)(""),C=Object(r.a)(O,2),x=C[0],B=C[1],S=Object(l.useState)(""),z=Object(r.a)(S,2),U=z[0],L=z[1],R=Object(l.useState)(""),T=Object(r.a)(R,2),V=T[0],Q=T[1],q=u.a.get(g,"workouts"),W=u.a.find(q,(function(e){var t=e.versions;return u.a.some(t,["id",V])})),N=u.a.get(W,"id");Object(l.useEffect)((function(){return L(u.a.orderBy(u.a.map(q,(function(e){return Object(n.a)({},e,{match:$(x,e)})})),["match"],["desc"]))}),[x,q]);var M=function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),j(null),e.prev=2,e.next=5,E({variables:{id:a,data:{_workouts_version:null}}});case 5:v(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0),j(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return b?i.a.createElement(A.a,null):i.a.createElement(i.a.Fragment,null,i.a.createElement(I.a,{marginBottom:56,display:"flex",justifyContent:"space-between"},i.a.createElement(P.a,{size:600},"Updating Workout for ",c),i.a.createElement(D.a,{marginLeft:8,iconBefore:"plus",onClick:function(){v(),setTimeout((function(){return k({panel:"workouts/add",size:"wide",props:{emit:function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E({variables:{id:a,data:{_workouts_version:t}}});case 3:v(),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0),j(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()}})}),200)}},"Create workout")),i.a.createElement(F.a,{initialValues:{},onSubmit:Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(null),e.prev=1,e.next=4,E({variables:{id:a,data:{_workouts_version:V}}});case 4:v(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0),j(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})))},(function(e){var t=e.handleSubmit,a=e.isSubmitting;return i.a.createElement(i.a.Fragment,null,i.a.createElement("form",null,i.a.createElement(I.a,{marginBottom:48},i.a.createElement(X.a,{placeholder:"Filter available workouts on title and type",width:"100%",onChange:function(e){return B(e.target.value.split(" "))}})),i.a.createElement(I.a,{display:"flex",justifyContent:"space-between",marginBottom:32},i.a.createElement(D.a,{type:"submit",iconBefore:a?"":"tick",isLoading:a,disabled:!V,onClick:t},"Add / Update Workout"),i.a.createElement(D.a,{iconBefore:a?"":"cross",intent:"danger",isLoading:a,onClick:M},"Clear Day"),w&&i.a.createElement("p",null,w)),i.a.createElement(I.a,null,!u.a.isEmpty(U)&&u.a.map(U,(function(e){return i.a.createElement(ee,{key:e.id,workout:e,matchSize:u.a.size(x),onSelect:Q,selected:e.id===N})})))))})))},"weeks/view-workout-version":function(e){var t=e.props.id,a=A.d.intensityOptions,n=A.d.workoutTypes,r=Object(h.c)(A.b.workouts.getVersion,{variables:{id:t}}),l=r.data;if(r.loading)return i.a.createElement(A.a,null);var c=u.a.get(l,"workouts_versions_by_pk"),o=u.a.get(c,"version_num"),s=u.a.get(c,"body"),m=u.a.map(u.a.get(c,"drills",[]),"drill"),d=u.a.get(c,"workout"),g=u.a.get(d,"title"),b=u.a.get(d,"type"),p=u.a.get(d,"intensity"),E=u.a.get(u.a.find(a,["value",p]),"label",""),f=u.a.get(u.a.find(n,["value",b]),"label","");return i.a.createElement(i.a.Fragment,null,i.a.createElement(I.a,{marginBottom:32,display:"flex",flexDirection:"row",alignItems:"center"},i.a.createElement(I.a,{marginRight:16},i.a.createElement(P.a,{size:600},g," - version ",o)),i.a.createElement(I.a,{flex:1},i.a.createElement(te.a,{marginRight:8,color:"blue"},f),i.a.createElement(te.a,{color:"blue"},E))),i.a.createElement(I.a,{background:"white",padding:32,marginBottom:32,elevation:1},i.a.createElement(P.a,{marginBottom:16,size:200},"Description:"),s&&u.a.map(s.split("\n"),(function(e,t){return e?i.a.createElement(W.a,{key:t},e):i.a.createElement("br",{key:t})}))),i.a.createElement(I.a,{marginBottom:32},i.a.createElement(P.a,{size:200,marginBottom:16},"Drills:"),u.a.isEmpty(m)?i.a.createElement(W.a,null,"No attached drills"):u.a.map(m,(function(e){var t=e.id,a=e.title;return i.a.createElement(ae.b,{to:"/admin/drills/".concat(t),key:t,style:{marginBottom:"24px"}},i.a.createElement(I.a,{display:"flex",elevation:1,height:48,alignItems:"center",background:"white",marginBottom:16},i.a.createElement(R.a,{marginLeft:24},a)))}))))}},re={wide:930,normal:620};function le(){var e=Object(l.useContext)(A.c.UI),t=e.panel,a=e.closePanel,n=!u.a.isEmpty(t),r=ne[u.a.get(t,"panel",!1)],c=u.a.get(t,"props",{}),o=re[u.a.get(t,"size","normal")];return i.a.createElement(i.a.Fragment,null,i.a.createElement(S.a,{isShown:n,onCloseComplete:a,preventBodyScrolling:!0,width:o},i.a.createElement("div",{className:"v-panel"},n&&r&&i.a.createElement(r,{props:c}))))}var ie=Object(l.lazy)((function(){return Promise.all([a.e(3),a.e(8)]).then(a.bind(null,677))}));function ce(){var e=f.a.Auth,t=Object(l.useState)({authUser:{},token:"",uid:"",isAuthenticating:!0,isAuthenticated:!1,updateAuth:function(e){return o((function(t){return Object(n.a)({},t,{},e)}))},signIn:function(){},signOut:function(){}}),a=Object(r.a)(t,2),c=a[0],o=a[1];return i.a.createElement(e.Provider,{value:c},i.a.createElement(B,null,i.a.createElement(k,null,i.a.createElement(oe,null))))}function oe(){var e=f.a.UI,t=Object(l.useState)({panel:{},openPanel:function(e){return s((function(t){return Object(n.a)({},t,{panel:e})}))},closePanel:function(){return s((function(e){return Object(n.a)({},e,{panel:{}})}))},breakpoint:ue(),setBreakpoint:function(e){return s((function(t){return Object(n.a)({},t,{breakpoint:e})}))}}),a=Object(r.a)(t,2),o=a[0],s=a[1],m=o.setBreakpoint;return Object(l.useEffect)((function(){return window.addEventListener("resize",u.a.debounce((function(){return m(ue())}),1e3))}),[m]),i.a.createElement(e.Provider,{value:o},i.a.createElement(le,null),i.a.createElement(I.a,{background:"tint1",minHeight:"100vh"},i.a.createElement("div",{className:"v-router"},i.a.createElement(c.c,null,i.a.createElement(c.a,{path:"/admin",component:ie}),i.a.createElement(c.a,{path:"*",component:se})))))}var ue=function(){var e=window.innerWidth;return e<=640?"small":e<=1008?"medium":"large"},se=function(){return Object(c.f)().push("/"),i.a.createElement(i.a.Fragment,null)}}}]);
//# sourceMappingURL=9.59d0f1e8.chunk.js.map